@using System.Collections.Generic;
@using WBBEntity.PanelModels;
@using System.Text.RegularExpressions;
@using WBBEntity.Extensions;

@model WBBEntity.PanelModels.QuickWinPanelModel

@using WBBEntity.PanelModels;
@{
    string hFBB003 = "";
    string H_FBBTR002 = "";
    string L_PAGE_DATE_FROM = "Date From";
    string L_PAGE_DATE_TO = "Date To";

    string L_GRID_NO = "NO";
    string L_GRID_ID_CARD_NO = "ID Card No";
    string L_GRID_REQUEST_STATUS = "Request Status";
    string L_GRID_NO_OFF_SEND = "No of Send";
    string L_GRID_ORDER_DATE = "Order Date";
    string L_GRID_RESEND_DATE = "Resend Date";
    string L_GRID_DORMITORY_VIEW = "xxx";

    string L_PAGE_CANCEL = "Clear";
    string L_PAGE_SEARCH = "Search";
    string L_PAGE_VIEW = "Edit";
    string L_PAGE_SEARCH_PANEL = "Search Re Send Order";
    string L_PAGE_NAME = "Re send order";

    string lYOUR_PACK = "";
    string lMAIN_PACK = "";
    string lONTOP_PACK = "";
    string lRESIDENTIAL = "";
    string lGOVERNMENT = "";
    string lBUSINESS = "";
    string lFIRST_NAME = "";
    string lLAST_NAME = "";
    string lCARD_TYPE = "";
    string lCARD_NO = "";
    string lGENDER = "";
    string lBIRTHDAY = "";
    string lCONTACT_PHONE = "";
    string lHOME_PHONE = "";
    string lMOBILE = "";
    string lOR = "";
    string lSPECIFIC_TIME = "";
    string lEMAIL = "";
    string lREMARK = "";
    string lFOR_OFFICER_ONLY = "";
    string lFOR_OFFICER = "";
    string lLOC_CODE = "";
    string lEVENT_CODE = "";
    string lCPE_SERIAL = "";
    string lPLAYBOX_SERIAL = "";
    string lASC_CODE = "";
    string lSTAFF_ID = "";
    string lSALE_REP = "";
    string lFOR_CS_TEAM = "";
    string lGOVERNMENT_NAME = "";
    string lFILL_VAT = "";
    string lFILL_VAT_B = "";
    string lCONTACT_PERSON = "";
    string lNATIONALITY = "";
    string lADDING_ADDR = "";
    string lBUILD_CONDO = "";
    string lTOP_TERRACE = "";
    string lTERRACE = "";
    string lTERRACE_DIRECTION = "";
    string lNORTH = "";
    string lSOUTH = "";
    string lEAST = "";
    string lWEST = "";
    string lTYPE_ADDR = "";
    string lHOUSE = "";
    string lTOWN_HOME = "";
    string lOFF_BUILD = "";
    string lINSTALL_ADDR = "";
    string lBILLING_ADDR = "";
    string lSAME_AS_ADDR = "";
    string lTITLE = "";
    string lDATE_OF_BIRTH = "";
    string lMONTH_OF_BIRTH = "";
    string lYEAR_OF_BIRTH = "";
    string lINSTALLATION_DATE = "";
    string lMONTH = "";
    string lYEAR = "";
    string lEXT_NUMBER = "";
    string lNUM_OF_FLOOR = "";
    string lFLOOR_8 = "";
    string lFLOOR_12 = "";
    string lFLOOR_13 = "";
    string lCONDO_AREA = "";
    string lHOUSE_AREA = "";
    string lBUILDING = "";
    string lTREE = "";
    string lBILLBOARD = "";
    string lEXPRESSWAY = "";
    string lVAT_ADDR = "";
    string lPROVINCE = "";
    string lTUMBOL = "";
    string lAMPHUR = "";
    string lMOOBAN = "";
    string lHOME_NUMBER_1 = "";
    string lHOME_NUMBER_2 = "";
    string lMOO = "";
    string lSOI = "";
    string lROAD = "";
    string lZIPCODE = "";
    string lBUILD_NAME = "";
    string lFLOOR = "";
    string lROOM = "";
    string lFIXEDLINE = "";
    string lINSTALLATION_DATE_NUMBER = "";
    string lBROWSE = "";
    string lREMOVE = "";
    string lFILE_NAME = "";
    string lEVENT_CODE_ERR = "";
    string lLIMIT_FILE = "";
    string L_ONTOP_PLAYBOX_PRE_INITIATION = "";
    string lCHECK_EVENT_CODE = "";

    string lCOPY_ID_CARD_MASS = "";
    string lCOPY_GOV_LET = "";
    string lCOPY_AUT_SIG = "";
    string lCOPY_OTHER_G = "";
    string lCOPY_CERT_LET = "";
    string lCOPY_DIREC_ID_CARD = "";
    string lCOPY_ASS_ID_CARD = "";
    string lCOPY_OTHER_B = "";
    string lCOPY_SERVICE_FEES = "";

    string lFILE_SIZE = "";
    string lFILE_TYPE = "";
    string lERR_FILE_SIZE = "";
    string lERR_FILE_TYPE = "";
    string lBILL_BRAND = "";

    string FBB_Con_CharNotonName = "";
    string FBB_Con_CharNotOnNameLastName = "";
    string FBB_InputCompanyName = "";
    string FBB_Con_IDCardNumberNonRes = "";
    string FBB_Con_LengthIDCardNumberHILL_CARD = "";
    string FBB_Con_LengthIDCardNumberID_CARD = "";
    string FBB_Con_LengthIDCardNumberIMM_CARD = "";
    string FBB_Con_LengthIDCardNumberMONK_CERT = "";
    string FBB_Con_MobileLength = "";
    var FBB_Input_MobileNo = "";
    string FBB_Con_YearLimitHigh = "";
    string FBB_Con_YearLimitLow = "";
    string FBB_Exc_1 = "";
    string FBB_Exc_D = "";
    string FBB_Exc_F = "";
    string FBB_Exc_I = "";
    string FBB_Exc_S = "";

    string FBB_Con_Input_CERT_FOUND = "";
    string FBB_Con_Input_EMB_LET = "";
    string FBB_Con_Input_HILL_CARD = "";
    string FBB_Con_Input_ID_CARD = "";
    string FBB_Con_Input_IMM_CARD = "";
    string FBB_Con_Input_MONK_CERT = "";
    string FBB_Con_Input_PASSPORT = "";
    string FBB_Con_Input_ROY_LET = "";
    string FBB_Con_Input_STA_LET = "";
    string FBB_Con_Input_TAX_ID = "";
    string FBB_Con_Input_GOV_LET = "";
    string FBB_Con_Input_Home_Number = "";
    string FBB_Con_Input_Moo = "";
    string FBB_Con_Input_Mooban = "";
    string FBB_Con_Input_Building = "";
    string FBB_Con_Input_Floor = "";
    string FBB_Con_Input_Room = "";
    string FBB_Con_Input_Soi = "";
    string FBB_Con_Input_Road = "";
    string FBB_Con_Input_HomePhone = "";
    string FBB_Con_Input_ExtNumber = "";

    string FBB_Con_Length_HomePhone = "";
    string FBB_Con_Length_ExtNumberz = "";
    string FBB_Con_Length_Home_Number = "";
    string FBB_Con_Length_Moo = "";
    string FBB_Con_Length_Mooban = "";
    string FBB_Con_Length_Building = "";
    string FBB_Con_Length_Floor = "";
    string FBB_Con_Length_Room = "";
    string FBB_Con_Length_Soi = "";
    string FBB_Con_Length_Road = "";
    string FBB_Con_Length_ID_Card_Number_STA_LET = "";
    string FBB_Con_Length_ID_Card_Number_ROY_LET = "";
    string FBB_Con_Length_ID_Card_Number_EMB_LET = "";
    string FBB_Con_Length_ID_Card_Number_CERT_FOUND = "";
    string FBB_Con_Length_ID_Card_Number_TAX_ID = "";
    string FBB_Con_Length_ID_Card_Number_PASSPORT = "";
    string FBB_Con_Length_ID_Card_Number_GOV_LET = "";

    string[] PREPAID_Package_Group;
    string[] PREPAID_Package_Group_VAL2;

    string FILE_SIZE = "";
    string FILE_TYPE = "";
    string SHOW_POPUP_BLACKLIST = "";
    List<FbbConstantModel> SHOW_TIME_SLOT_LIST = new List<FbbConstantModel>();
    string SHOW_TIME_SLOT = "";

    string LC = "";

    var L_BLACKLIST_ERR = "";

    if (ViewBag.LC != null)
    {
        LC = ViewBag.LC as string;
    }

    var L_CLOSE001 = "";
    if (null != ViewBag.LCLOSE)
    {
        L_CLOSE001 = ViewBag.LCLOSE;
    }

    string B_CONFIRM = "";
    string B_CANCEL = "";
    string L_ID_CARD_DUP = "";
    string L_REGISTER_DATE_DUP = "";
    string L_INSTALL_ADDR_DUP = "";
    string L_INSTALL_DATE_DUP = "";
    string L_PACKAGE_MAIN_DUP = "";
    string L_ORDER_STATUS_DUP = "";
    string L_BUTTON_DUP = "";
    string L_CONFIRM_CANCEL_DUP = "";
    string L_BUTTON_CANCEL_ORD = "";

    string L_SPECIAL_BUNDLING_DISCOUNT = "";
    string L_SPECIAL_DISCOUNT = "";
    string L_REMARK_GREETING = "";

    string L_CONTACT_MOBILE_NO_1 = "";
    string L_CONTACT_MOBILE_NO_2 = "";
    string L_CONTACT_MOBILE_NO_3 = "";

    string P_SCAN_BARCODE = "";
    string L_ERROR = "";

    string L_REQUIRE_ID_CARD = "";
    string L_DOWNLOAD_DATA = "";
    string L_PHOTO_DOC = "";
    string L_ERROR_LOAD_CARD = "";
    string L_ERROR_SMART_CARD = "";

    string L_FAST_JOB_CONTACT = "";

    string L_HAVE_FIXED_LINE = "สถานที่ติดตั้งมีโทรศัพท์พื้นฐานใช้งานหรือไม่";
    string L_YES = "ใช่";
    string L_NO = "ไม่ใช่";
    string bSAVE = "Save";
    string bCLOSE = "Close";


    if (ViewBag.configscreen != null)
    {
        var configscreen = (List<LovValueModel>)ViewBag.configscreen;
    }

    string L_ONTOP_PLAYBOX_DISCOUNT_HOOQ_MONTH = "";
    string L_ONTOP_PLAYBOX_DISCOUNT_HOOQ_MONTHS = "";
    string L_ONTOP_PLAYBOX_DISCOUNT_INITIATION = "";

    if (ViewBag.LabelFBBTR001 != null)
    {
        var LabelFBBTR001 = (List<LovScreenValueModel>)ViewBag.LabelFBBTR001;
        lBUILD_NAME = LabelFBBTR001.Any(c => c.Name == "L_BUILD_NAME") ? LabelFBBTR001.First(c => c.Name == "L_BUILD_NAME").DisplayValue : "";
    }

    string L_VOUCHER_PIN = "";
    if (ViewBag.LabelFBBTR003 != null)
    {
        var labelFBBTR003 = (List<LovScreenValueModel>)ViewBag.LabelFBBTR003;
        hFBB003 = labelFBBTR003.Any(c => c.Name == "H_FBB003") ? labelFBBTR003.First(c => c.Name == "H_FBB003").DisplayValue : "";
        L_ID_CARD_DUP = labelFBBTR003.Any(c => c.Name == "L_ID_CARD_DUP") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_ID_CARD_DUP").DisplayValue : "";
        L_REGISTER_DATE_DUP = labelFBBTR003.Any(c => c.Name == "L_REGISTER_DATE_DUP") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_REGISTER_DATE_DUP").DisplayValue : "";
        L_INSTALL_ADDR_DUP = labelFBBTR003.Any(c => c.Name == "L_INSTALL_ADDR_DUP") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_INSTALL_ADDR_DUP").DisplayValue : "";
        L_INSTALL_DATE_DUP = labelFBBTR003.Any(c => c.Name == "L_INSTALL_DATE_DUP") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_INSTALL_DATE_DUP").DisplayValue : "";
        L_PACKAGE_MAIN_DUP = labelFBBTR003.Any(c => c.Name == "L_PACKAGE_MAIN_DUP") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_PACKAGE_MAIN_DUP").DisplayValue : "";
        L_ORDER_STATUS_DUP = labelFBBTR003.Any(c => c.Name == "L_ORDER_STATUS_DUP") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_ORDER_STATUS_DUP").DisplayValue : "";
        L_CONFIRM_CANCEL_DUP = labelFBBTR003.Any(c => c.Name == "L_CONFIRM_CANCEL_DUP") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_CONFIRM_CANCEL_DUP").DisplayValue : "";
        L_BUTTON_CANCEL_ORD = labelFBBTR003.Any(c => c.Name == "L_BUTTON_CANCEL_ORD") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_BUTTON_CANCEL_ORD").DisplayValue : "";
        L_BUTTON_DUP = labelFBBTR003.Any(c => c.Name == "L_BUTTON_DUP") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_BUTTON_DUP").DisplayValue : "";
        lYOUR_PACK = labelFBBTR003.Any(c => c.Name == "L_YOUR_PACK") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_YOUR_PACK").DisplayValue : "";
        lMAIN_PACK = labelFBBTR003.Any(c => c.Name == "L_MAIN_PACK") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_MAIN_PACK").DisplayValue : "";
        lONTOP_PACK = labelFBBTR003.Any(c => c.Name == "L_ONTOP_PACK") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_ONTOP_PACK").DisplayValue : "";
        lRESIDENTIAL = labelFBBTR003.Any(c => c.Name == "L_RESIDENTIAL") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_RESIDENTIAL").DisplayValue : "";
        lGOVERNMENT = labelFBBTR003.Any(c => c.Name == "L_GOVERNMENT") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_GOVERNMENT").DisplayValue : "";
        lBUSINESS = labelFBBTR003.Any(c => c.Name == "L_BUSINESS") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_BUSINESS").DisplayValue : "";
        lFIRST_NAME = labelFBBTR003.Any(c => c.Name == "L_FIRST_NAME") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_FIRST_NAME").DisplayValue : "";
        lLAST_NAME = labelFBBTR003.Any(c => c.Name == "L_LAST_NAME") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_LAST_NAME").DisplayValue : "";
        lCARD_TYPE = labelFBBTR003.Any(c => c.Name == "L_CARD_TYPE") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_CARD_TYPE").DisplayValue : "";
        lCARD_NO = labelFBBTR003.Any(c => c.Name == "L_CARD_NO") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_CARD_NO").DisplayValue : "";
        lGENDER = labelFBBTR003.Any(c => c.Name == "L_GENDER") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_GENDER").DisplayValue : "";
        L_ONTOP_PLAYBOX_DISCOUNT_INITIATION = labelFBBTR003.Any(c => c.Name == "L_ONTOP_PLAYBOX_DISCOUNT_INITIATION") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_ONTOP_PLAYBOX_DISCOUNT_INITIATION").DisplayValue : "";
        
        lBIRTHDAY = labelFBBTR003.Any(c => c.Name == "L_BIRTHDAY") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_BIRTHDAY").DisplayValue : "";
        lCONTACT_PHONE = labelFBBTR003.Any(c => c.Name == "L_CONTACT_PHONE") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_CONTACT_PHONE").DisplayValue : "";
        lHOME_PHONE = labelFBBTR003.Any(c => c.Name == "L_HOME_PHONE") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_HOME_PHONE").DisplayValue : "";
        lMOBILE = labelFBBTR003.Any(c => c.Name == "L_MOBILE") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_MOBILE").DisplayValue : "";
        lOR = labelFBBTR003.Any(c => c.Name == "L_OR") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_OR").DisplayValue : "";
        lSPECIFIC_TIME = labelFBBTR003.Any(c => c.Name == "L_SPECIFIC_TIME") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_SPECIFIC_TIME").DisplayValue : "";
        lEMAIL = labelFBBTR003.Any(c => c.Name == "L_EMAIL") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_EMAIL").DisplayValue : "";
        lREMARK = labelFBBTR003.Any(c => c.Name == "L_REMARK") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_REMARK").DisplayValue : "";
        lFOR_OFFICER_ONLY = labelFBBTR003.Any(c => c.Name == "L_FOR_OFFICER_ONLY") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_FOR_OFFICER_ONLY").DisplayValue : "";
        lFOR_OFFICER = labelFBBTR003.Any(c => c.Name == "L_FOR_OFFICER") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_FOR_OFFICER").DisplayValue : "";
        lLOC_CODE = labelFBBTR003.Any(c => c.Name == "L_LOC_CODE") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_LOC_CODE").DisplayValue : "";
        lEVENT_CODE = labelFBBTR003.Any(c => c.Name == "L_EVENT_CODE") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_EVENT_CODE").DisplayValue : "";
        lCPE_SERIAL = labelFBBTR003.Any(c => c.Name == "L_CPE_SERIAL") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_CPE_SERIAL").DisplayValue : "";
        lPLAYBOX_SERIAL = labelFBBTR003.Any(c => c.Name == "L_PLAYBOX_SERIAL") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_PLAYBOX_SERIAL").DisplayValue : "";
        lASC_CODE = labelFBBTR003.Any(c => c.Name == "L_ASC_CODE") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_ASC_CODE").DisplayValue : "";
        lSTAFF_ID = labelFBBTR003.Any(c => c.Name == "L_STAFF_ID") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_STAFF_ID").DisplayValue : "";
        lSALE_REP = labelFBBTR003.Any(c => c.Name == "L_SALE_REP") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_SALE_REP").DisplayValue : "";
        lFOR_CS_TEAM = labelFBBTR003.Any(c => c.Name == "L_FOR_CS_TEAM") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_FOR_CS_TEAM").DisplayValue : "";
        lGOVERNMENT_NAME = labelFBBTR003.Any(c => c.Name == "L_GOVERNMENT_NAME") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_GOVERNMENT_NAME").DisplayValue : "";
        lFILL_VAT = labelFBBTR003.Any(c => c.Name == "L_FILL_VAT") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_FILL_VAT").DisplayValue : "";
        lFILL_VAT_B = labelFBBTR003.Any(c => c.Name == "L_FILL_VAT_B") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_FILL_VAT_B").DisplayValue : "";
        lCONTACT_PERSON = labelFBBTR003.Any(c => c.Name == "L_CONTACT_PERSON") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_CONTACT_PERSON").DisplayValue : "";
        lNATIONALITY = labelFBBTR003.Any(c => c.Name == "L_NATIONALITY") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_NATIONALITY").DisplayValue : "";
        lADDING_ADDR = labelFBBTR003.Any(c => c.Name == "L_ADDING_ADDR") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_ADDING_ADDR").DisplayValue : "";
        lBUILD_CONDO = labelFBBTR003.Any(c => c.Name == "L_BUILD_CONDO") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_BUILD_CONDO").DisplayValue : "";
        lTOP_TERRACE = labelFBBTR003.Any(c => c.Name == "L_TOP_TERRACE") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_TOP_TERRACE").DisplayValue : "";
        lTERRACE = labelFBBTR003.Any(c => c.Name == "L_TERRACE") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_TERRACE").DisplayValue : "";
        lTERRACE_DIRECTION = labelFBBTR003.Any(c => c.Name == "L_TERRACE_DIRECTION") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_TERRACE_DIRECTION").DisplayValue : "";
        lNORTH = labelFBBTR003.Any(c => c.Name == "L_NORTH") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_NORTH").DisplayValue : "";
        lSOUTH = labelFBBTR003.Any(c => c.Name == "L_SOUTH") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_SOUTH").DisplayValue : "";
        lEAST = labelFBBTR003.Any(c => c.Name == "L_EAST") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_EAST").DisplayValue : "";
        lWEST = labelFBBTR003.Any(c => c.Name == "L_WEST") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_WEST").DisplayValue : "";
        lTYPE_ADDR = labelFBBTR003.Any(c => c.Name == "L_TYPE_ADDR") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_TYPE_ADDR").DisplayValue : "";
        lHOUSE = labelFBBTR003.Any(c => c.Name == "L_HOUSE") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_HOUSE").DisplayValue : "";
        lTOWN_HOME = labelFBBTR003.Any(c => c.Name == "L_TOWN_HOME") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_TOWN_HOME").DisplayValue : "";
        lOFF_BUILD = labelFBBTR003.Any(c => c.Name == "L_OFF_BUILD") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_OFF_BUILD").DisplayValue : "";
        lINSTALL_ADDR = labelFBBTR003.Any(c => c.Name == "L_INSTALL_ADDR") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_INSTALL_ADDR").DisplayValue : "";
        lBILLING_ADDR = labelFBBTR003.Any(c => c.Name == "L_BILLING_ADDR") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_BILLING_ADDR").DisplayValue : "";
        lSAME_AS_ADDR = labelFBBTR003.Any(c => c.Name == "L_SAME_AS_ADDR") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_SAME_AS_ADDR").DisplayValue : "";
        lVAT_ADDR = labelFBBTR003.Any(c => c.Name == "L_VAT_ADDR") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_VAT_ADDR").DisplayValue : "";
        lTITLE = labelFBBTR003.Any(c => c.Name == "L_TITLE") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_TITLE").DisplayValue : "";
        lDATE_OF_BIRTH = labelFBBTR003.Any(c => c.Name == "L_DATE_OF_BIRTH") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_DATE_OF_BIRTH").DisplayValue : "";
        lMONTH_OF_BIRTH = labelFBBTR003.Any(c => c.Name == "L_MONTH_OF_BIRTH") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_MONTH_OF_BIRTH").DisplayValue : "";
        lYEAR_OF_BIRTH = labelFBBTR003.Any(c => c.Name == "L_YEAR_OF_BIRTH") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_YEAR_OF_BIRTH").DisplayValue : "";
        lINSTALLATION_DATE = labelFBBTR003.Any(c => c.Name == "L_INSTALLATION_DATE") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_INSTALLATION_DATE").DisplayValue : "";
        lMONTH = labelFBBTR003.Any(c => c.Name == "L_MONTH") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_MONTH").DisplayValue : "";
        lYEAR = labelFBBTR003.Any(c => c.Name == "L_YEAR") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_YEAR").DisplayValue : "";
        lEXT_NUMBER = labelFBBTR003.Any(c => c.Name == "EXT_NUMBER") ? labelFBBTR003.FirstOrDefault(c => c.Name == "EXT_NUMBER").DisplayValue : "";
        lNUM_OF_FLOOR = labelFBBTR003.Any(c => c.Name == "L_NUM_OF_FLOOR") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_NUM_OF_FLOOR").DisplayValue : "";
        lFLOOR_8 = labelFBBTR003.Any(c => c.Name == "L_FLOOR_8") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_FLOOR_8").DisplayValue : "";
        lFLOOR_12 = labelFBBTR003.Any(c => c.Name == "L_FLOOR_12") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_FLOOR_12").DisplayValue : "";
        lFLOOR_13 = labelFBBTR003.Any(c => c.Name == "L_FLOOR_13") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_FLOOR_13").DisplayValue : "";
        lCONDO_AREA = labelFBBTR003.Any(c => c.Name == "L_CONDO_AREA") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_CONDO_AREA").DisplayValue : "";
        lHOUSE_AREA = labelFBBTR003.Any(c => c.Name == "L_HOUSE_AREA") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_HOUSE_AREA").DisplayValue : "";
        lBUILDING = labelFBBTR003.Any(c => c.Name == "L_BUILDING") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_BUILDING").DisplayValue : "";
        lTREE = labelFBBTR003.Any(c => c.Name == "L_TREE") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_TREE").DisplayValue : "";
        lBILLBOARD = labelFBBTR003.Any(c => c.Name == "L_BILLBOARD") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_BILLBOARD").DisplayValue : "";
        lEXPRESSWAY = labelFBBTR003.Any(c => c.Name == "L_EXPRESSWAY") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_EXPRESSWAY").DisplayValue : "";
        lFIXEDLINE = labelFBBTR003.Any(c => c.Name == "L_FIXEDLINE") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_FIXEDLINE").DisplayValue : "";
        lINSTALLATION_DATE_NUMBER = labelFBBTR003.Any(c => c.Name == "L_INSTALLATION_DATE_NUMBER") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_INSTALLATION_DATE_NUMBER").DisplayValue : "";
        lBROWSE = labelFBBTR003.Any(c => c.Name == "L_BROWSE") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_BROWSE").DisplayValue : "";
        lREMOVE = labelFBBTR003.Any(c => c.Name == "L_REMOVE") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_REMOVE").DisplayValue : "";
        lFILE_NAME = labelFBBTR003.Any(c => c.Name == "L_FILE_NAME") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_FILE_NAME").DisplayValue : "";
        lEVENT_CODE_ERR = labelFBBTR003.Any(c => c.Name == "L_EVENT_CODE_ERR") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_EVENT_CODE_ERR").DisplayValue : "";
        lLIMIT_FILE = labelFBBTR003.Any(c => c.Name == "L_LIMIT_FILE") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_LIMIT_FILE").DisplayValue : "";
        L_ONTOP_PLAYBOX_PRE_INITIATION = labelFBBTR003.Any(c => c.Name == "L_ONTOP_PLAYBOX_PRE_INITIATION") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_ONTOP_PLAYBOX_PRE_INITIATION").DisplayValue : "";

        lCOPY_ID_CARD_MASS = labelFBBTR003.Any(c => c.Name == "L_COPY_ID_CARD_MASS") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_COPY_ID_CARD_MASS").DisplayValue : "";
        lCOPY_GOV_LET = labelFBBTR003.Any(c => c.Name == "L_COPY_GOV_LET") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_COPY_GOV_LET").DisplayValue : "";
        lCOPY_AUT_SIG = labelFBBTR003.Any(c => c.Name == "L_COPY_AUT_SIG") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_COPY_AUT_SIG").DisplayValue : "";
        lCOPY_OTHER_G = labelFBBTR003.Any(c => c.Name == "L_COPY_OTHER_G") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_COPY_OTHER_G").DisplayValue : "";
        lCOPY_CERT_LET = labelFBBTR003.Any(c => c.Name == "L_COPY_CERT_LET") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_COPY_CERT_LET").DisplayValue : "";
        lCOPY_DIREC_ID_CARD = labelFBBTR003.Any(c => c.Name == "L_COPY_DIREC_ID_CARD") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_COPY_DIREC_ID_CARD").DisplayValue : "";
        lCOPY_ASS_ID_CARD = labelFBBTR003.Any(c => c.Name == "L_COPY_ASS_ID_CARD") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_COPY_ASS_ID_CARD").DisplayValue : "";
        lCOPY_OTHER_B = labelFBBTR003.Any(c => c.Name == "L_COPY_OTHER_B") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_COPY_OTHER_B").DisplayValue : "";
        lCOPY_SERVICE_FEES = labelFBBTR003.Any(c => c.Name == "L_COPY_SERVICE_FEES") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_COPY_SERVICE_FEES").DisplayValue : "";

        lFILE_SIZE = labelFBBTR003.Any(c => c.Name == "L_FILE_SIZE") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_FILE_SIZE").DisplayValue : "";
        lFILE_TYPE = labelFBBTR003.Any(c => c.Name == "L_FILE_TYPE") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_FILE_TYPE").DisplayValue : "";
        lERR_FILE_SIZE = labelFBBTR003.Any(c => c.Name == "L_ERR_FILE_SIZE") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_ERR_FILE_SIZE").DisplayValue : "";
        lERR_FILE_TYPE = labelFBBTR003.Any(c => c.Name == "L_ERR_FILE_TYPE") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_ERR_FILE_TYPE").DisplayValue : "";

        L_BLACKLIST_ERR = labelFBBTR003.Any(c => c.Name == "L_BLACKLIST_ERR") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_BLACKLIST_ERR").DisplayValue : "";

        FILE_TYPE = labelFBBTR003.Any(c => c.Name == "FILE_TYPE") ? labelFBBTR003.FirstOrDefault(c => c.Name == "FILE_TYPE").DisplayValue : "";
        FILE_SIZE = labelFBBTR003.Any(c => c.Name == "FILE_SIZE") ? labelFBBTR003.FirstOrDefault(c => c.Name == "FILE_SIZE").DisplayValue : "";

        SHOW_POPUP_BLACKLIST = labelFBBTR003.Any(c => c.Name == "SHOW_POPUP_BLACKLIST") ? labelFBBTR003.FirstOrDefault(c => c.Name == "SHOW_POPUP_BLACKLIST").DisplayValue : "";

        L_SPECIAL_BUNDLING_DISCOUNT = labelFBBTR003.Any(c => c.Name == "L_SPECIAL_BUNDLING_DISCOUNT") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_SPECIAL_BUNDLING_DISCOUNT").DisplayValue : "";
        L_SPECIAL_DISCOUNT = labelFBBTR003.Any(c => c.Name == "L_SPECIAL_DISCOUNT") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_SPECIAL_DISCOUNT").DisplayValue : "";
        L_REMARK_GREETING = labelFBBTR003.Any(c => c.Name == "L_REMARK_GREETING") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_REMARK_GREETING").DisplayValue : "";
        L_ERROR = labelFBBTR003.Any(c => c.Name == "L_ERROR") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_ERROR").DisplayValue : "";

        P_SCAN_BARCODE = labelFBBTR003.Any(c => c.Name == "P_SCAN_BARCODE") ? labelFBBTR003.FirstOrDefault(c => c.Name == "P_SCAN_BARCODE").Blob : "";

        L_CONTACT_MOBILE_NO_1 = labelFBBTR003.Any(c => c.Name == "L_CONTACT_MOBILE_NO_1") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_CONTACT_MOBILE_NO_1").DisplayValue : "";
        L_CONTACT_MOBILE_NO_2 = labelFBBTR003.Any(c => c.Name == "L_CONTACT_MOBILE_NO_2") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_CONTACT_MOBILE_NO_2").DisplayValue : "";
        L_CONTACT_MOBILE_NO_3 = labelFBBTR003.Any(c => c.Name == "L_CONTACT_MOBILE_NO_3") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_CONTACT_MOBILE_NO_3").DisplayValue : "";

        L_REQUIRE_ID_CARD = labelFBBTR003.Any(c => c.Name == "L_REQUIRE_ID_CARD") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_REQUIRE_ID_CARD").DisplayValue : "";
        L_DOWNLOAD_DATA = labelFBBTR003.Any(c => c.Name == "L_DOWNLOAD_DATA") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_DOWNLOAD_DATA").DisplayValue : "";
        L_PHOTO_DOC = labelFBBTR003.Any(c => c.Name == "L_PHOTO_DOC") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_PHOTO_DOC").DisplayValue : "";
        L_ERROR_LOAD_CARD = labelFBBTR003.Any(c => c.Name == "L_ERROR_LOAD_CARD") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_ERROR_LOAD_CARD").DisplayValue : "";
        L_ERROR_SMART_CARD = labelFBBTR003.Any(c => c.Name == "L_ERROR_SMART_CARD") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_ERROR_SMART_CARD").DisplayValue : "";
        L_FAST_JOB_CONTACT = labelFBBTR003.Any(c => c.Name == "L_FAST_JOB_CONTACT") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_FAST_JOB_CONTACT").DisplayValue : "";
        lBILL_BRAND = labelFBBTR003.Any(c => c.Name == "L_OLD_ISP") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_OLD_ISP").DisplayValue : "";
        lCHECK_EVENT_CODE = labelFBBTR003.Any(c => c.Name == "L_CUSTOMER_EQUIPMENT") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_CUSTOMER_EQUIPMENT").DisplayValue : "";
        L_VOUCHER_PIN = labelFBBTR003.Any(c => c.Name == "L_VOUCHER_PIN") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_VOUCHER_PIN").DisplayValue : "";
    }

    if (ViewBag.LabelFBBTR000 != null)
    {
        var labelFBBTR000 = (List<LovScreenValueModel>)ViewBag.LabelFBBTR000;

        B_CONFIRM = labelFBBTR000.Any(c => c.Name == "B_CONFIRM") ? labelFBBTR000.FirstOrDefault(c => c.Name == "B_CONFIRM").DisplayValue : "";
        lPROVINCE = labelFBBTR000.Any(c => c.Name == "L_PROVINCE") ? labelFBBTR000.First(c => c.Name == "L_PROVINCE").DisplayValue : "";
        lTUMBOL = labelFBBTR000.Any(c => c.Name == "L_TUMBOL") ? labelFBBTR000.First(c => c.Name == "L_TUMBOL").DisplayValue : "";
        lAMPHUR = labelFBBTR000.Any(c => c.Name == "L_AMPHUR") ? labelFBBTR000.First(c => c.Name == "L_AMPHUR").DisplayValue : "";
        lMOOBAN = labelFBBTR000.Any(c => c.Name == "L_MOOBAN") ? labelFBBTR000.First(c => c.Name == "L_MOOBAN").DisplayValue : "";
        lHOME_NUMBER_1 = labelFBBTR000.Any(c => c.Name == "L_HOME_NUMBER_1") ? labelFBBTR000.First(c => c.Name == "L_HOME_NUMBER_1").DisplayValue : "";
        lHOME_NUMBER_2 = labelFBBTR000.Any(c => c.Name == "L_HOME_NUMBER_2") ? labelFBBTR000.First(c => c.Name == "L_HOME_NUMBER_2").DisplayValue : "";
        lMOO = labelFBBTR000.Any(c => c.Name == "L_MOO") ? labelFBBTR000.First(c => c.Name == "L_MOO").DisplayValue : "";
        lSOI = labelFBBTR000.Any(c => c.Name == "L_SOI") ? labelFBBTR000.First(c => c.Name == "L_SOI").DisplayValue : "";
        lROAD = labelFBBTR000.Any(c => c.Name == "L_ROAD") ? labelFBBTR000.First(c => c.Name == "L_ROAD").DisplayValue : "";
        lZIPCODE = labelFBBTR000.Any(c => c.Name == "L_ZIPCODE") ? labelFBBTR000.First(c => c.Name == "L_ZIPCODE").DisplayValue : "";

        lFLOOR = labelFBBTR000.Any(c => c.Name == "L_FLOOR") ? labelFBBTR000.First(c => c.Name == "L_FLOOR").DisplayValue : "";
        lROOM = labelFBBTR000.Any(c => c.Name == "L_ROOM") ? labelFBBTR000.First(c => c.Name == "L_ROOM").DisplayValue : "";

    }


    if (ViewBag.FbbConstant != null)
    {
        var FbbConstant = (List<FbbConstantModel>)ViewBag.FbbConstant;
        FBB_Con_CharNotonName = FbbConstant.Any(f => f.Field == "Char Not on Name") ? FbbConstant.First(f => f.Field == "Char Not on Name").Validation : "";
        FBB_Con_CharNotOnNameLastName = FbbConstant.Any(f => f.Field == "Char Not on Name LastName") ? FbbConstant.First(f => f.Field == "Char Not on Name LastName").Validation : "";
        FBB_InputCompanyName = FbbConstant.Any(f => f.Field == "Input_Company_Name") ? FbbConstant.First(f => f.Field == "Input_Company_Name").Validation : "";
        FBB_Con_IDCardNumberNonRes = FbbConstant.Any(f => f.Field == "ID Card Number Non-Res") ? FbbConstant.First(f => f.Field == "ID Card Number Non-Res").Validation : "";
        FBB_Con_LengthIDCardNumberHILL_CARD = FbbConstant.Any(f => f.Field == "Length ID Card Number HILL_CARD") ? FbbConstant.First(f => f.Field == "Length ID Card Number HILL_CARD").Validation : "";
        FBB_Con_LengthIDCardNumberID_CARD = FbbConstant.Any(f => f.Field == "Length ID Card Number ID_CARD") ? FbbConstant.First(f => f.Field == "Length ID Card Number ID_CARD").Validation : "";
        FBB_Con_LengthIDCardNumberIMM_CARD = FbbConstant.Any(f => f.Field == "Length ID Card Number IMM_CARD") ? FbbConstant.First(f => f.Field == "Length ID Card Number IMM_CARD").Validation : "";
        FBB_Con_LengthIDCardNumberMONK_CERT = FbbConstant.Any(f => f.Field == "Length ID Card Number MONK_CERT") ? FbbConstant.First(f => f.Field == "Length ID Card Number MONK_CERT").Validation : "";
        FBB_Con_MobileLength = FbbConstant.Any(f => f.Field == "Mobile Length") ? FbbConstant.First(f => f.Field == "Mobile Length").Validation : "";
        FBB_Input_MobileNo = FbbConstant.Any(f => f.Field == "Input_MobileNo") ? FbbConstant.First(f => f.Field == "Input_MobileNo").Validation : "";
        FBB_Con_YearLimitHigh = FbbConstant.Any(f => f.Field == "Year Limit High") ? FbbConstant.First(f => f.Field == "Year Limit High").Validation : "";
        FBB_Con_YearLimitLow = FbbConstant.Any(f => f.Field == "Year Limit Low") ? FbbConstant.First(f => f.Field == "Year Limit Low").Validation : "";

        FBB_Con_Input_CERT_FOUND = FbbConstant.Any(f => f.Field == "Input CERT_FOUND") ? FbbConstant.First(f => f.Field == "Input CERT_FOUND").Validation : "";
        FBB_Con_Input_EMB_LET = FbbConstant.Any(f => f.Field == "Input EMB_LET") ? FbbConstant.First(f => f.Field == "Input EMB_LET").Validation : "";
        FBB_Con_Input_HILL_CARD = FbbConstant.Any(f => f.Field == "Input HILL_CARD") ? FbbConstant.First(f => f.Field == "Input HILL_CARD").Validation : "";
        FBB_Con_Input_ID_CARD = FbbConstant.Any(f => f.Field == "Input ID_CARD") ? FbbConstant.First(f => f.Field == "Input ID_CARD").Validation : "";
        FBB_Con_Input_IMM_CARD = FbbConstant.Any(f => f.Field == "Input IMM_CARD") ? FbbConstant.First(f => f.Field == "Input IMM_CARD").Validation : "";
        FBB_Con_Input_MONK_CERT = FbbConstant.Any(f => f.Field == "Input MONK_CERT") ? FbbConstant.First(f => f.Field == "Input MONK_CERT").Validation : "";
        FBB_Con_Input_PASSPORT = FbbConstant.Any(f => f.Field == "Input PASSPORT") ? FbbConstant.First(f => f.Field == "Input PASSPORT").Validation : "";
        FBB_Con_Input_ROY_LET = FbbConstant.Any(f => f.Field == "Input ROY_LET") ? FbbConstant.First(f => f.Field == "Input ROY_LET").Validation : "";
        FBB_Con_Input_STA_LET = FbbConstant.Any(f => f.Field == "Input STA_LET") ? FbbConstant.First(f => f.Field == "Input STA_LET").Validation : "";
        FBB_Con_Input_TAX_ID = FbbConstant.Any(f => f.Field == "Input TAX_ID") ? FbbConstant.First(f => f.Field == "Input TAX_ID").Validation : "";
        FBB_Con_Input_GOV_LET = FbbConstant.Any(f => f.Field == "Input GOV_LET") ? FbbConstant.First(f => f.Field == "Input GOV_LET").Validation : "";

        FBB_Con_Input_Home_Number = FbbConstant.Any(f => f.Field == "Input_Home_Number") ? FbbConstant.First(f => f.Field == "Input_Home_Number").Validation : "";
        FBB_Con_Input_Moo = FbbConstant.Any(f => f.Field == "Input_Moo") ? FbbConstant.First(f => f.Field == "Input_Moo").Validation : "";
        FBB_Con_Input_Mooban = FbbConstant.Any(f => f.Field == "Input_Mooban") ? FbbConstant.First(f => f.Field == "Input_Mooban").Validation : "";
        FBB_Con_Input_Building = FbbConstant.Any(f => f.Field == "Input_Building") ? FbbConstant.First(f => f.Field == "Input_Building").Validation : "";
        FBB_Con_Input_Floor = FbbConstant.Any(f => f.Field == "Input_Floor") ? FbbConstant.First(f => f.Field == "Input_Floor").Validation : "";
        FBB_Con_Input_Room = FbbConstant.Any(f => f.Field == "Input_Room") ? FbbConstant.First(f => f.Field == "Input_Room").Validation : "";
        FBB_Con_Input_Soi = FbbConstant.Any(f => f.Field == "Input_Soi") ? FbbConstant.First(f => f.Field == "Input_Soi").Validation : "";
        FBB_Con_Input_Road = FbbConstant.Any(f => f.Field == "Input_Road") ? FbbConstant.First(f => f.Field == "Input_Road").Validation : "";
        FBB_Con_Input_HomePhone = FbbConstant.Any(f => f.Field == "Input_HomePhone") ? FbbConstant.First(f => f.Field == "Input_HomePhone").Validation : "";
        FBB_Con_Input_ExtNumber = FbbConstant.Any(f => f.Field == "Input_ExtNumber") ? FbbConstant.First(f => f.Field == "Input_ExtNumber").Validation : "";

        FBB_Con_Length_HomePhone = FbbConstant.Any(f => f.Field == "Length_HomePhone") ? FbbConstant.First(f => f.Field == "Length_HomePhone").Validation : "";
        FBB_Con_Length_ExtNumberz = FbbConstant.Any(f => f.Field == "Length_ExtNumber") ? FbbConstant.First(f => f.Field == "Length_ExtNumber").Validation : "";
        FBB_Con_Length_Home_Number = FbbConstant.Any(f => f.Field == "Length_Home_Number") ? FbbConstant.First(f => f.Field == "Length_Home_Number").Validation : "";
        FBB_Con_Length_Moo = FbbConstant.Any(f => f.Field == "Length_Moo") ? FbbConstant.First(f => f.Field == "Length_Moo").Validation : "";
        FBB_Con_Length_Mooban = FbbConstant.Any(f => f.Field == "Length_Mooban") ? FbbConstant.First(f => f.Field == "Length_Mooban").Validation : "";
        FBB_Con_Length_Building = FbbConstant.Any(f => f.Field == "Length_Building") ? FbbConstant.First(f => f.Field == "Length_Building").Validation : "";
        FBB_Con_Length_Floor = FbbConstant.Any(f => f.Field == "Length_Floor") ? FbbConstant.First(f => f.Field == "Length_Floor").Validation : "";
        FBB_Con_Length_Room = FbbConstant.Any(f => f.Field == "Length_Room") ? FbbConstant.First(f => f.Field == "Length_Room").Validation : "";
        FBB_Con_Length_Soi = FbbConstant.Any(f => f.Field == "Length_Soi") ? FbbConstant.First(f => f.Field == "Length_Soi").Validation : "";
        FBB_Con_Length_Road = FbbConstant.Any(f => f.Field == "Length_Road") ? FbbConstant.First(f => f.Field == "Length_Road").Validation : "";

        FBB_Con_Length_ID_Card_Number_STA_LET = FbbConstant.Any(f => f.Field == "Length ID Card Number STA_LET") ? FbbConstant.First(f => f.Field == "Length ID Card Number STA_LET").Validation : "";
        FBB_Con_Length_ID_Card_Number_ROY_LET = FbbConstant.Any(f => f.Field == "Length ID Card Number ROY_LET") ? FbbConstant.First(f => f.Field == "Length ID Card Number ROY_LET").Validation : "";
        FBB_Con_Length_ID_Card_Number_EMB_LET = FbbConstant.Any(f => f.Field == "Length ID Card Number EMB_LET") ? FbbConstant.First(f => f.Field == "Length ID Card Number EMB_LET").Validation : "";
        FBB_Con_Length_ID_Card_Number_CERT_FOUND = FbbConstant.Any(f => f.Field == "Length ID Card Number CERT_FOUND") ? FbbConstant.First(f => f.Field == "Length ID Card Number CERT_FOUND").Validation : "";
        FBB_Con_Length_ID_Card_Number_TAX_ID = FbbConstant.Any(f => f.Field == "Length ID Card Number TAX_ID") ? FbbConstant.First(f => f.Field == "Length ID Card Number TAX_ID").Validation : "";
        FBB_Con_Length_ID_Card_Number_PASSPORT = FbbConstant.Any(f => f.Field == "Length ID Card Number PASSPORT") ? FbbConstant.First(f => f.Field == "Length ID Card Number PASSPORT").Validation : "";
        FBB_Con_Length_ID_Card_Number_GOV_LET = FbbConstant.Any(f => f.Field == "Length ID Card Number GOV LET") ? FbbConstant.First(f => f.Field == "Length ID Card Number GOV LET").Validation : "";

        SHOW_TIME_SLOT_LIST = FbbConstant.Where(f => f.Field == "TIMESLOT_BY_FLOWFLAG").ToList();
        //SHOW_TIME_SLOT = SHOW_TIME_SLOT_LIST.Any(f => f.Validation == Model.FlowFlag) ? SHOW_TIME_SLOT_LIST.First(f => f.Validation == Model.FlowFlag).SubValidation : "";
        //SHOW_TIME_SLOT = FbbConstant.Any(f => f.Field == "TIMESLOT_BY_FLOWFLAG" && f.Validation == Model.FlowFlag) ? FbbConstant.First(f => f.Field == "TIMESLOT_BY_FLOWFLAG" && f.Validation == Model.FlowFlag).SubValidation : "";
        PREPAID_Package_Group = FbbConstant.Where(p => p.Field == "PREPAID_PACKAGE_GROUP").Select(p => p.Validation).ToArray();
        PREPAID_Package_Group_VAL2 = FbbConstant.Where(p => p.Field == "PREPAID_PACKAGE_GROUP").Select(p => p.SubValidation).ToArray();
    }
    else
    {
        PREPAID_Package_Group = null;
        PREPAID_Package_Group_VAL2 = null;
    }

    if (ViewBag.FbbException != null)
    {
        var FbbException = (List<FbbConstantModel>)ViewBag.FbbException;
        FBB_Exc_1 = FbbException.Any(f => f.Field == "1") ? FbbException.First(f => f.Field == "1").Validation : "";
        FBB_Exc_D = FbbException.Any(f => f.Field == "D") ? FbbException.First(f => f.Field == "D").Validation : "";
        FBB_Exc_F = FbbException.Any(f => f.Field == "F") ? FbbException.First(f => f.Field == "F").Validation : "";
        FBB_Exc_I = FbbException.Any(f => f.Field == "I") ? FbbException.First(f => f.Field == "I").Validation : "";
        FBB_Exc_S = FbbException.Any(f => f.Field == "S") ? FbbException.First(f => f.Field == "S").Validation : "";
    }

    <!--FBB002-->
    string L_INTERNET_WIRE = "";
    string L_INTERNET_WIRELESS = "";
    string L_HOME_PACKAGE = "";
    string SELECT_BY_PAY_INSTALLATION = "";
    string SELECT_FREE_INSTALL_VALUE = "";
    string SELECT_PAY_INSTALL_VALUE = "";
    string DESCRIPTION_PAY_INSTALL = "";
    string L_NOT_REQUIRE = "";
    string L_REQUEST = "";
    string L_DISCOUNT = "";
    string L_DISC_DETAIL_FREE = "";
    string L_TECHNOLOGY = "";
    string L_MORE_DETAIL = "";

    string L_TRIPLE_PLAY_PACKAGE = "";
    string L_COL_AIS_FIBRE = "";
    string L_COL_AIS_FIXEDLINE = "";
    string L_COL_AIS_PLAYBOX = "";
    string L_TRIPPLE_FIXEDLINE_PACKAGE = "";
    string L_TRIPLE_PLAYBOX_PACKAGE_1 = "";
    string L_TRIPLE_PLAYBOX_PACKAGE_6 = "";
    string L_SUM_DETAIL_16 = "";
    string L_SUM_DETAIL_17 = "";
    string L_DOWNLOAD = "";
    string L_UPLOAD = "";
    string L_MONTHLY_FEE = "";

    string Input_Voucher_PIN = "";
    string Length_Voucher_PIN = "";

    string L_PROMOTION_CODE = "";

    string L_SUMM_DETAIL_WireBB = "";
    string L_SUMM_DETAIL_FTTx = "";
    string L_SUMM_DETAIL_SWiFi = "";
    string L_DISC_DETAIL_SOME = "";

    string L_LAN_WIRING = "";
    string L_LAN_WIRING_1 = "";
    string L_LAN_WIRING_2 = "";
    string L_LAN_WIRING_3 = "";

    string L_PROMOTION = "";
    string L_PROMOTION1 = "";
    string L_PROMOTION2 = "";
    string SWIFI_ROUTER_VALUE = "";
    string SWIFI_ROUTER_PRE_VALUE = "";
    string L_PRIVILAGE1 = "";
    string L_PRIVILAGE2 = "";
    string L_WIFI_ROUTER = "";
    string L_WIFI_DETAIL2 = "";
    string L_ROUTER = "";
    string L_WIFI_DETAIL1 = "";
    string L_WIFI_ROUTER_ONU = "";
    string L_MSG_PROMO_CORRECT = "";

    string L_PROFESSIONAL_PACKAGE = "";
    string L_SUMMARY = "";
    string L_SUMM_DETAIL1 = "";
    string L_SUMM_DETAIL2 = "";
    string L_SUMM_DETAIL3 = "";
    string L_SUMM_DETAIL4 = "";
    string L_SUMM_DETAIL5 = "";
    string L_SUMM_DETAIL6 = "";
    string L_SUMM_DETAIL7 = "";
    string L_SUMM_DETAIL8 = "";
    string L_SUMM_DETAIL9 = "";
    string L_SUMM_DETAIL10 = "";
    string L_SUMM_DETAIL11 = "";
    string L_SUMM_DETAIL12 = "";
    string L_SUMM_DETAIL13 = "";
    string L_SUMM_DETAIL14 = "";
    string L_SUMM_DETAIL15 = "";
    string L_BAHT = "";

    string L_GOLD_FULLHD = "";
    string L_PLATINUM_FULLHD = "";
    string L_GOLD_FULLHD_TRIAL = "";
    string L_PLATINUM_FULLHD_TRIAL = "";
    string L_MAINTEN_FEE2 = "";

    string L_BUNDLING_DISCOUNT_DTL = "";
    string L_DISCOUNT_DTL = "";

    string L_CHARGE_ON_INSTALL_DATE = "";
    string L_ENTRANCE_FEE = "";
    string L_ENTRANCE_FEE_DETAIL = "";

    if (ViewBag.LabelFBBTR002 != null)
    {
        var labelFBBTR002 = (List<LovScreenValueModel>)ViewBag.LabelFBBTR002;
        SELECT_BY_PAY_INSTALLATION = labelFBBTR002.Any(c => c.Name == "SELECT_BY_PAY_INSTALLATION") ? labelFBBTR002.FirstOrDefault(c => c.Name == "SELECT_BY_PAY_INSTALLATION").DisplayValue : "";
        SELECT_FREE_INSTALL_VALUE = labelFBBTR002.Any(c => c.Name == "SELECT_FREE_INSTALL_VALUE") ? labelFBBTR002.FirstOrDefault(c => c.Name == "SELECT_FREE_INSTALL_VALUE").DisplayValue : "";
        SELECT_PAY_INSTALL_VALUE = labelFBBTR002.Any(c => c.Name == "SELECT_PAY_INSTALL_VALUE") ? labelFBBTR002.FirstOrDefault(c => c.Name == "SELECT_PAY_INSTALL_VALUE").DisplayValue : "";
        DESCRIPTION_PAY_INSTALL = labelFBBTR002.Any(c => c.Name == "DESCRIPTION_PAY_INSTALL") ? labelFBBTR002.FirstOrDefault(c => c.Name == "DESCRIPTION_PAY_INSTALL").DisplayValue : "";

        H_FBBTR002 = labelFBBTR002.Any(c => c.Name == "H_FBBOR002") ? labelFBBTR002.FirstOrDefault(c => c.Name == "H_FBBOR002").DisplayValue : "";
        L_INTERNET_WIRE = labelFBBTR002.Any(c => c.Name == "L_INTERNET_WIRE") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_INTERNET_WIRE").DisplayValue : "";
        L_INTERNET_WIRELESS = labelFBBTR002.Any(c => c.Name == "L_INTERNET_WIRELESS") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_INTERNET_WIRELESS").DisplayValue : "";
        L_HOME_PACKAGE = labelFBBTR002.Any(c => c.Name == "L_HOME_PACKAGE") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_HOME_PACKAGE").DisplayValue : "";
        L_PROFESSIONAL_PACKAGE = labelFBBTR002.Any(c => c.Name == "L_PROFESSIONAL_PACKAGE") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_PROFESSIONAL_PACKAGE").DisplayValue : "";
        L_SUMMARY = labelFBBTR002.Any(c => c.Name == "L_SUMMARY") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_SUMMARY").DisplayValue : "";
        L_TECHNOLOGY = labelFBBTR002.Any(c => c.Name == "L_TECHNOLOGY") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_TECHNOLOGY").DisplayValue : "";
        L_DOWNLOAD = labelFBBTR002.Any(c => c.Name == "L_DOWNLOAD") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_DOWNLOAD").DisplayValue : "";
        L_UPLOAD = labelFBBTR002.Any(c => c.Name == "L_UPLOAD") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_UPLOAD").DisplayValue : "";
        L_MONTHLY_FEE = labelFBBTR002.Any(c => c.Name == "L_MONTHLY_FEE") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_MONTHLY_FEE").DisplayValue : "";
        L_SUMM_DETAIL1 = labelFBBTR002.Any(c => c.Name == "L_SUMM_DETAIL1") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_SUMM_DETAIL1").DisplayValue : "";
        L_SUMM_DETAIL2 = labelFBBTR002.Any(c => c.Name == "L_SUMM_DETAIL2") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_SUMM_DETAIL2").DisplayValue : "";
        L_SUMM_DETAIL3 = labelFBBTR002.Any(c => c.Name == "L_SUMM_DETAIL3") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_SUMM_DETAIL3").DisplayValue : "";
        L_SUMM_DETAIL4 = labelFBBTR002.Any(c => c.Name == "L_SUMM_DETAIL4") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_SUMM_DETAIL4").DisplayValue : "";
        L_SUMM_DETAIL5 = labelFBBTR002.Any(c => c.Name == "L_SUMM_DETAIL5") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_SUMM_DETAIL5").DisplayValue : "";
        L_SUMM_DETAIL6 = labelFBBTR002.Any(c => c.Name == "L_SUMM_DETAIL6") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_SUMM_DETAIL6").DisplayValue : "";
        L_SUMM_DETAIL7 = labelFBBTR002.Any(c => c.Name == "L_SUMM_DETAIL7") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_SUMM_DETAIL7").DisplayValue : "";
        L_SUMM_DETAIL8 = labelFBBTR002.Any(c => c.Name == "L_SUMM_DETAIL8") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_SUMM_DETAIL8").DisplayValue : "";
        L_SUMM_DETAIL9 = labelFBBTR002.Any(c => c.Name == "L_SUMM_DETAIL9") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_SUMM_DETAIL9").DisplayValue : "";
        L_SUMM_DETAIL10 = labelFBBTR002.Any(c => c.Name == "L_SUMM_DETAIL10") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_SUMM_DETAIL10").DisplayValue : "";
        L_SUMM_DETAIL11 = labelFBBTR002.Any(c => c.Name == "L_SUMM_DETAIL11") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_SUMM_DETAIL11").DisplayValue : "";
        L_SUMM_DETAIL12 = labelFBBTR002.Any(c => c.Name == "L_SUMM_DETAIL12") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_SUMM_DETAIL12").DisplayValue : "";
        L_SUMM_DETAIL13 = labelFBBTR002.Any(c => c.Name == "L_SUMM_DETAIL13") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_SUMM_DETAIL13").DisplayValue : "";
        L_SUMM_DETAIL14 = labelFBBTR002.Any(c => c.Name == "L_SUMM_DETAIL14") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_SUMM_DETAIL14").DisplayValue : "";
        L_SUMM_DETAIL15 = labelFBBTR002.Any(c => c.Name == "L_SUMM_DETAIL15") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_SUMM_DETAIL15").DisplayValue : "";
        L_BAHT = labelFBBTR002.Any(c => c.Name == "L_BAHT") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_BAHT").DisplayValue : "";
        L_DISCOUNT = labelFBBTR002.Any(c => c.Name == "L_DISCOUNT") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_DISCOUNT").DisplayValue : "";
        L_DISC_DETAIL_FREE = labelFBBTR002.Any(c => c.Name == "L_DISC_DETAIL_FREE") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_DISC_DETAIL_FREE").DisplayValue : "";

        L_LAN_WIRING = labelFBBTR002.Any(c => c.Name == "L_LAN_WIRING") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_LAN_WIRING").DisplayValue : "";
        L_LAN_WIRING_1 = labelFBBTR002.Any(c => c.Name == "L_LAN_WIRING_1") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_LAN_WIRING_1").DisplayValue : "";
        L_LAN_WIRING_2 = labelFBBTR002.Any(c => c.Name == "L_LAN_WIRING_2") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_LAN_WIRING_2").DisplayValue : "";
        L_LAN_WIRING_3 = labelFBBTR002.Any(c => c.Name == "L_LAN_WIRING_3") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_LAN_WIRING_3").DisplayValue : "";

        L_WIFI_ROUTER = labelFBBTR002.Any(c => c.Name == "L_WIFI_ROUTER") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_WIFI_ROUTER").DisplayValue : "";
        L_WIFI_DETAIL1 = labelFBBTR002.Any(c => c.Name == "L_WIFI_DETAIL1") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_WIFI_DETAIL1").DisplayValue : "";
        L_DISC_DETAIL_SOME = labelFBBTR002.Any(c => c.Name == "L_DISC_DETAIL_SOME") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_DISC_DETAIL_SOME").DisplayValue : "";
        L_ROUTER = labelFBBTR002.Any(c => c.Name == "L_ROUTER") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_ROUTER").DisplayValue : "";
        L_PRIVILAGE1 = labelFBBTR002.Any(c => c.Name == "L_PRIVILAGE1") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_PRIVILAGE1").DisplayValue : "";
        L_PRIVILAGE2 = labelFBBTR002.Any(c => c.Name == "L_PRIVILAGE2") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_PRIVILAGE2").DisplayValue : "";
        L_NOT_REQUIRE = labelFBBTR002.Any(c => c.Name == "L_NOT_REQUIRE") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_NOT_REQUIRE").DisplayValue : "";
        L_REQUEST = labelFBBTR002.Any(c => c.Name == "L_REQUEST") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_REQUEST").DisplayValue : "";
        L_MORE_DETAIL = labelFBBTR002.Any(c => c.Name == "L_MORE_DETAIL") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_MORE_DETAIL").DisplayValue : "";
        L_PROMOTION = labelFBBTR002.Any(c => c.Name == "L_PROMOTION") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_PROMOTION").DisplayValue : "";
        L_WIFI_DETAIL2 = labelFBBTR002.Any(c => c.Name == "L_WIFI_DETAIL2") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_WIFI_DETAIL2").DisplayValue : "";
        L_PROMOTION1 = labelFBBTR002.Any(c => c.Name == "L_PROMOTION1") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_PROMOTION1").DisplayValue : "";
        L_PROMOTION2 = labelFBBTR002.Any(c => c.Name == "L_PROMOTION2") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_PROMOTION2").DisplayValue : "";
        L_WIFI_ROUTER_ONU = labelFBBTR002.Any(c => c.Name == "L_WIFI_ROUTER_ONU") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_WIFI_ROUTER_ONU").DisplayValue : "";
        //L_ROUTER_ONU = labelFBBTR002.Any(c => c.Name == "L_ROUTER_ONU") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_ROUTER_ONU").DisplayValue : "";
        L_SUMM_DETAIL_WireBB = labelFBBTR002.Any(c => c.Name == "L_SUMM_DETAIL_WireBB") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_SUMM_DETAIL_WireBB").DisplayValue : "";
        L_SUMM_DETAIL_FTTx = labelFBBTR002.Any(c => c.Name == "L_SUMM_DETAIL_FTTx") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_SUMM_DETAIL_FTTx").DisplayValue : "";
        L_SUMM_DETAIL_SWiFi = labelFBBTR002.Any(c => c.Name == "L_SUMM_DETAIL_SWiFi") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_SUMM_DETAIL_SWiFi").DisplayValue : "";
        //PRO_INSTALL_ROUTER = labelFBBTR002.Any(c => c.Name == "PRO_INSTALL_ROUTER") ? labelFBBTR002.FirstOrDefault(c => c.Name == "PRO_INSTALL_ROUTER").DisplayValue : "";
        //HOME_INSTALL_ROUTER = labelFBBTR002.Any(c => c.Name == "HOME_INSTALL_ROUTER") ? labelFBBTR002.FirstOrDefault(c => c.Name == "HOME_INSTALL_ROUTER").DisplayValue : "";
        SWIFI_ROUTER_VALUE = labelFBBTR002.Any(c => c.Name == "SWIFI_ROUTER_VALUE") ? labelFBBTR002.FirstOrDefault(c => c.Name == "SWIFI_ROUTER_VALUE").DisplayValue : "";
        SWIFI_ROUTER_PRE_VALUE = labelFBBTR002.Any(c => c.Name == "SWIFI_ROUTER_PRE_VALUE") ? labelFBBTR002.FirstOrDefault(c => c.Name == "SWIFI_ROUTER_PRE_VALUE").DisplayValue : "";

        L_TRIPLE_PLAY_PACKAGE = labelFBBTR002.Any(c => c.Name == "L_TRIPLE_PLAY_PACKAGE") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_TRIPLE_PLAY_PACKAGE").DisplayValue : "";
        L_COL_AIS_FIBRE = labelFBBTR002.Any(c => c.Name == "L_COL_AIS_FIBRE") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_COL_AIS_FIBRE").DisplayValue : "";
        L_COL_AIS_FIXEDLINE = labelFBBTR002.Any(c => c.Name == "L_COL_AIS_FIXEDLINE") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_COL_AIS_FIXEDLINE").DisplayValue : "";
        L_COL_AIS_PLAYBOX = labelFBBTR002.Any(c => c.Name == "L_COL_AIS_PLAYBOX") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_COL_AIS_PLAYBOX").DisplayValue : "";
        L_TRIPPLE_FIXEDLINE_PACKAGE = labelFBBTR002.Any(c => c.Name == "L_TRIPPLE_FIXEDLINE_PACKAGE") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_TRIPPLE_FIXEDLINE_PACKAGE").DisplayValue : "";
        L_TRIPLE_PLAYBOX_PACKAGE_1 = labelFBBTR002.Any(c => c.Name == "L_TRIPLE_PLAYBOX_PACKAGE_1") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_TRIPLE_PLAYBOX_PACKAGE_1").DisplayValue : "";
        L_TRIPLE_PLAYBOX_PACKAGE_6 = labelFBBTR002.Any(c => c.Name == "L_TRIPLE_PLAYBOX_PACKAGE_6") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_TRIPLE_PLAYBOX_PACKAGE_6").DisplayValue : "";
        //L_SUM_DETAIL_16 = labelFBBTR002.Any(c => c.Name == "L_SUM_DETAIL_16") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_SUM_DETAIL_16").DisplayValue : "";
        //L_SUM_DETAIL_17 = labelFBBTR002.Any(c => c.Name == "L_SUM_DETAIL_17") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_SUM_DETAIL_17").DisplayValue : "";

        //L_SELECT_SPECIAL_DISCOUNT = labelFBBTR002.Any(c => c.Name == "L_SELECT_SPECIAL_DISCOUNT") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_SELECT_SPECIAL_DISCOUNT").DisplayValue : "";

        L_PROMOTION_CODE = labelFBBTR002.Any(c => c.Name == "L_PROMOTION_CODE") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_PROMOTION_CODE").DisplayValue : "";
        L_MSG_PROMO_CORRECT = labelFBBTR002.Any(c => c.Name == "L_MSG_PROMO_CORRECT") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_MSG_PROMO_CORRECT").DisplayValue : "";
        //L_MSG_PROMO_INVALID = labelFBBTR002.Any(c => c.Name == "L_MSG_PROMO_INVALID") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_MSG_PROMO_INVALID").DisplayValue : "";
        //L_MSG_PROMO_ACTIVATED = labelFBBTR002.Any(c => c.Name == "L_MSG_PROMO_ACTIVATED") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_MSG_PROMO_ACTIVATED").DisplayValue : "";

        L_BUNDLING_DISCOUNT_DTL = labelFBBTR002.Any(c => c.Name == "L_BUNDLING_DISCOUNT_DTL") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_BUNDLING_DISCOUNT_DTL").DisplayValue : "";
        L_DISCOUNT_DTL = labelFBBTR002.Any(c => c.Name == "L_DISCOUNT_DTL") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_DISCOUNT_DTL").DisplayValue : "";

        L_CHARGE_ON_INSTALL_DATE = labelFBBTR002.Any(c => c.Name == "L_CHARGE_ON_INSTALL_DATE") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_CHARGE_ON_INSTALL_DATE").DisplayValue : "";
        L_ENTRANCE_FEE = labelFBBTR002.Any(c => c.Name == "L_ENTRANCE_FEE") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_ENTRANCE_FEE").DisplayValue : "";
        L_ENTRANCE_FEE_DETAIL = labelFBBTR002.Any(c => c.Name == "L_ENTRANCE_FEE_DETAIL") ? labelFBBTR002.FirstOrDefault(c => c.Name == "L_ENTRANCE_FEE_DETAIL").DisplayValue : "";


        //var labelFBBTR000 = (List<LovScreenValueModel>)ViewBag.LabelFBBTR000;

        SELECT_FREE_INSTALL_VALUE = SELECT_FREE_INSTALL_VALUE.Replace("\n", " ").Replace("\t", " ").Replace("\r", " ");
    }


    string L_SUM_INSTALL_RATE = "";
    string L_SUM_MAINTEN_RATE = "";
    string L_VAS_DATAIL = "";
    string L_SELECT_VAS = "";
    string L_LIST = "";
    string L_CHARGE = "";
    string L_INSTALL_RATE = "";
    string L_INSTALL_RATE_VALUE = "";
    string L_MAINTEN_FEE = "";
    string L_MAINTEN_FEE_VALUE = "";
    string L_BAHT_MIN = "";
    string L_BAHT_MONTH = "";
    string L_CALL_IN_RATE = "";
    string L_CALL_IN_RATE_VALUE = "";
    string L_BAHT_TIME = "";
    string L_CALL_OUT_RATE = "";
    string L_CALL_OUT_RATE_VALUE = "";
    string L_CALL_FREE = "";
    string L_MINUTE = "";

    string L_ADDED_SERVICE = "";
    string L_FIXED_REGISTER = "";
    string L_TOTAL = "";
    string L_NUMBER = "";
    string L_IDD = "";
    string L_FAX = "";
    string F_MOBILE_FORWARD = "";
    string L_MOBILE_FORWARD = "";
    string T_MOBILE_FORWARD = "";
    string M_MOBILE_FORWARD = "";
    string L_FIXED_CHARGE_RATE = "";
    string L_FIXED_TERM = "";
    string L_FIXED_TERM_1 = "";
    string L_FIXED_TERM_2 = "";
    string L_FIXED_TERM_3 = "";
    string L_FIXED_TERM_4 = "";
    string L_FIXED_TERM_5 = "";
    string L_FIXED_TERM_6 = "";

    string L_FIXED_TERM_4_1 = "";
    string L_FIXED_TERM_4_2 = "";
    string L_FIXED_TERM_4_3 = "";
    string L_FIXED_TERM_4_4 = "";

    string L_FIXED_TERM_4_3_1 = "";
    string L_FIXED_TERM_4_3_2 = "";
    string L_FIXED_TERM_4_3_3 = "";
    string L_FIXED_TERM_4_3_4 = "";
    string L_FIXED_TERM_4_3_5 = "";
    string L_FIXED_TERM_4_3_6 = "";


    string L_CHARGE_RATE = "";
    string L_INSTALLATION_DATE_NUMBER_VAS = "";
    string L_ADDED_SERVICE_PLAYBOX = "";

    // R1608-2  //
    string L_CALLING_RATE = "";
    string L_PER_MIN = "";
    string L_PER_TIME = "";
    string L_FREE_FIXEDLINE = "";
    string L_UNLIMITED = "";
    string L_CALL_IN_AIS = "";
    string L_CALL_IN_AIS_VALUE = "";
    string L_CALL_OUT_AIS = "";
    string L_CALL_OUT_AIS_VALUE = "";
    string L_REMARK_VOICE_RATE = "";
    //

    string SHOW_ICON_FIXEDLINE_CUST_REGISTER = "";
    string SHOW_ICON_FIXEDLINE_SSO_REGISTER = "";
    string SHOW_ICON_FIXEDLINE_CUST_VAS = "";
    string SHOW_ICON_FIXEDLINE_SSO_VAS = "";

    string SHOW_ICON_PLAYBOX_CUST_REGISTER = "";
    string SHOW_ICON_PLAYBOX_SSO_REGISTER = "";
    string SHOW_ICON_PLAYBOX_CUST_VAS = "";
    string SHOW_ICON_PLAYBOX_SSO_VAS = "";

    string DEFAULT_ICON_PLAYBOX_CUST_REGISTER = "";
    string DEFAULT_ICON_PLAYBOX_SSO_REGISTER = "";
    string DEFAULT_ICON_PLAYBOX_CUST_VAS = "";
    string DEFAULT_ICON_PLAYBOX_SSO_VAS = "";

    string L_AIS_PLAYBOX = "";
    string L_INTERNET_TV = "";
    string L_FIXEDLINE_VOIP = "";
    string L_FIXEDLINE_DES = "";
    string L_CLICK_CHECKBOX = "";
    string L_SUM_DISCOUNT_INSTALL_RATE = "";


    if (ViewBag.LabelFBBTR010 != null)
    {
        var LabelFBBTR010 = (List<LovScreenValueModel>)ViewBag.LabelFBBTR010;
        L_SUM_INSTALL_RATE = LabelFBBTR010.Any(c => c.Name == "L_SUM_INSTALL_RATE") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_SUM_INSTALL_RATE").DisplayValue : "";
        L_SUM_MAINTEN_RATE = LabelFBBTR010.Any(c => c.Name == "L_SUM_MAINTEN_RATE") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_SUM_MAINTEN_RATE").DisplayValue : "";
        L_VAS_DATAIL = LabelFBBTR010.Any(c => c.Name == "L_VAS_DATAIL") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_VAS_DATAIL").DisplayValue : "";
        L_SELECT_VAS = LabelFBBTR010.Any(c => c.Name == "L_SELECT_VAS") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_SELECT_VAS").DisplayValue : "";
        L_ADDED_SERVICE = LabelFBBTR010.Any(c => c.Name == "L_ADDED_SERVICE") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_ADDED_SERVICE").DisplayValue : "";
        L_ADDED_SERVICE = LabelFBBTR010.Any(c => c.Name == "L_ADDED_SERVICE") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_ADDED_SERVICE").DisplayValue : "";
        L_FIXED_REGISTER = LabelFBBTR010.Any(c => c.Name == "L_FIXED_REGISTER") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_FIXED_REGISTER").DisplayValue : "";
        L_TOTAL = LabelFBBTR010.Any(c => c.Name == "L_TOTAL") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_TOTAL").DisplayValue : "";
        L_NUMBER = LabelFBBTR010.Any(c => c.Name == "L_NUMBER") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_NUMBER").DisplayValue : "";
        L_IDD = LabelFBBTR010.Any(c => c.Name == "L_IDD") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_IDD").DisplayValue : "";
        L_FAX = LabelFBBTR010.Any(c => c.Name == "L_FAX") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_FAX").DisplayValue : "";
        F_MOBILE_FORWARD = LabelFBBTR010.Any(c => c.Name == "F_MOBILE_FORWARD") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "F_MOBILE_FORWARD").DisplayValue : "";
        L_MOBILE_FORWARD = LabelFBBTR010.Any(c => c.Name == "L_MOBILE_FORWARD") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_MOBILE_FORWARD").DisplayValue : "";
        T_MOBILE_FORWARD = LabelFBBTR010.Any(c => c.Name == "T_MOBILE_FORWARD") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "T_MOBILE_FORWARD").DisplayValue : "";
        M_MOBILE_FORWARD = LabelFBBTR010.Any(c => c.Name == "M_MOBILE_FORWARD") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "M_MOBILE_FORWARD").DisplayValue : "";
        L_FIXED_CHARGE_RATE = LabelFBBTR010.Any(c => c.Name == "L_FIXED_CHARGE_RATE") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_FIXED_CHARGE_RATE").DisplayValue : "";
        L_FIXED_TERM = LabelFBBTR010.Any(c => c.Name == "L_FIXED_TERM") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_FIXED_TERM").DisplayValue : "";
        L_FIXED_TERM_1 = LabelFBBTR010.Any(c => c.Name == "L_FIXED_TERM_1") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_FIXED_TERM_1").DisplayValue : "";
        L_FIXED_TERM_2 = LabelFBBTR010.Any(c => c.Name == "L_FIXED_TERM_2") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_FIXED_TERM_2").DisplayValue : "";
        L_FIXED_TERM_3 = LabelFBBTR010.Any(c => c.Name == "L_FIXED_TERM_3") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_FIXED_TERM_3").DisplayValue : "";
        L_FIXED_TERM_4 = LabelFBBTR010.Any(c => c.Name == "L_FIXED_TERM_4") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_FIXED_TERM_4").DisplayValue : "";
        L_FIXED_TERM_5 = LabelFBBTR010.Any(c => c.Name == "L_FIXED_TERM_5") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_FIXED_TERM_5").DisplayValue : "";
        L_FIXED_TERM_6 = LabelFBBTR010.Any(c => c.Name == "L_FIXED_TERM_6") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_FIXED_TERM_6").DisplayValue : "";

        L_FIXED_TERM_4_1 = LabelFBBTR010.Any(c => c.Name == "L_FIXED_TERM_4_1") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_FIXED_TERM_4_1").DisplayValue : "";
        L_FIXED_TERM_4_2 = LabelFBBTR010.Any(c => c.Name == "L_FIXED_TERM_4_2") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_FIXED_TERM_4_2").DisplayValue : "";
        L_FIXED_TERM_4_3 = LabelFBBTR010.Any(c => c.Name == "L_FIXED_TERM_4_3") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_FIXED_TERM_4_3").DisplayValue : "";
        L_FIXED_TERM_4_4 = LabelFBBTR010.Any(c => c.Name == "L_FIXED_TERM_4_4") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_FIXED_TERM_4_4").DisplayValue : "";

        L_FIXED_TERM_4_3_1 = LabelFBBTR010.Any(c => c.Name == "L_FIXED_TERM_4_3_1") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_FIXED_TERM_4_3_1").DisplayValue : "";
        L_FIXED_TERM_4_3_2 = LabelFBBTR010.Any(c => c.Name == "L_FIXED_TERM_4_3_2") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_FIXED_TERM_4_3_2").DisplayValue : "";
        L_FIXED_TERM_4_3_3 = LabelFBBTR010.Any(c => c.Name == "L_FIXED_TERM_4_3_3") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_FIXED_TERM_4_3_3").DisplayValue : "";
        L_FIXED_TERM_4_3_4 = LabelFBBTR010.Any(c => c.Name == "L_FIXED_TERM_4_3_4") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_FIXED_TERM_4_3_4").DisplayValue : "";
        L_FIXED_TERM_4_3_5 = LabelFBBTR010.Any(c => c.Name == "L_FIXED_TERM_4_3_5") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_FIXED_TERM_4_3_5").DisplayValue : "";
        L_FIXED_TERM_4_3_6 = LabelFBBTR010.Any(c => c.Name == "L_FIXED_TERM_4_3_6") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_FIXED_TERM_4_3_6").DisplayValue : "";

        L_LIST = LabelFBBTR010.Any(c => c.Name == "L_LIST") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_LIST").DisplayValue : "";
        L_CHARGE = LabelFBBTR010.Any(c => c.Name == "L_CHARGE") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_CHARGE").DisplayValue : "";
        L_INSTALL_RATE = LabelFBBTR010.Any(c => c.Name == "L_INSTALL_RATE") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_INSTALL_RATE").DisplayValue : "";
        L_INSTALL_RATE_VALUE = LabelFBBTR010.Any(c => c.Name == "L_INSTALL_RATE") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_INSTALL_RATE").LovValue3 : "";
        L_MAINTEN_FEE = LabelFBBTR010.Any(c => c.Name == "L_MAINTEN_FEE") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_MAINTEN_FEE").DisplayValue : "";
        L_MAINTEN_FEE_VALUE = LabelFBBTR010.Any(c => c.Name == "L_MAINTEN_FEE") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_MAINTEN_FEE").LovValue3 : "";
        L_BAHT_MIN = LabelFBBTR010.Any(c => c.Name == "L_BAHT_MIN") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_BAHT_MIN").DisplayValue : "";
        L_BAHT_MONTH = LabelFBBTR010.Any(c => c.Name == "L_BAHT_MONTH") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_BAHT_MONTH").DisplayValue : "";
        L_CALL_IN_RATE = LabelFBBTR010.Any(c => c.Name == "L_CALL_IN_RATE") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_CALL_IN_RATE").DisplayValue : "";
        L_CALL_IN_RATE_VALUE = LabelFBBTR010.Any(c => c.Name == "L_CALL_IN_RATE") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_CALL_IN_RATE").LovValue3 : "";
        L_BAHT_TIME = LabelFBBTR010.Any(c => c.Name == "L_BAHT_TIME") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_BAHT_TIME").DisplayValue : "";
        L_CALL_OUT_RATE = LabelFBBTR010.Any(c => c.Name == "L_CALL_OUT_RATE") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_CALL_OUT_RATE").DisplayValue : "";
        L_CALL_OUT_RATE_VALUE = LabelFBBTR010.Any(c => c.Name == "L_CALL_OUT_RATE") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_CALL_OUT_RATE").LovValue3 : "";
        L_CALL_IN_AIS = LabelFBBTR010.Any(c => c.Name == "L_CALL_IN_AIS") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_CALL_IN_AIS").DisplayValue : "";
        L_CALL_IN_AIS_VALUE = LabelFBBTR010.Any(c => c.Name == "L_CALL_IN_AIS") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_CALL_IN_AIS").LovValue3 : "";
        L_CALL_OUT_AIS = LabelFBBTR010.Any(c => c.Name == "L_CALL_OUT_AIS") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_CALL_OUT_AIS").DisplayValue : "";
        L_CALL_OUT_AIS_VALUE = LabelFBBTR010.Any(c => c.Name == "L_CALL_OUT_AIS") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_CALL_OUT_AIS").LovValue3 : "";
        L_FREE_FIXEDLINE = LabelFBBTR010.Any(c => c.Name == "L_FREE_FIXEDLINE") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_FREE_FIXEDLINE").DisplayValue : "";
        L_UNLIMITED = LabelFBBTR010.Any(c => c.Name == "L_UNLIMITED") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_UNLIMITED").DisplayValue : "";
        L_PER_MIN = LabelFBBTR010.Any(c => c.Name == "L_PER_MIN") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_PER_MIN").DisplayValue : "";
        L_PER_TIME = LabelFBBTR010.Any(c => c.Name == "L_PER_TIME") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_PER_TIME").DisplayValue : "";
        L_CALLING_RATE = LabelFBBTR010.Any(c => c.Name == "L_CALLING_RATE") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_CALLING_RATE").DisplayValue : "";
        L_REMARK_VOICE_RATE = LabelFBBTR010.Any(c => c.Name == "L_REMARK_VOICE_RATE") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_REMARK_VOICE_RATE").DisplayValue : "";
        L_CALL_FREE = LabelFBBTR010.Any(c => c.Name == "L_CALL_FREE") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_CALL_FREE").DisplayValue : "";
        L_MINUTE = LabelFBBTR010.Any(c => c.Name == "L_MINUTE") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_MINUTE").DisplayValue : "";



        SHOW_ICON_FIXEDLINE_CUST_REGISTER = LabelFBBTR010.Any(c => c.Name == "SHOW_ICON_FIXEDLINE_CUST_REGISTER") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "SHOW_ICON_FIXEDLINE_CUST_REGISTER").DisplayValue : "";
        SHOW_ICON_FIXEDLINE_SSO_REGISTER = LabelFBBTR010.Any(c => c.Name == "SHOW_ICON_FIXEDLINE_SSO_REGISTER") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "SHOW_ICON_FIXEDLINE_SSO_REGISTER").DisplayValue : "";
        SHOW_ICON_FIXEDLINE_CUST_VAS = LabelFBBTR010.Any(c => c.Name == "SHOW_ICON_FIXEDLINE_CUST_VAS") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "SHOW_ICON_FIXEDLINE_CUST_VAS").DisplayValue : "";
        SHOW_ICON_FIXEDLINE_SSO_VAS = LabelFBBTR010.Any(c => c.Name == "SHOW_ICON_FIXEDLINE_SSO_VAS") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "SHOW_ICON_FIXEDLINE_SSO_VAS").DisplayValue : "";

        SHOW_ICON_PLAYBOX_CUST_REGISTER = LabelFBBTR010.Any(c => c.Name == "SHOW_ICON_PLAYBOX_CUST_REGISTER") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "SHOW_ICON_PLAYBOX_CUST_REGISTER").DisplayValue : "";
        SHOW_ICON_PLAYBOX_SSO_REGISTER = LabelFBBTR010.Any(c => c.Name == "SHOW_ICON_PLAYBOX_SSO_REGISTER") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "SHOW_ICON_PLAYBOX_SSO_REGISTER").DisplayValue : "";
        SHOW_ICON_PLAYBOX_CUST_VAS = LabelFBBTR010.Any(c => c.Name == "SHOW_ICON_PLAYBOX_CUST_VAS") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "SHOW_ICON_PLAYBOX_CUST_VAS").DisplayValue : "";
        SHOW_ICON_PLAYBOX_SSO_VAS = LabelFBBTR010.Any(c => c.Name == "SHOW_ICON_PLAYBOX_SSO_VAS") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "SHOW_ICON_PLAYBOX_SSO_VAS").DisplayValue : "";

        DEFAULT_ICON_PLAYBOX_CUST_REGISTER = LabelFBBTR010.Any(c => c.Name == "SHOW_ICON_PLAYBOX_CUST_REGISTER") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "SHOW_ICON_PLAYBOX_CUST_REGISTER").DefaultValue : "";
        DEFAULT_ICON_PLAYBOX_SSO_REGISTER = LabelFBBTR010.Any(c => c.Name == "SHOW_ICON_PLAYBOX_SSO_REGISTER") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "SHOW_ICON_PLAYBOX_SSO_REGISTER").DefaultValue : "";
        DEFAULT_ICON_PLAYBOX_CUST_VAS = LabelFBBTR010.Any(c => c.Name == "SHOW_ICON_PLAYBOX_CUST_VAS") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "SHOW_ICON_PLAYBOX_CUST_VAS").DefaultValue : "";
        DEFAULT_ICON_PLAYBOX_SSO_VAS = LabelFBBTR010.Any(c => c.Name == "SHOW_ICON_PLAYBOX_SSO_VAS") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "SHOW_ICON_PLAYBOX_SSO_VAS").DefaultValue : "";

        L_AIS_PLAYBOX = LabelFBBTR010.Any(c => c.Name == "L_AIS_PLAYBOX") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_AIS_PLAYBOX").DisplayValue : "";
        L_INTERNET_TV = LabelFBBTR010.Any(c => c.Name == "L_INTERNET_TV") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_INTERNET_TV").DisplayValue : "";
        L_FIXEDLINE_VOIP = LabelFBBTR010.Any(c => c.Name == "L_FIXEDLINE_VOIP") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_FIXEDLINE_VOIP").DisplayValue : "";
        L_FIXEDLINE_DES = LabelFBBTR010.Any(c => c.Name == "L_FIXEDLINE_DES") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_FIXEDLINE_DES").DisplayValue : "";
        L_CLICK_CHECKBOX = LabelFBBTR010.Any(c => c.Name == "L_CLICK_CHECKBOX") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_CLICK_CHECKBOX").DisplayValue : "";
        L_SUM_DISCOUNT_INSTALL_RATE = LabelFBBTR010.Any(c => c.Name == "L_SUM_DISCOUNT_INSTALL_RATE") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_SUM_DISCOUNT_INSTALL_RATE").DisplayValue : "";

        L_GOLD_FULLHD = LabelFBBTR010.Any(c => c.Name == "L_GOLD_FULLHD") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_GOLD_FULLHD").DisplayValue : "";
        L_PLATINUM_FULLHD = LabelFBBTR010.Any(c => c.Name == "L_PLATINUM_FULLHD") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_PLATINUM_FULLHD").DisplayValue : "";
        L_GOLD_FULLHD_TRIAL = LabelFBBTR010.Any(c => c.Name == "L_GOLD_FULLHD_TRIAL") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_GOLD_FULLHD_TRIAL").DisplayValue : "";
        L_PLATINUM_FULLHD_TRIAL = LabelFBBTR010.Any(c => c.Name == "L_PLATINUM_FULLHD_TRIAL") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_PLATINUM_FULLHD_TRIAL").DisplayValue : "";
        L_MAINTEN_FEE2 = LabelFBBTR010.Any(c => c.Name == "L_MAINTEN_FEE2") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "L_MAINTEN_FEE2").DisplayValue : "";
    }
    string ESRIflag = "false";
    if (null != ViewBag.ESRIflag)
    {
        ESRIflag = ViewBag.ESRIflag;
    }

    var stlyeDisplay = "style=\"display: none;\"";
    if (ESRIflag == "true")
    {
        if (Model.CallfeascheckFlag == "N")
        {
            stlyeDisplay = "";
        }
    }

}

@*@using (Html.BeginForm("OnSave", "ResendOrder", FormMethod.Post, new { id = "iForm", enctype = "multipart/form-data", autocomplete = "off" }))
    {

    }*@

<div class="page-header i-header-fit">
    <div class="row">
        <div class="col-sm-12 col-md-12">
            <h3 style="margin-top: 0">@L_PAGE_NAME</h3>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-sm-12 col-md-12">
        <div class="panel panel-success">
            <div class="panel-heading">
                <h3 class="panel-title">
                    <span>@L_PAGE_SEARCH_PANEL</span>
                    <a data-toggle="collapse" class="pull-right" href="#SearchPanel2" onclick="onPanelToggle(this);" id="SearchPanelHeader2"><i class="fa fa-chevron-circle-down fa-lg" id="SearchPanelHeaderArrow2"></i></a>
                </h3>
            </div>
            <div id="SearchPanel2" class="panel-collapse collapse in">
                <div class="panel-body" style="min-height: 135px;">
                    <div id="dateselect" class="row">
                        <div class="col-sm-6 col-md-6">
                            <label>@L_PAGE_DATE_FROM</label>
                            @*<div style="position: absolute; width: 100%; height: 100%; z-index: 99999;">
                                    <input type="text" class="form-control" id="test_date" autocomplete="off" />
                                </div>*@
                            <div id="divDateFrom" class="i-fg-data-entry">
                                @(Html.Kendo().DatePicker().Name("dtpDateFrom")
                                    .HtmlAttributes(new { @class = "form-control i-form-control-extend" })
                                    .Format("dd/MM/yyyy")
                                    .Min(new DateTime(1900, 1, 1))
                                    .Max(new DateTime(2099, 12, 31))
                                    .Events(e => e.Change("Change_dtpDateFrom"))
                                    .ParseFormats(new string[] { "dd/MM/yyyy" }))
                                <div class="i-fg-data-entry-validation" id="validatefor-dtpDateFrom"></div>
                            </div>
                        </div>
                        <div class="col-sm-6 col-md-6">
                            <label>@L_PAGE_DATE_TO</label>
                            <div id="divDateTo" class="i-fg-data-entry">
                                @(Html.Kendo().DatePicker().Name("dtpDateTo")
                                    .HtmlAttributes(new { @class = "form-control i-form-control-extend" })
                                    .Format("dd/MM/yyyy")
                                    .Min(new DateTime(1900, 1, 1))
                                    .Max(new DateTime(2099, 12, 31))
                                    .Events(e => e.Change("Change_dtpDateTo")))
                                <div class="i-fg-data-entry-validation" id="validatefor-dtpDateTo"></div>
                            </div>
                        </div>
                    </div>
                    <div id="SearchRow1" class="row">
                        <div class="col-sm-6 col-md-6">
                            <label>ID Card No</label>
                            @*@Html.TextBoxFor(t => t.IN_ID_CARD_NO, new { maxlength = 50, @class = "dis k-textbox form-control" })*@
                            @Html.TextBox("txtIDCardNo", "", new { maxlength = 50, @class = "k-textbox form-control" })
                            <div class="i-fg-data-entry-validation" id="validatefor-txtFibreNetID"></div>
                        </div>
                        <div class="col-sm-6 col-md-6">
                            <label>Process Status</label>

                            @(Html.Kendo().DropDownList()
                                .Name("Status")
                                .DataTextField("TEXT")
                                .DataValueField("VALUE")
                                .HtmlAttributes(new { @class = "form-control i-form-control-extend" })
                                .DataSource(source =>
                                {
                                    source.Read(read =>
                                    {
                                        read.Action("SelectStatus", "ResendOrder");
                                    });
                                })
                                .Events(e => e.Change("onStatusChange")))

                        </div>
                    </div>
                    <div id="SearchRow2" class="row i-gap-top-1">
                        <div class="col-sm-6 col-md-6">
                        </div>
                        <div class="col-sm-6 col-md-6 i-text-align-right">
                            <a class="btn btn-default" onclick="_Clear();"><i class="fa fa-ban fa-lg"></i>&nbsp;&nbsp;@L_PAGE_CANCEL</a>
                            <a class="btn btn-info" onclick="_Search();"><i class="fa fa-search fa-lg"></i>&nbsp;&nbsp;@L_PAGE_SEARCH</a>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="gridresult" class="row">
    <div class="col-sm-12 col-md-12 ">
        @(Html.Kendo().Grid<WBBEntity.PanelModels.FBBWebConfigModels.OrderErrorLogList>()
            .Name("gridOrderErrorLog")
            .Columns(columns =>
            {
                columns.Bound(p => p.RowNumber).Title(@L_GRID_NO).HtmlAttributes(new { style = "text-align:center;" }).Width(50);
                columns.Bound(p => p.IN_ID_CARD_NO).Title(@L_GRID_ID_CARD_NO).HtmlAttributes(new { style = "text-align:left;" });
                columns.Bound(p => p.REQUEST_STATUS).Title(@L_GRID_REQUEST_STATUS).HtmlAttributes(new { style = "text-align:center;" });
                columns.Bound(p => p.NO_OF_SEND).Title(@L_GRID_NO_OFF_SEND).HtmlAttributes(new { style = "text-align:center;" });
                //columns.Bound(p => p.CREATED_DATE).Title(@L_GRID_ORDER_DATE).HtmlAttributes(new { style = "text-align:center;" });
                columns.Bound(p => p.UPDATED_DATE).Title(@L_GRID_RESEND_DATE).HtmlAttributes(new { style = "text-align:center;" });
                columns.Command(command =>
                {
                    command.Custom(@L_GRID_DORMITORY_VIEW).SendDataKeys(true).Click("EditOrder").Text("<i class='fa fa-pencil-square-o fa-lg'></i>&nbsp; " + @L_PAGE_VIEW);
                }).Width(100);
            })
                //.ToolBar(toolbar => toolbar.Template(""
                //    + "<div class='pull-right'><a onclick='_ResendOrder()' id='btnResend'  class='btn btn-default'><i class='fa fa-reply fa-lg'></i>&nbsp;"
                //    + @L_PAGE_SAVE + "</a>&nbsp;</div>"))
            .Scrollable(scrollable => scrollable.Height("auto"))
            .Pageable(pageable => pageable
                //.PageSizes(true)
            .Numeric(true)
            .PageSizes(new int[] { 20, 50, 100 }))
                //.Sortable()
            .AutoBind(false)
                //.Filterable()
            .DataSource(dataSource => dataSource
            .Ajax()
            .PageSize(20)
                //.Sort(sort => sort.Add(p => p.sale_key_dt).Descending())
            .Read(read => read.Action("SearchDataSourceOrderErrorLog", "ResendOrder")
            .Data("bindingValue"))
                //  .Events(eEvents => eEvents.Edit("disableOnEdit"))

            )
            .Events(e => e.DataBound("onGridDataBound"))
        )
    </div>
</div>

@*@using (Html.BeginForm("OnSave", "ResendOrder", FormMethod.Post, new { id = "iForm" }))
    {*@
<div id="editOrder" style="display: none;position: relative;">
    <ul class="nav nav-tabs">
        <li class="active"><a data-toggle="tab" href="#tabPackageInfo">ข้อมูลแพ็กเกจ</a></li>
        <li><a data-toggle="tab" href="#tabOption">บริการเสริม</a></li>
        <li><a data-toggle="tab" href="#tabCustInfo">ข้อมูลผู้สมัคร</a></li>
        <li><a data-toggle="tab" href="#tabInstallPlace">ข้อมูลสถานที่ติดตั้ง</a></li>
    </ul>

    <div class="tab-content">
        <div id="tabPackageInfo" class="tab-pane fade in active">
            <div id="divPackageInfo" class="panel-collapse collapse in">

                <div class="panel-body" style="min-height: 135px;">
                    <div id="page2">
                        @*@Html.Raw(stlyeDisplay)*@
                        <div class="form-summary col-md-8-5 col-xs-12 addrounded package-left">
                            <div id="optionInstallationBody"></div>

                            <p class="clearfix"></p>

                            <h4 class="title- page-header-order tgreen">@H_FBBTR002</h4>

                            <p class="clearfix"></p>

                            <i class="fa fa-chevron-right tgreen"></i>
                            <label id="lb002-1"></label>
                            <p class="clearfix"></p>

                            <div id="dynamicBody002"></div>

                            <p class="clearfix"></p>
                            <div class="col-sm-4 col-xs-12 col-md-offset-4">
                                <input type="text" name="GiftVoucher" id="GiftVoucher" class="form-control" placeholder="@L_PROMOTION_CODE" maxlength="@Length_Voucher_PIN" />
                            </div>
                            <div class="col-sm-6 col-xs-12 col-md-offset-3">
                                <div id="checkGiftVoucher" class="text-center"></div>
                            </div>
                            <p class="clearfix"></p>
                        </div>

                        <div class="form-summary2 col-md-4 col-xs-12 addrounded pull-right hidden-sm hidden-xs">
                            <p class="clearfix"></p>
                            <h4 class="greenheader page-header twhite">@L_SUMMARY</h4>
                            <div id="divFormSummarySelectPackage">
                                <div class="page-dot" id="pageDotEntranceFee" style="display:none">
                                    <i class="fa fa-chevron-right tgreen"></i><span class="tgreen">@L_CHARGE_ON_INSTALL_DATE</span>
                                    <p class="clearfix"></p>
                                    <div class="col-xs-7"><span id="lblEntranceFee">@L_ENTRANCE_FEE</span></div>
                                    <div class="col-xs-3 text-right"><span id="entranceFeeDetail"></span> @L_BAHT</div>
                                    <p class="clearfix"></p>
                                </div>
                                <div class="page-dot">
                                    <i class="fa fa-chevron-right tgreen"></i><span class="tgreen" id="o1">@L_SUMM_DETAIL1</span>
                                    <p class="clearfix"></p>
                                    <span id="summDetail"></span>
                                    <p class="clearfix"></p>
                                </div>

                                <div class="page-dot">
                                    <i class="fa fa-chevron-right tgreen"></i><span class="tgreen" id="o2">@L_SUMM_DETAIL5</span>
                                    <p class="clearfix"></p>
                                    <div class="col-xs-7-order"><span id="summLb1"></span><span id="summLb1Router"></span></div>
                                    <div class="col-xs-3-order text-right"><span id="summVal1"></span><span id="obaht"> @L_BAHT</span></div>
                                    <p class="clearfix"></p>
                                    <div class="col-xs-7-order"><span id="o3">@L_SUMM_DETAIL7</span></div>
                                    <div class="col-xs-3-order text-right"><span id="summVal2"></span> @L_BAHT</div>
                                    <p class="clearfix"></p>
                                    <div id="trTriplePlaboxPreIni" style="display: none">
                                        <div class="col-xs-7-order">@L_ONTOP_PLAYBOX_PRE_INITIATION</div>
                                        <div class="col-xs-3-order text-right"><span id="lblPreIniPrice"></span> @L_BAHT</div>
                                        <p class="clearfix"></p>
                                    </div>
                                    <div id="trTriplePlayBoxDisCountIni" style="display: none">
                                        <div class="col-xs-7-order">@L_ONTOP_PLAYBOX_DISCOUNT_INITIATION</div>
                                        <div class="col-xs-3-order text-right"><span id="lblIniDiscount"></span> @L_BAHT</div>
                                        <p class="clearfix"></p>
                                    </div>
                                    <div id="trInstallFixedLine" style="display: none">
                                        <div class="col-xs-7-order">@L_SUM_INSTALL_RATE</div>
                                        <div class="col-xs-3-order text-right"><span id="lblInstallFixedLine"></span> @L_BAHT</div>
                                        <p class="clearfix"></p>
                                    </div>
                                    <div id="trDiscountFixedLine" style="display: none">
                                        <div class="col-xs-7-order">@L_SUM_DISCOUNT_INSTALL_RATE</div>
                                        <div class="col-xs-3-order text-right"><span id="lblDiscountPriceFixedLine"></span> @L_BAHT</div>
                                        <p class="clearfix"></p>
                                    </div>
                                    <div class="col-xs-7-order" id="o4"><strong>@L_SUMM_DETAIL8</strong></div>
                                    <div class="col-xs-3-order text-right"><strong><span id="summTotal1"></span> @L_BAHT</strong></div>
                                    <p class="clearfix"></p>
                                </div>

                                <div class="page-dot">
                                    <i class="fa fa-chevron-right tgreen"></i><span class="tgreen" id="oProrate">@L_SUMM_DETAIL9</span>
                                    <p class="clearfix"></p>
                                    <div class="col-xs-7-order"><span id="o6">@L_SUMM_DETAIL10</span><span id="summLb3"></span></div>
                                    <div class="col-xs-3-order text-right"><span id="summVal3"></span> @L_BAHT</div>
                                    <p class="clearfix"></p>

                                    <div id="trFullHD" style="display: none">
                                        <div class="col-xs-7-order"><span id="lblFullHD"></span></div>
                                        <div class="col-xs-3-order text-right"><span id="lblSumFullHD"></span> @L_BAHT</div>
                                        <p class="clearfix"></p>
                                    </div>
                                    <div id="trFullHD2" style="display: none;">
                                        <span class="col-xs-7" id="lblFullHD2"></span>
                                        <div class="col-xs-3-order text-right"><span id="lblSumFullHD2"></span> @L_BAHT</div>
                                        <p class="clearfix"></p>
                                    </div>
                                    <div id="trDiscount" style="display:none ;">
                                        <span class="col-xs-7" id="DiscountVas">@L_DISCOUNT_DTL</span>
                                        <div class="col-xs-3-order text-right"><span id="summDiscountVas"></span> @L_BAHT</div>
                                        <p class="clearfix"></p>
                                    </div>
                                    <div id="trInstallMonthVas" style="display: none">
                                        <div class="col-xs-7-order"><span>@L_SUM_MAINTEN_RATE</span></div>
                                        <div class="col-xs-3-order text-right"><span id="lblInstallMonthPriceVas"></span> @L_BAHT</div>
                                        <p class="clearfix"></p>
                                    </div>

                                    <div class="col-xs-7-order"><strong><span id="o7">@L_SUMM_DETAIL11</span></strong></div>
                                    <div class="col-xs-3-order text-right"><strong><span id="summTotal2"></span> @L_BAHT</strong></div>
                                    <p class="clearfix"></p>
                                </div>

                                <div class="page-dot">
                                    <i class="fa fa-chevron-right tgreen"></i><span class="tgreen" id="o5">@L_SUMM_DETAIL13</span>
                                    <p class="clearfix"></p>
                                    <div class="col-xs-7-order"><span id="o62">@L_SUMM_DETAIL14</span></div>
                                    <div class="col-xs-3-order text-right"><span id="sumProrate"></span> @L_BAHT</div>
                                    <p class="clearfix"></p>

                                    <div class="col-xs-7-order"><strong><span id="o42">@L_SUMM_DETAIL15</span></strong></div>
                                    <div class="col-xs-3-order text-right"><strong><span id="sumTotalProrate"></span> @L_BAHT</strong></div>
                                    <p class="clearfix"></p>

                                    <div class="col-xs-7-order"><strong><span id="vat">@L_SUMM_DETAIL12</span></strong></div>
                                    <p class="clearfix"></p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <table style="display: none" id="tempOntopSEP" border="1"></table>
                    <table style="display: none" id="tempOntop" border="1"></table>
                    <table style="display: none" id="tempV" border="1" bordercolor="red"></table>
                    <table style="display: none" id="tempPlayBox" border="1"></table>
                    <table style="display: none" id="tempAutoMap" border="1"></table>
                    <table style="display: none" id="tempOrderFee" border="1"></table>

                    <input type="hidden" id="IsDbSp" />
                    <input type="hidden" id="hdlFBB_Con_YearLimitHigh" value="@FBB_Con_YearLimitHigh" />
                    <input type="hidden" id="hdlFBB_Con_YearLimitLow" value="@FBB_Con_YearLimitLow" />
                </div>
            </div>
        </div>

        <div id="tabOption" class="tab-pane fade">
            <div class="panel-collapse collapse in">
                <div class="panel-body" style="min-height: 135px;">
                    <div id="div_package_option" class="col-md-8-5 col-xs-12 addrounded package-left"></div>
                    <div class="col-md-4 col-xs-12 addrounded">
                        <p class="clearfix"></p>
                        <h4 class="greenheader page-header twhite">@L_SUMMARY</h4>

                        <div id="div_summary_package_option"></div>

                    </div>
                </div>
            </div>

        </div>

        <div id="tabCustInfo" class="tab-pane fade">
            @*<p class="clearfix"></p>
                <p class="clearfix"></p>*@
            <div id="divCustomerInfo" class="panel-collapse collapse in">

                <div class="panel-body" style="min-height: 135px;">

                    <div class="col-sm-1 col-xs-12">
                        <label id="lbl_RESIDENTIAL" for="CustomerRegisterPanelModel_L_RESIDENTIAL" class="radio-inline">
                            <input type="radio" id="CustomerRegisterPanelModel_L_RESIDENTIAL" checked="checked" value="R" name="typeselect" onchange="onCheckType(this.value,true);" />
                            @lRESIDENTIAL
                        </label>
                        <p class="clearfix"></p>
                    </div>
                    <div class="col-sm-2 col-xs-12">
                        <label id="lbl_GOVERNMENT" for="CustomerRegisterPanelModel_L_GOVERNMENT" class="radio-inline">
                            <input type="radio" id="CustomerRegisterPanelModel_L_GOVERNMENT" value="G" name="typeselect" onchange="onCheckType(this.value,true);" />
                            @lGOVERNMENT
                        </label>
                        <p class="clearfix"></p>
                    </div>
                    <div class="col-sm-2 col-xs-12">
                        <label id="lbl_BUSINESS" for="CustomerRegisterPanelModel_L_BUSINESS" class="radio-inline">
                            <input type="radio" id="CustomerRegisterPanelModel_L_BUSINESS" value="B" name="typeselect" onchange="onCheckType(this.value,true);" />
                            @lBUSINESS
                        </label>
                        <p class="clearfix"></p>
                    </div>
                    <p class="clearfix"></p>
                    <div class="col-sm-3-1 col-xs-12 ">
                        <select class="select" style="width: 100%" id="TITLE_CODE"
                                onchange="onChangeTITLE_CODE(this);" title="@lTITLE"></select>
                        <p class="clearfix"></p>
                    </div>
                    <div class="col-sm-3-1 col-xs-12" id="divFirstName">

                        @Html.TextBoxFor(Model => @Model.CustomerRegisterPanelModel.L_FIRST_NAME,
                new
                {
                    @title = lFIRST_NAME,
                    @id = "L_FIRST_NAME",
                    @class = "k-textbox form-control",
                    @maxlength = "50",
                    @placeholder = lFIRST_NAME,
                    @value = "",

                })
                        <p class="clearfix"></p>
                    </div>
                    <div class="col-sm-3-1 col-xs-12" id="divLastName">
                        @Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.L_LAST_NAME,
                new
                {
                    @title = lLAST_NAME,
                    @id = "L_LAST_NAME",
                    @class = "k-textbox form-control",
                    @maxlength = "50",
                    @placeholder = lLAST_NAME,
                    @value = ""
                })
                        <p class="clearfix"></p>
                    </div>
                    <div class="col-sm-3-1 col-xs-12" id="divGovermentName" style="display: none;">
                        @Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.L_GOVERNMENT_NAME,
                new
                {
                    @title = lGOVERNMENT_NAME,
                    @id = "L_GOVERNMENT_NAME",
                    @class = "k-textbox form-control",
                    @maxlength = "100",
                    @placeholder = lGOVERNMENT_NAME,
                    @value = ""
                })
                        <p class="clearfix"></p>
                    </div>
                    @Html.HiddenFor(Model => Model.TransactionID)
                    <p class="clearfix"></p>
                    <div class="col-sm-12 col-xs-12" id="divFill_Vat" style="display: none">
                        <label style="color: blue; font-size: 14px;">@lFILL_VAT</label>
                    </div>
                    <div class="col-sm-12 col-xs-12" id="divFill_Vat_B" style="display: none">
                        <label style="color: blue; font-size: 14px;">@lFILL_VAT_B</label>
                    </div>
                    <p class="clearfix"></p>
                    <div class="col-sm-3-1 col-xs-12">
                        <select class="select" style="width: 100%;" id="ID_CARD_NAME" onchange="onChangeID_CARD_NAME(this);" title="@lCARD_TYPE"></select>
                        <p class="clearfix"></p>
                    </div>
                    <div class="col-sm-3-1 col-xs-12">
                        <input id="L_CARD_NO" maxlength="20" class="k-textbox form-control" type="text" placeholder="@lCARD_NO" />
                        @*@Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.L_CARD_NO,
                            new
                            {
                                @title = lCARD_NO,
                                @id = "L_CARD_NO",
                                @class = "k-textbox form-control",
                                @maxlength = "20",
                                @placeholder = lCARD_NO,
                            })*@
                        <p class="clearfix"></p>
                    </div>
                    <div class="col-sm-3-1 col-xs-12" id="divContactPerson" style="display: none;">
                        @Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.L_CONTACT_PERSON,
                new
                {
                    @title = lCONTACT_PERSON,
                    @id = "L_CONTACT_PERSON",
                    @class = "k-textbox form-control",
                    @maxlength = "100",
                    @placeholder = lCONTACT_PERSON
                })
                        <p class="clearfix"></p>
                    </div>
                    <p class="clearfix"></p>
                    <div class="col-sm-3-1 col-xs-12">
                    </div>
                    <div class="col-sm-3-1 col-xs-12">
                        <input id="textImage" class="k-textbox form-control" type="text" readonly="readonly" placeholder="@lCOPY_ID_CARD_MASS" />
                        <input id="hidden_textImage" type="hidden" />
                        <p class="clearfix"></p>
                    </div>

                    <div id="divUploadpicR">
                        <div class="col-sm-3-1 col-xs-12">
                            @*<p class="clearfix"></p>*@
                        </div>
                        <div class="col-sm-3-1 col-xs-12">
                            <input id="file" type="file" name="files" class="upload_file" accept="image/*" />
                            <input id="textImage2" class="form-control" type="text" readonly="readonly" />
                            <input id="hidden_textImage2" type="hidden" />
                            @*<p class="clearfix"></p>*@
                        </div>
                        <!--edit by boat-->
                        <!--edit by boat-->
                        <div class="col-sm-3-1 col-xs-12" style="display: none;">
                            <img id="imgPhoto" src="" alt="" height="200" width="160" />
                        </div>

                        <div class="col-sm-3-1 col-xs-12">
                            <label role="button" class="btn btn-success" for="file">@lBROWSE</label>
                            <label role="button" class="btn btn-success" for="fileTakePhoto" id="fileTakePhoto" onclick="aisNativeTakePhoto('fileTakePhoto')">Take Photo</label>
                            <label role="button" class="btn btn-success" for="filesignature" id="filesignature" onclick="CreateSignature()">Signature</label>
                            &nbsp;&nbsp;
                            <label role="button" class="btn btn-danger" onclick="onRemoveUpload_Click(event,'textImage','file','fileTakePhoto','imgPhoto');">@lREMOVE</label>
                        </div>
                        <!--end edit -->

                        <p class="clearfix"></p>
                        <div class="col-sm-3-1 col-xs-12">
                        </div>
                        <div class="col-sm-3-1 col-xs-12">
                            <span class="label black-color" style="padding: 0 0 0 0 !important; white-space: normal !important;">@Html.Raw(lLIMIT_FILE)</span>
                        </div>
                        <p class="clearfix"></p>
                    </div>

                    <div id="divUploadpicBill" style="display: none;">
                        <div class="col-sm-3-1 col-sm-offset-4 col-xs-12">
                            <input id="fileBill" type="file" name="files" class="upload_file" accept="image/*" />
                            <input id="textImageBill" class="form-control" type="text" readonly="readonly" placeholder="@lCOPY_SERVICE_FEES" />
                            <p class="clearfix"></p>
                        </div>
                        <div class="col-sm-3-1 col-xs-12" style="display: none;">
                            <img id="imgPhotoBill" src="" alt="" height="200" width="160" />
                        </div>
                        <div class="col-sm-3-1 col-xs-12">
                            <label role="button" class="btn btn-success" for="fileBill">@lBROWSE</label>
                            <label role="button" class="btn btn-success" for="fileBillTakePhoto" id="fileBillTakePhoto" onclick="aisNativeTakePhoto('fileBillTakePhoto')">Take Photo</label>
                            &nbsp;&nbsp;
                            <label role="button" class="btn btn-danger" onclick="onRemoveUpload_Click(event,'textImageBill','fileBill','fileBillTakePhoto','imgPhotoBill');">@lREMOVE</label>
                        </div>
                        <p class="clearfix"></p>
                        <div class="col-sm-3-1 col-xs-12">
                        </div>
                        <div class="col-sm-8 col-xs-12">
                            <span class="label" style="padding: 0 0 0 0 !important; white-space: normal !important;">@Html.Raw(lLIMIT_FILE)</span>
                        </div>
                        <p class="clearfix"></p>
                        <div class="col-sm-3-1 col-xs-12">
                            <p class="clearfix"></p>
                        </div>
                        <div class="col-sm-3-1 col-xs-12">
                            <select class="select" style="width: 100%"
                                    id="ddlBillBrand" onchange="onChangeddlBillBrand();" title="@lBILL_BRAND"></select>
                            <p class="clearfix"></p>
                        </div>
                        <p class="clearfix"></p>
                    </div>

                    <div id="divUploadpicG1" style="display: none;">
                        <div class="col-sm-3-1 col-xs-12">
                            <p class="clearfix"></p>
                        </div>
                        <div class="col-sm-3-1 col-sm-offset-4 col-xs-12">
                            <input id="fileG1" type="file" name="files" class="upload_file" accept="image/*" />
                            <input id="textImageG1" class="k-textbox form-control" type="text" readonly="readonly" placeholder="@lCOPY_GOV_LET" />
                            <input id="hidden_textImageG1" type="hidden" />
                            <p class="clearfix"></p>
                        </div>
                        <div class="col-sm-3-1 col-xs-12" style="display: none;">
                            <img id="imgPhotoG1" src="" alt="" height="200" width="160" />
                        </div>
                        <div class="col-sm-3-1 col-xs-12">
                            <label role="button" class="btn btn-success" for="fileG1">@lBROWSE</label>
                            <label role="button" class="btn btn-success" for="fileG1TakePhoto" id="fileG1TakePhoto" onclick="aisNativeTakePhoto('fileG1TakePhoto')">Take Photo</label>
                            &nbsp;&nbsp;
                            <label role="button" class="btn btn-danger" onclick="onRemoveUpload_Click(event, 'textImageG1', 'fileG1','fileG1TakePhoto','imgPhotoG1');">@lREMOVE</label>
                        </div>
                        <p class="clearfix"></p>
                        <div class="col-sm-3-1 col-xs-12">
                        </div>
                        <div class="col-sm-3-1 col-xs-12">
                            <span class="label black-color" style="padding: 0 0 0 0 !important; white-space: normal !important;">@Html.Raw(lLIMIT_FILE)</span>
                        </div>
                        <p class="clearfix"></p>
                    </div>

                    <div id="divUploadpicG2" style="display: none;">
                        <div class="col-sm-3-1 col-xs-12">
                            <p class="clearfix"></p>
                        </div>
                        <div class="col-sm-3-1 col-xs-12">
                            <input id="fileG2" type="file" name="files" class="upload_file" accept="image/*" />
                            <input id="textImageG2" class="k-textbox form-control" type="text" readonly="readonly" placeholder="@lCOPY_AUT_SIG" />
                            <input id="hidden_textImageG2" type="hidden" />
                            <p class="clearfix"></p>
                        </div>
                        <div class="col-sm-3-1 col-xs-12" style="display: none;">
                            <img id="imgPhotoG2" src="" alt="" height="200" width="160" />
                        </div>
                        <div class="col-sm-3-1 col-xs-12">
                            <label role="button" class="btn btn-success" for="fileG2">@lBROWSE</label>
                            <label role="button" class="btn btn-success" for="fileG2TakePhoto" id="fileG2TakePhoto" onclick="aisNativeTakePhoto('fileG2TakePhoto')">Take Photo</label>
                            &nbsp;&nbsp;
                            <label role="button" class="btn btn-danger" onclick="onRemoveUpload_Click(event, 'textImageG2', 'fileG2','fileG2TakePhoto','imgPhotoG2');">@lREMOVE</label>
                        </div>
                        <p class="clearfix"></p>
                        <div class="col-sm-3-1 col-xs-12">
                        </div>
                        <div class="col-sm-3-1 col-xs-12">
                            <span class="label black-color" style="padding: 0 0 0 0 !important; white-space: normal !important;">@Html.Raw(lLIMIT_FILE)</span>
                        </div>
                        <p class="clearfix"></p>
                    </div>

                    <div id="divUploadpicG3" style="display: none;">
                        <div class="col-sm-3-1 col-xs-12">
                            <p class="clearfix"></p>
                        </div>
                        <div class="col-sm-3-1 col-xs-12">
                            <input id="fileG3" type="file" name="files" class="upload_file" accept="image/*" />
                            <input id="textImageG3" class="k-textbox form-control" type="text" readonly="readonly" placeholder="@lCOPY_OTHER_G" />
                            <input id="hidden_textImageG3" type="hidden" />
                            <p class="clearfix"></p>
                        </div>
                        <div class="col-sm-3-1 col-xs-12" style="display: none;">
                            <img id="imgPhotoG3" src="" alt="" height="200" width="160" />
                        </div>
                        <div class="col-sm-3-1 col-xs-12">
                            <label role="button" class="btn btn-success" for="fileG3">@lBROWSE</label>
                            <label role="button" class="btn btn-success" for="fileG3TakePhoto" id="fileG3TakePhoto" onclick="aisNativeTakePhoto('fileG3TakePhoto')">Take Photo</label>
                            &nbsp;&nbsp;
                            <label role="button" class="btn btn-danger" onclick="onRemoveUpload_Click(event, 'textImageG3', 'fileG3','fileG3TakePhoto','imgPhotoG3');">@lREMOVE</label>
                        </div>
                        <p class="clearfix"></p>
                        <div class="col-sm-3-1 col-xs-12">
                        </div>
                        <div class="col-sm-3-1 col-xs-12">
                            <span class="label black-color" style="padding: 0 0 0 0 !important; white-space: normal !important;">@Html.Raw(lLIMIT_FILE)</span>
                        </div>
                        <p class="clearfix"></p>
                    </div>

                    <div id="divUploadpicB1" style="display: none;">
                        <div class="col-sm-3-1 col-sm-offset-4 col-xs-12">
                            <input id="fileB1" type="file" name="files" class="upload_file" accept="image/*" />
                            <input id="textImageB1" class="k-textbox form-control" type="text" readonly="readonly" placeholder="@lCOPY_CERT_LET" />
                            <input id="hidden_textImageB1" type="hidden" />
                            <p class="clearfix"></p>
                        </div>
                        <div class="col-sm-3-1 col-xs-12" style="display: none;">
                            <img id="imgPhotoB1" src="" alt="" height="200" width="160" />
                        </div>
                        <div class="col-sm-3-1 col-xs-12">
                            <label role="button" class="btn btn-success" for="fileB1">@lBROWSE</label>
                            <label role="button" class="btn btn-success" for="fileB1TakePhoto" id="fileB1TakePhoto" onclick="aisNativeTakePhoto('fileB1TakePhoto')">Take Photo</label>
                            &nbsp;&nbsp;
                            <label role="button" class="btn btn-danger" onclick="onRemoveUpload_Click(event, 'textImageB1', 'fileB1','fileB1TakePhoto','imgPhotoB1');">@lREMOVE</label>
                        </div>
                        <p class="clearfix"></p>
                        <div class="col-sm-3-1 col-xs-12">
                        </div>
                        <div class="col-sm-3-1 col-xs-12">
                            <span class="label black-color" style="padding: 0 0 0 0 !important; white-space: normal !important;">@Html.Raw(lLIMIT_FILE)</span>
                        </div>
                        <p class="clearfix"></p>
                    </div>

                    <div id="divUploadpicB2" style="display: none;">
                        <div class="col-sm-3-1 col-xs-12">
                            <p class="clearfix"></p>
                        </div>
                        <div class="col-sm-3-1 col-xs-12">
                            <input id="fileB2" type="file" name="files" class="upload_file" accept="image/*" />
                            <input id="textImageB2" class="k-textbox form-control" type="text" readonly="readonly" placeholder="@lCOPY_DIREC_ID_CARD" />
                            <input id="hidden_textImageB2" type="hidden" />
                            <p class="clearfix"></p>
                        </div>
                        <div class="col-sm-3-1 col-xs-12" style="display: none;">
                            <img id="imgPhotoB2" src="" alt="" height="200" width="160" />
                        </div>
                        <div class="col-sm-3-1 col-xs-12">
                            <label role="button" class="btn btn-success" for="fileB2">@lBROWSE</label>
                            <label role="button" class="btn btn-success" for="fileB2TakePhoto" id="fileB2TakePhoto" onclick="aisNativeTakePhoto('fileB2TakePhoto')">Take Photo</label>
                            &nbsp;&nbsp;
                            <label role="button" class="btn btn-danger" onclick="onRemoveUpload_Click(event, 'textImageB2', 'fileB2','fileB2TakePhoto','imgPhotoB2');">@lREMOVE</label>
                        </div>
                        <p class="clearfix"></p>
                        <div class="col-sm-3-1 col-xs-12">
                        </div>
                        <div class="col-sm-3-1 col-xs-12">
                            <span class="label black-color" style="padding: 0 0 0 0 !important; white-space: normal !important;">@Html.Raw(lLIMIT_FILE)</span>
                        </div>
                        <p class="clearfix"></p>
                    </div>

                    <div id="divUploadpicB3" style="display: none;">
                        <div class="col-sm-3-1 col-xs-12">
                            <p class="clearfix"></p>
                        </div>
                        <div class="col-sm-3-1 col-xs-12">
                            <input id="fileB3" type="file" name="files" class="upload_file" accept="image/*" />
                            <input id="textImageB3" class="k-textbox form-control" type="text" readonly="readonly" placeholder="@lCOPY_ASS_ID_CARD" />
                            <input id="hidden_textImageB3" type="hidden" />
                            <p class="clearfix"></p>
                        </div>
                        <div class="col-sm-3-1 col-xs-12" style="display: none;">
                            <img id="imgPhotoB3" src="" alt="" height="200" width="160" />
                        </div>
                        <div class="col-sm-3-1 col-xs-12">
                            <label role="button" class="btn btn-success" for="fileB3">@lBROWSE</label>
                            <label role="button" class="btn btn-success" for="fileB3TakePhoto" id="fileB3TakePhoto" onclick="aisNativeTakePhoto('fileB3TakePhoto')">Take Photo</label>
                            &nbsp;&nbsp;
                            <label role="button" class="btn btn-danger" onclick="onRemoveUpload_Click(event, 'textImageB3', 'fileB3','fileB3TakePhoto','imgPhotoB3');">@lREMOVE</label>
                        </div>
                        <p class="clearfix"></p>
                        <div class="col-sm-3-1 col-xs-12">
                        </div>
                        <div class="col-sm-3-1 col-xs-12">
                            <span class="label black-color" style="padding: 0 0 0 0 !important; white-space: normal !important;">@Html.Raw(lLIMIT_FILE)</span>
                        </div>
                        <p class="clearfix"></p>
                    </div>

                    <div id="divUploadpicB4" style="display: none;">
                        <div class="col-sm-3-1 col-xs-12">
                            <p class="clearfix"></p>
                        </div>

                        <div class="col-sm-3-1 col-xs-12">
                            <input id="fileB4" type="file" name="files" class="upload_file" accept="image/*" />
                            <input id="textImageB4" class="k-textbox form-control" type="text" readonly="readonly" placeholder="@lCOPY_OTHER_B" />
                            <input id="hidden_textImageB4" type="hidden" />
                            <p class="clearfix"></p>
                        </div>
                        <div class="col-sm-3-1 col-xs-12" style="display: none;">
                            <img id="imgPhotoB4" src="" alt="" height="200" width="160" />
                        </div>
                        <div class="col-sm-3-1 col-xs-12">
                            <label role="button" class="btn btn-success" for="fileB4">@lBROWSE</label>
                            <label role="button" class="btn btn-success" for="fileB4TakePhoto" id="fileB4TakePhoto" onclick="aisNativeTakePhoto('fileB4TakePhoto')">Take Photo</label>
                            &nbsp;&nbsp;
                            <label role="button" class="btn btn-danger" onclick="onRemoveUpload_Click(event, 'textImageB4', 'fileB4','fileB4TakePhoto','imgPhotoB4');">@lREMOVE</label>
                        </div>
                        <p class="clearfix"></p>
                        <div class="col-sm-3-1 col-xs-12">
                        </div>
                        <div class="col-sm-3-1 col-xs-12">
                            <span class="label black-color" style="padding: 0 0 0 0 !important; white-space: normal !important;">@Html.Raw(lLIMIT_FILE)</span>
                        </div>
                        <p class="clearfix"></p>
                    </div>

                    <p class="clearfix"></p>
                    <div id="divBirthday" style="display: block;">
                        <div class="col-sm-2-1 col-xs-11">
                            @(Html.Kendo().DropDownList()
                .Name("ddlGender")
                .DataTextField("Text")
                .DataValueField("Value")
                .OptionLabel(lGENDER)
                .Value("-1")
                .HtmlAttributes(new { @class = "form-control i-form-control-extend" })
                .DataSource(source =>
                {
                    source.Read(read =>
                    {
                        read.Action("GetCustomerGender", "ResendOrder");
                    });
                })
                                    //.Events(e => e.Change("onStatusChange"))
                            )
                            <p class="clearfix"></p>
                        </div>
                        <div class="col-sm-2-1 col-xs-11">

                            <select class="form-control i-form-control-extend" style="width: 100%" id="ddlDay"></select>
                            <p class="clearfix"></p>
                            <input type="hidden" id="dayBirthdate" />
                            <input type="hidden" id="tDD" />
                            <input type="hidden" id="tMM" />
                            <input type="hidden" id="tYY" />
                            <input type="hidden" id="LanguagePage" value="1" />
                        </div>
                        <div class="col-sm-2-1 col-xs-11">
                            <select class="form-control i-form-control-extend" style="width: 100%" id="ddlMonth" onchange="setBirthDate()"></select>

                            <p class="clearfix"></p>
                            <input type="hidden" id="dayBirthMonth" />
                        </div>
                        <div class="col-sm-2-1 col-xs-11">
                            <select class="form-control i-form-control-extend" style="width: 100%" id="ddlYear" onchange="setBirthDate()"></select>

                            <p class="clearfix"></p>
                            <input type="hidden" id="dayBirthdyear" />
                        </div>
                    </div>
                    <p class="clearfix"></p>
                    <div class="col-sm-3-1 col-xs-12">
                        <select class="form-control i-form-control-extend" style="width: 100%"
                                id="ContactTime" onchange="onChangeContactTime();" title="@lSPECIFIC_TIME"></select>


                        <p class="clearfix"></p>
                    </div>
                    <p class="clearfix"></p>
                    <div class="col-sm-3-1 col-xs-12"><label>@L_CONTACT_MOBILE_NO_1</label></div>
                    <div class="col-sm-3-1 col-xs-12">
                        <div class="col-sm-12 col-xs-12 right-inner-addon" style="position: relative; z-index: 10; padding-left: 0 !important; padding-right: 0 !important">
                            @Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.L_MOBILE,
                    new
                    {
                        @title = lMOBILE,
                        @id = "L_MOBILE",
                        @class = "k-textbox form-control",
                        @maxlength = 10,
                        @placeholder = lMOBILE
                    })
                            <p class="clearfix"></p>
                        </div>
                    </div>
                    <p class="clearfix"></p>
                    <div class="col-sm-3-1 col-xs-12"><label>@L_CONTACT_MOBILE_NO_2</label></div>
                    <div class="col-sm-3-1 col-xs-12">
                        <div class="col-sm-12 col-xs-12 right-inner-addon" style="position: relative; z-index: 10; padding-left: 0 !important; padding-right: 0 !important">
                            @Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.L_OR,
                    new
                    {
                        @title = lOR,
                        @id = "L_OR",
                        @class = "k-textbox form-control",
                        @maxlength = 10,
                        @placeholder = lOR
                    })
                            <p class="clearfix"></p>
                        </div>
                    </div>
                    <p class="clearfix"></p>
                    <div class="col-sm-3-1 col-xs-12" id="DIV_HAVE_FIXED_LINE">
                        <label>
                            @L_HAVE_FIXED_LINE
                        </label>
                    </div>
                    <div class="col-sm-3-1 col-xs-12">
                        <label class="radio-inline">
                            <input type="radio" name="L_HAVE_FIXED_LINE" value="Y" />@L_YES
                        </label>
                        &nbsp;&nbsp;
                        <label class="radio-inline">
                            <input type="radio" name="L_HAVE_FIXED_LINE" value="N" />@L_NO
                        </label>


                    </div>
                    <p class="clearfix"></p>

                    <div class="col-sm-3-1 col-xs-12"><label>@L_CONTACT_MOBILE_NO_3</label></div>
                    <div class="col-sm-3-1 col-xs-12">

                        @Html.TextBox("txtHomePhone", "", new { maxlength = 9, @class = "k-textbox form-control", @title = lHOME_PHONE, @placeholder = lHOME_PHONE })
                        <p class="clearfix"></p>
                    </div>
                    <div class="col-sm-3-1 col-xs-12">

                        @Html.TextBox("txtHomePhoneTo", "", new { maxlength = 5, @class = "k-textbox form-control", @title = lEXT_NUMBER, @placeholder = lEXT_NUMBER })
                        <p class="clearfix"></p>
                    </div>
                    <p class="clearfix"></p>
                    <div class="col-sm-3-1 col-xs-12">
                        @Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.L_EMAIL,
                new
                {
                    @title = lEMAIL,
                    @id = "L_EMAIL",
                    @class = "k-textbox form-control",
                    @maxlength = "100",
                    @placeholder = lEMAIL,
                })
                        <p class="clearfix"></p>
                    </div>
                    <div class="col-sm-8-1 col-xs-12">
                        @Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.L_REMARK,
                new
                {
                    @title = lREMARK,
                    @id = "L_REMARK",
                    @class = "k-textbox form-control",
                    @maxlength = "1000",
                    @placeholder = lREMARK,
                })
                        <p class="clearfix"></p>
                    </div>
                    <p class="clearfix"></p>
                    <div>
                        <div style="position: relative;">
                            <div class="col-sm-3-1 col-xs-12"><label>@lINSTALLATION_DATE</label></div>
                        </div>
                        <div style="position: relative;">
                            <div class="col-sm-3-1 col-xs-12" id="divThDatePicker">
                                <div class="col-sm-12 col-xs-12 right-inner-addon" style="position: relative; padding-left: 0 !important; padding-right: 0 !important">
                                    <i class="fa fa-calendar" style="z-index: 100000;"></i>
                                    <input id="dtpInstallDateTH_text" type="text" class="k-textbox form-control" title="@lINSTALLATION_DATE" readonly="readonly" autocomplete="off" />
                                    <div class="i-fg-data-entry-validation" id="validatefor-dtpDateTh"></div>
                                </div>
                                <div style="position: absolute; width: 100%; height: 100%; z-index: -10;">
                                    <input type="text" class="form-control" id="dtpInstallDateTH" autocomplete="off" />
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-3-1 col-xs-12 right-inner-addon" id="divEnDatePicker" style="display: none;">
                        <i class="fa fa-calendar"></i>
                        <input type="text" class="k-textbox form-control" id="dtpInstallDateEN" title="@lINSTALLATION_DATE" readonly="readonly" autocomplete="off" />
                        <p class="clearfix"></p>
                    </div>

                    <p class="clearfix"></p>
                    <p class="clearfix"></p>
                    <div id="divResponsiveTimeSLot" style="display: none;">
                        <div class="col-sm-12 col-xs-12">
                            <div class="visible-sm visible-xs" style="left: 40%; top: 10%; position: absolute;" id="swipe">
                                <img src="~/img/i-swipe.png">
                            </div>
                            <div class="table-responsive">
                                <div id="divTimeSlot" style="margin-left: auto; margin-right: auto; width: 730px;">
                                </div>
                                <p class="clearfix"></p>
                            </div>
                            <p class="clearfix"></p>
                            <div style="clear: both;"></div>
                            <div id="divTimeSlotRemark">
                            </div>
                        </div>
                    </div>
                    <p class="clearfix"></p>

                    <div id="divShowStaffSection" style="display:none;">
                        <i class="fa fa-chevron-right tgreen"></i>
                        @lFOR_OFFICER
                        <i class="fa fa-plus tgreen"></i>
                    </div>
                    <div id="divStaffSection" style="display:none;">
                        <p class="clearfix"></p>
                        <div class="col-sm-3-1 col-xs-12">
                            @Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.L_LOC_CODE,
                                new
                                {
                                    @title = lLOC_CODE,
                                    @id = "L_LOC_CODE",
                                    @class = "k-textbox form-control",
                                    @maxlength = "10",
                                    @placeholder = lLOC_CODE
                                })
                        </div>
                        <div class="col-sm-3-1 col-xs-12">
                            @Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.L_ASC_CODE,
                            new
                            {
                                @title = lASC_CODE,
                                @id = "L_ASC_CODE",
                                @class = "k-textbox form-control",
                                @maxlength = "10",
                                @placeholder = lASC_CODE
                            })
                        </div>
                        <p class="clearfix"></p>
                        <p class="clearfix"></p>
                        <div class="col-sm-3-1 col-xs-12">
                            @Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.L_STAFF_ID,
                            new
                            {
                                @title = lSTAFF_ID,
                                @id = "L_STAFF_ID",
                                @class = "k-textbox form-control",
                                @maxlength = "10",
                                @placeholder = lSTAFF_ID
                            })

                        </div>
                        <div class="col-sm-3-1 col-xs-12">
                            @Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.L_SALE_REP,
                            new
                            {
                                @title = lSALE_REP,
                                @id = "L_SALE_REP",
                                @class = "k-textbox form-control",
                                @maxlength = "30",
                                @placeholder = lSALE_REP
                            })
                        </div>
                        <p class="clearfix"></p>
                        <div class="col-sm-3-1 col-xs-12">
                            <div class="checkbox">
                                <label for="chkEventCode" style="font-weight: normal !important" class="checkbox-inline">
                                    <input name="CustomerRegisterPanelModel_L_CHECK_EVENT_CODE" id="chkEventCode" type="checkbox" onchange="displayCPEPlayBox(this.checked)" />
                                    @lCHECK_EVENT_CODE
                                </label>
                            </div>
                        </div>
                        <div class="col-sm-6 col-xs-12">
                            <p class="clearfix"></p>
                        </div>
                        <p class="clearfix"></p>
                        <div class="col-sm-3-1 col-xs-12">
                            @Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.CPE_Serial,
                            new
                            {
                                @title = lCPE_SERIAL,
                                @id = "CPE_Serial",
                                @class = "k-textbox form-control",
                                @maxlength = "30",
                                @placeholder = lCPE_SERIAL,
                            })
                            <p class="clearfix"></p>
                            <span id="cpe_serial_barcode_hdn" style="display: none;"></span>
                        </div>
                        <div style="display:none" class="col-sm-1 col-xs-12">
                            <img style="display:none" id="iconBarcode_CPE" src="~/img/camera_icon-green.png" width="30" onclick="ScanCPE()" />
                        </div>
                        <div class="col-sm-3-1 col-xs-12">
                            @Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.PlayBox_Serial,
                            new
                            {
                                @title = lPLAYBOX_SERIAL,
                                @id = "PlayBox_Serial",
                                @class = "k-textbox form-control",
                                @maxlength = "30",
                                @placeholder = lPLAYBOX_SERIAL,
                            })
                            <p class="clearfix"></p>
                        </div>
                        <div class="col-sm-1 col-xs-12">
                            <img style="display:none" id="iconBarcode_PB" src="~/img/camera_icon-green.png" width="30" onclick="ScanPB()" />
                        </div>
                        <p class="clearfix"></p>
                        <div class="col-sm-3-1 col-xs-12" style="display:none">
                            @Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.L_EVENT_CODE,
                            new
                            {
                                @title = lEVENT_CODE,
                                @id = "L_EVENT_CODE",
                                @class = "k-textbox form-control",
                                @maxlength = "50",
                                @placeholder = lEVENT_CODE,
                                @onchange = "onchangeEvent();"
                            })
                            <div class="i-fg-data-entry-validation" id="validatefor-L_EVENT_CODE">
                                <i class="fa fa-warning i-red"> Event Code ไม่สามารกรอกได้ในหน้านี้</i>
                            </div>
                        </div>
                        
                        @*<p class="clearfix"></p>
                        <p class="clearfix"></p>*@
                        <div class="col-sm-3-1 col-xs-12">
                            @Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.L_VOUCHER_PIN,
                            new
                            {
                                @title = L_VOUCHER_PIN,
                                @id = "L_VOUCHER_PIN",
                                @class = "k-textbox form-control",
                                @maxlength = "50",
                                @placeholder = L_VOUCHER_PIN,

                            })
                        </div>

                        <div id="divPeriodDate" style="position: relative;display:none">
                            <div class="col-sm-3-1 col-xs-12" id="divThDatePicker">
                                <div class="col-sm-12 col-xs-12 right-inner-addon" style="position: relative; padding-left: 0 !important; padding-right: 0 !important">
                                    <i class="fa fa-calendar" style="z-index: 100000;"></i>
                                    <input id="dtpPeriodDateTH_text" disabled="disabled" type="text" class="k-textbox form-control" title="@lINSTALLATION_DATE" readonly="readonly" autocomplete="off" />
                                    <div class="i-fg-data-entry-validation" id="validatefor-dtpPeriodDateTH_text"></div>
                                </div>
                                <div style="position: absolute; width: 100%; height: 100%; z-index: -10;">
                                    <input type="text" class="form-control" id="dtpPeriodDateTH" autocomplete="off" />
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-3-1 col-xs-12 right-inner-addon" style="display: none;">
                            <i class="fa fa-calendar"></i>
                            <input type="text" class="k-textbox form-control" id="dtpPeriodDateEN" title="@lINSTALLATION_DATE" readonly="readonly" autocomplete="off" />
                            <p class="clearfix"></p>
                        </div>
                        <div style="display:none" class="col-sm-3-1 col-xs-12">
                            <div id="interactive" class="viewport">
                                <video id="video" autoplay="autoplay" preload="auto"></video>
                            </div>
                        </div>
                        @*<p class="clearfix"></p>*@
                        <div class="col-sm-3-1 col-xs-12">
                            @Html.TextAreaFor(Model => Model.CustomerRegisterPanelModel.L_FOR_CS_TEAM,
                            new
                            {
                                @title = lFOR_CS_TEAM,
                                @id = "L_FOR_CS_TEAM",
                                @class = "k-textbox form-control",
                                @rows = "3",
                                @maxlength = "50",
                                @placeholder = lFOR_CS_TEAM
                            })
                        </div>
                        <p class="clearfix"></p>
                    </div>

                </div>
                <p class="clearfix"></p>
            </div>

        </div>

        <div id="tabInstallPlace" class="tab-pane fade">

            <div id="divInstallPlace" class="panel-collapse collapse in">
                <div class="panel-body" style="min-height: 135px;">

                    <i class="fa fa-chevron-right tgreen"></i> <b>@lINSTALL_ADDR</b>
                    <p class="clearfix"></p>

                    <div class="col-sm-2-1 col-xs-6">
                        @Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.AddressPanelModelSetup.L_HOME_NUMBER_2,
                            new
                            {
                                @title = lHOME_NUMBER_2,
                                @id = "AddressPanelModelSetup_L_HOME_NUMBER_2",
                                @class = "k-textbox form-control",
                                //@readonly = "readonly",
                                @maxlength = FBB_Con_Length_Home_Number,
                                @placeholder = lHOME_NUMBER_2,
                                //@onkeypress = "return validateAddress(this);"
                            })
                        <p class="clearfix"></p>
                    </div>
                    <div class="col-sm-2-1 col-xs-6">
                        @Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.AddressPanelModelSetup.L_MOO,
                            new
                            {
                                @title = lMOO,
                                @id = "AddressPanelModelSetup_L_MOO",
                                @class = "k-textbox form-control",
                                //@readonly = "readonly",
                                @maxlength = FBB_Con_Length_Moo,
                                @placeholder = lMOO
                            })
                        <p class="clearfix"></p>
                    </div>
                    <div class="col-sm-5-1 col-xs-12">
                        @Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.AddressPanelModelSetup.L_MOOBAN,
                            new
                            {
                                @title = lMOOBAN,
                                @id = "AddressPanelModelSetup_L_MOOBAN",
                                @class = "k-textbox form-control",
                                //@readonly = "readonly",
                                @maxlength = FBB_Con_Length_Mooban,
                                @placeholder = lMOOBAN
                            })
                        <p class="clearfix"></p>
                    </div>
                    <p class="clearfix"></p>
                    <div class="col-sm-5-1 col-xs-12">
                        @Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.AddressPanelModelSetup.L_BUILD_NAME,
                            new
                            {
                                @title = lBUILD_NAME,
                                @id = "AddressPanelModelSetup_L_BUILD_NAME",
                                @class = "k-textbox form-control",
                                //@readonly = "readonly",
                                @maxlength = FBB_Con_Length_Building,
                                @placeholder = lBUILD_NAME
                            })
                        <p class="clearfix"></p>
                    </div>
                    <div class="col-sm-2-1 col-xs-6">
                        @Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.AddressPanelModelSetup.L_FLOOR,
                            new
                            {
                                @title = lFLOOR,
                                @id = "AddressPanelModelSetup_L_FLOOR",
                                @class = "k-textbox form-control",
                                //@readonly = "readonly",
                                @maxlength = FBB_Con_Length_Floor,
                                @placeholder = lFLOOR
                            })
                        <p class="clearfix"></p>
                    </div>
                    <div class="col-sm-2-1 col-xs-6">
                        @Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.AddressPanelModelSetup.L_ROOM,
                            new
                            {
                                @title = lROOM,
                                @id = "AddressPanelModelSetup_L_ROOM",
                                @class = "k-textbox form-control",
                                //@readonly = "readonly",
                                @maxlength = FBB_Con_Length_Room,
                                @placeholder = lROOM
                            })
                        <p class="clearfix"></p>
                    </div>
                    <p class="clearfix"></p>
                    <div class="col-sm-5-1 col-xs-12">
                        @Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.AddressPanelModelSetup.L_SOI,
                            new
                            {
                                @title = lSOI,
                                @id = "AddressPanelModelSetup_L_SOI",
                                @class = "k-textbox form-control",
                                //@readonly = "readonly",
                                @maxlength = FBB_Con_Length_Soi,
                                @placeholder = lSOI
                            })
                        <p class="clearfix"></p>
                    </div>
                    <div class="col-sm-5-1 col-xs-12">
                        @Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.AddressPanelModelSetup.L_ROAD,
                            new
                            {
                                @title = lROAD,
                                @id = "AddressPanelModelSetup_L_ROAD",
                                @class = "k-textbox form-control",
                                //@readonly = "readonly",
                                @maxlength = FBB_Con_Length_Road,
                                @placeholder = lROAD
                            })
                        <p class="clearfix"></p>
                    </div>
                    <p class="clearfix"></p>

                    <div class="col-sm-5-1 col-xs-12">


                        <select class="form-control i-form-control-extend" style="width: 100%" id="TumbonSetup" name="SetupTumbol" onchange="onChangeTumbon();"></select>


                        @Html.HiddenFor(model => model.CustomerRegisterPanelModel.AddressPanelModelSetup.L_TUMBOL)
                        <p class="clearfix"></p>
                    </div>
                    <div class="col-sm-5-1 col-xs-12">

                        <select class="form-control i-form-control-extend" style="width: 100%" id="AmphurSetup" name="SetupAmphur" onchange="onChangeAmphur();"></select>

                        @Html.HiddenFor(model => model.CustomerRegisterPanelModel.AddressPanelModelSetup.L_AMPHUR)
                        <p class="clearfix"></p>
                    </div>
                    <p class="clearfix"></p>

                    <div class="col-sm-5-1 col-xs-12">
                        <select class="form-control i-form-control-extend" style="width: 100%" id="ProvinceSetup" name="SetupProvince" onchange="onChangeProvince();"></select>
                        @Html.HiddenFor(model => model.CustomerRegisterPanelModel.AddressPanelModelSetup.L_PROVINCE)
                        <p class="clearfix"></p>
                    </div>
                    <div class="col-sm-5-1 col-xs-12">

                        <select class="form-control i-form-control-extend" style="width: 100%" id="ZipCodeSetup" onchange="onChangeZipCode(this);"></select>

                        <p class="clearfix"></p>
                    </div>

                    @*<p class="clearfix page-header"><b>สถานที่ต้องการติดตั้ง</b></p>*@
                    <p class="clearfix"></p>
                    <i class="fa fa-chevron-right tgreen"></i> <b>@lBILLING_ADDR</b>
                    <p class="clearfix"></p>

                    <div class="col-sm-5-1 col-xs-12">

                        <div class="checkbox1">
                            @lBILLING_ADDR
                            <label for="chkSameAsAddrSetUp" style="font-weight: normal !important">
                                <input name="CustomerRegisterPanelModel_L_SAME_AS_ADDR"
                                       id="chkSameAsAddrSetUp" type="checkbox" onclick="onClickSameAsAddrSetUp();"
                                       value="CustomerRegisterPanelModel.L_SAME_AS_ADDR" />
                            </label>
                            @lSAME_AS_ADDR

                        </div>
                    </div>
                    <p class="clearfix"></p>
                    <div class="col-sm-2-1 col-xs-6">
                        @Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_HOME_NUMBER_2,
                            new
                            {
                                @title = lHOME_NUMBER_2,
                                @id = "AddressPanelModelSendDoc_L_HOME_NUMBER_2",
                                @class = "k-textbox form-control",
                                @maxlength = FBB_Con_Length_Home_Number,
                                @placeholder = lHOME_NUMBER_2,
                                //@onkeypress = "return validateAddress(this);"
                            })
                        <p class="clearfix"></p>
                    </div>
                    <div class="col-sm-2-1 col-xs-6">
                        @Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_MOO,
                            new
                            {
                                @title = lMOO,
                                @id = "AddressPanelModelSendDoc_L_MOO",
                                @class = "k-textbox form-control",
                                @maxlength = FBB_Con_Length_Moo,
                                @placeholder = lMOO,
                            })
                        <p class="clearfix"></p>
                    </div>
                    <div class="col-sm-5-1 col-xs-12">
                        @Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_MOOBAN,
                            new
                            {
                                @title = lMOOBAN,
                                @id = "AddressPanelModelSendDoc_L_MOOBAN",
                                @class = "k-textbox form-control",
                                @maxlength = FBB_Con_Length_Mooban,
                                @placeholder = lMOOBAN,
                            })
                        <p class="clearfix"></p>
                    </div>
                    <p class="clearfix"></p>

                    <div class="col-sm-5-1 col-xs-12">
                        @Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_BUILD_NAME,
                            new
                            {
                                @title = lBUILD_NAME,
                                @id = "AddressPanelModelSendDoc_L_BUILD_NAME",
                                @class = "k-textbox form-control",
                                @maxlength = FBB_Con_Length_Building,
                                @placeholder = lBUILD_NAME,
                            })
                        <p class="clearfix"></p>
                    </div>
                    <div class="col-sm-2-1 col-xs-6">
                        @Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_FLOOR,
                            new
                            {
                                @title = lFLOOR,
                                @id = "AddressPanelModelSendDoc_L_FLOOR",
                                @class = "k-textbox form-control",
                                @maxlength = FBB_Con_Length_Floor,
                                @placeholder = lFLOOR,
                            })
                        <p class="clearfix"></p>
                    </div>
                    <div class="col-sm-2-1 col-xs-6">
                        @Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_ROOM,
                            new
                            {
                                @title = lROOM,
                                @id = "AddressPanelModelSendDoc_L_ROOM",
                                @class = "k-textbox form-control",
                                @maxlength = FBB_Con_Length_Room,
                                @placeholder = lROOM,
                            })
                        <p class="clearfix"></p>
                    </div>
                    <p class="clearfix"></p>

                    <div class="col-sm-5-1 col-xs-12">
                        @Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_SOI,
                            new
                            {
                                @title = lSOI,
                                @id = "AddressPanelModelSendDoc_L_SOI",
                                @class = "k-textbox form-control",
                                @maxlength = FBB_Con_Length_Soi,
                                @placeholder = lSOI,
                            })
                        <p class="clearfix"></p>
                    </div>
                    <div class="col-sm-5-1 col-xs-12">
                        @Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_ROAD,
                            new
                            {
                                @title = lROAD,
                                @id = "AddressPanelModelSendDoc_L_ROAD",
                                @class = "k-textbox form-control",
                                @maxlength = FBB_Con_Length_Road,
                                @placeholder = lROAD,
                            })
                        <p class="clearfix"></p>
                    </div>
                    <p class="clearfix"></p>
                    <div class="col-sm-5-1 col-xs-12">
                        <select class="form-control i-form-control-extend" style="width: 100%" id="TumbonSendDoc" name="SendDocTumbol" onchange="onChangeTumbonSendDoc();"></select>
                        <p class="clearfix"></p>
                    </div>
                    <div class="col-sm-5-1 col-xs-12">
                        <select class="form-control i-form-control-extend" style="width: 100%" id="AmphurSendDoc" name="SendDocAmphur" onchange="onChangeAmphurSendDoc();"></select>
                        <p class="clearfix"></p>
                    </div>
                    <p class="clearfix"></p>
                    <div class="col-sm-5-1 col-xs-12">
                        <select class="form-control i-form-control-extend" style="width: 100%" id="ProvinceSendDoc" name="SendDocProvince" onchange="onChangeProvinceSendDoc();"></select>
                        <p class="clearfix"></p>
                    </div>
                    <div class="col-sm-5-1 col-xs-12">
                        <select class="form-control i-form-control-extend" style="width: 100%" id="ZipCodeSendDoc" onchange="onChangeZipCode(this);"></select>
                        <p class="clearfix"></p>
                    </div>

                    <div id="divAddressVat" style="display: none;">
                        <div>
                            <p class="clearfix"></p>
                            <i class="fa fa-chevron-right tgreen"></i><b>
                                @lVAT_ADDR
                            </b>
                            <p class="clearfix"></p>

                            <div class="col-sm-5-1 col-xs-12">
                                <div class="checkbox1">
                                    @lBILLING_ADDR
                                    <label for="chkSameAsAddrSetUp2" style="font-weight: normal !important">
                                        <input name="CustomerRegisterPanelModel_L_SAME_AS_ADDR"
                                               id="chkSameAsAddrSetUp2" type="checkbox" onclick="onClickSameAsAddrSetUp2();"
                                               value="CustomerRegisterPanelModel.L_SAME_AS_ADDR" />
                                    </label>
                                    @lSAME_AS_ADDR

                                </div>
                            </div>
                            <p class="clearfix"></p>

                            <div class="col-sm-12 col-xs-12">
                                <div id="divSameAsAddrOnSendDoc" style="display: none;" class="checkbox1">
                                    @lVAT_ADDR
                                    <label for="chkSameAsAddrSendDoc" style="font-weight: normal !important">
                                        <input name="CustomerRegisterPanelModel.L_SAME_AS_ADDR"
                                               id="chkSameAsAddrSendDoc" type="checkbox"
                                               onclick="onClickSameAsAddrSendDoc();"
                                               value="CustomerRegisterPanelModel.L_SAME_AS_ADDR" />
                                    </label>
                                    @lSAME_AS_ADDR


                                    <p class="clearfix"></p>
                                </div>
                            </div>

                            <div class="col-sm-2-1 col-xs-6">
                                @Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.AddressPanelModelVat.L_HOME_NUMBER_2,
                new
                {
                    @title = lHOME_NUMBER_2,
                    @id = "AddressPanelModelVat_L_HOME_NUMBER_2",
                    @class = "k-textbox form-control",
                    @maxlength = FBB_Con_Length_Home_Number,
                    @placeholder = lHOME_NUMBER_2,
                    //@onkeypress = "return validateAddress(this);"
                })
                                <p class="clearfix"></p>
                            </div>
                            <div class="col-sm-2-1 col-xs-6">
                                @Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.AddressPanelModelVat.L_MOO,
                new
                {
                    @title = lMOO,
                    @id = "AddressPanelModelVat_L_MOO",
                    @class = "k-textbox form-control",
                    @maxlength = FBB_Con_Length_Moo,
                    @placeholder = lMOO,
                })
                                <p class="clearfix"></p>
                            </div>
                            <div class="col-sm-5-1 col-xs-12">
                                @Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.AddressPanelModelVat.L_MOOBAN,
                new
                {
                    @title = lMOOBAN,
                    @id = "AddressPanelModelVat_L_MOOBAN",
                    @class = "k-textbox form-control",
                    @maxlength = FBB_Con_Length_Mooban,
                    @placeholder = lMOOBAN,
                })
                            </div>
                            <p class="clearfix"></p>

                            <div class="col-sm-5-1 col-xs-12">
                                @Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.AddressPanelModelVat.L_BUILD_NAME,
                new
                {
                    @title = lBUILD_NAME,
                    @id = "AddressPanelModelVat_L_BUILD_NAME",
                    @class = "k-textbox form-control",
                    @maxlength = FBB_Con_Length_Building,
                    @placeholder = lBUILD_NAME,
                })
                                <p class="clearfix"></p>
                            </div>

                            <div class="col-sm-2-1 col-xs-6">
                                @Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.AddressPanelModelVat.L_FLOOR,
                new
                {
                    @title = lFLOOR,
                    @id = "AddressPanelModelVat_L_FLOOR",
                    @class = "k-textbox form-control",
                    @maxlength = FBB_Con_Length_Floor,
                    @placeholder = lFLOOR,
                })
                                <p class="clearfix"></p>
                            </div>
                            <div class="col-sm-2-1 col-xs-6">
                                @Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.AddressPanelModelVat.L_ROOM,
                new
                {
                    @title = lROOM,
                    @id = "AddressPanelModelVat_L_ROOM",
                    @class = "k-textbox form-control",
                    @maxlength = FBB_Con_Length_Room,
                    @placeholder = lROOM,
                })

                                <p class="clearfix"></p>
                            </div>
                            <p class="clearfix"></p>

                            <div class="col-sm-5-1 col-xs-12">
                                @Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.AddressPanelModelVat.L_SOI,
                new
                {
                    @title = lSOI,
                    @id = "AddressPanelModelVat_L_SOI",
                    @class = "k-textbox form-control",
                    @maxlength = FBB_Con_Length_Soi,
                    @placeholder = lSOI,
                })
                                <p class="clearfix"></p>
                            </div>

                            <div class="col-sm-5-1 col-xs-12">
                                @Html.TextBoxFor(Model => Model.CustomerRegisterPanelModel.AddressPanelModelVat.L_ROAD,
                new
                {
                    @title = lROAD,
                    @id = "AddressPanelModelVat_L_ROAD",
                    @class = "k-textbox form-control",
                    @maxlength = FBB_Con_Length_Road,
                    @placeholder = lROAD,
                })
                                <p class="clearfix"></p>
                            </div>

                            <p class="clearfix"></p>
                            <div class="col-sm-5-1 col-xs-12">
                                <select class="form-control i-form-control-extend" style="width: 100%"
                                        id="TumbonVat" name="CustomerRegisterPanelModel.AddressPanelModelVat.L_TUMBOL" onchange="onChangeTumbonVat(this);" title="@lTUMBOL">
                                    <option value='' disabled selected>@lTUMBOL</option>
                                </select>

                                <p class="clearfix"></p>
                            </div>
                            <div class="col-sm-5-1 col-xs-12">
                                <select class="form-control i-form-control-extend" style="width: 100%"
                                        id="AmphurVat" name="CustomerRegisterPanelModel.AddressPanelModelVat.L_AMPHUR" onchange="onChangeAmphurVat(this);" title="@lAMPHUR">
                                    <option value='' disabled selected>@lAMPHUR</option>
                                </select>
                                <p class="clearfix"></p>
                            </div>
                            <p class="clearfix"></p>

                            <div class="col-sm-5-1 col-xs-12">
                                <select class="form-control i-form-control-extend" style="width: 100%"
                                        id="ProvinceVat" name="CustomerRegisterPanelModel.AddressPanelModelVat.L_PROVINCE" onchange="onChangeProvinceVat(this);" title="@lPROVINCE"></select>
                                <p class="clearfix"></p>
                            </div>
                            <div class="col-sm-5-1 col-xs-12">
                                <select class="form-control i-form-control-extend" style="width: 100%"
                                        id="ZipCodeVat" name="CustomerRegisterPanelModel.AddressPanelModelVat.ZIPCODE_ID" onchange="onChangeZipCodeVat(this);" title="@lZIPCODE">
                                    <option value='' disabled selected>@lZIPCODE</option>
                                </select>
                                <p class="clearfix"></p>
                            </div>
                        </div>
                        <p class="clearfix page-header"></p>

                    </div>

                </div>
                <p class="clearfix"></p>
            </div>

        </div>

        <div class="col-sm-5-1 col-xs-12 i-text-align-right pull-right">
            <a class="btn btn-default" onclick="closeModal()" id="btnClose"><i class="fa fa-ban fa-lg"></i>&nbsp;&nbsp;@bCLOSE</a>
            <a class="btn btn-default" onclick="onSubmit()" id="btnSave"><i class="fa fa-floppy-o fa-lg"></i>&nbsp;&nbsp;@bSAVE</a>
        </div>
    </div>


</div>
<div id="fixedline_Detail" style="display:none">
    <p class="clearfix"></p>
    <p class="clearfix"></p>
    <div id="divPromotionDetail">
        <i class="fa fa-chevron-right tgreen"></i><strong>@L_FIXED_CHARGE_RATE</strong>
        <div class="panel">
            <table class="table-non-border panel-info">
                <thead class="text-center" style="background: #e9ecf0;">
                    <tr>
                        <th class="text-left">@L_LIST</th>
                        <th class="text-left">@L_CHARGE</th>
                    </tr>
                </thead>
                <tbody class="text-left">
                    <tr>
                        <td>@L_INSTALL_RATE</td>
                        <td>@L_INSTALL_RATE_VALUE @L_BAHT_TIME</td>
                    </tr>
                    <tr id="maintainance">
                        <td>@L_MAINTEN_FEE</td>
                        <td id="maintainBath"></td>

                    </tr>
                    <tr id="callfree" style="display: none">
                        <td>@L_CALL_FREE</td>
                        <td id="callfreeMin"></td>
                    </tr>
                </tbody>
                <thead class="text-center" style="background: #e9ecf0;">
                    <tr>
                        <th class="text-left">@L_CALLING_RATE</th>
                        <th class="text-left"></th>
                    </tr>
                </thead>
                <tbody class="text-left">
                    <tr>
                        <td>@L_FREE_FIXEDLINE</td>
                        <td>@L_UNLIMITED</td>
                    </tr>
                    <tr>
                        <td>@L_CALL_IN_AIS</td>
                        <td>@L_PER_MIN  @L_CALL_IN_AIS_VALUE   @L_BAHT</td>
                    </tr>
                    <tr>
                        <td>@L_CALL_OUT_AIS</td>
                        <td>@L_PER_MIN @L_CALL_OUT_AIS_VALUE @L_BAHT</td>
                    </tr>
                    <tr>
                        <td>@L_CALL_IN_RATE</td>
                        <td>@L_PER_TIME @L_CALL_IN_RATE_VALUE  @L_BAHT</td>
                    </tr>
                    <tr>
                        <td>@L_CALL_OUT_RATE</td>
                        <td>@L_PER_MIN @L_CALL_OUT_RATE_VALUE  @L_BAHT</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <strong>
            @L_REMARK_VOICE_RATE
        </strong>
        <p class="clearfix"></p>
        <p class="clearfix"></p>
    </div>
    <div id="divVoipPage">
        <div id="divPromotionDetailVasSum">
        </div>
        <div id="divConditionOfService">
        </div>

        <p class="clearfix"></p>
        <div class="add-rounded-gray">
            <p class="clearfix"></p>
            <ol type="1">
                <strong>@L_FIXED_TERM</strong>
                <li>
                    @L_FIXED_TERM_1 @*<a href="~/Template/003_005_rate.pdf" target="_blank">@L_CHARGE_RATE</a>*@
                </li>
                <li>
                    @L_FIXED_TERM_2
                </li>
                <li>
                    @L_FIXED_TERM_3
                </li>
                <li>
                    @L_FIXED_TERM_4
                    <ul style="list-style-type:disc; padding-left: 40px;">
                        <li>@L_FIXED_TERM_4_1</li>
                        <li>@L_FIXED_TERM_4_2</li>
                        <li>
                            @L_FIXED_TERM_4_3
                            <ul style="list-style-type:none; padding-left: 40px;">
                                <li>@L_FIXED_TERM_4_3_1</li>
                                <li>@L_FIXED_TERM_4_3_2</li>
                                <li>@L_FIXED_TERM_4_3_3</li>
                                <li>@L_FIXED_TERM_4_3_4</li>
                                <li>@L_FIXED_TERM_4_3_5</li>
                                <li>@L_FIXED_TERM_4_3_6</li>
                            </ul>
                        </li>
                        <li>@L_FIXED_TERM_4_4</li>
                    </ul>
                </li>
                <li>@L_FIXED_TERM_5</li>
                <li>@L_FIXED_TERM_6</li>
            </ol>
            <p class="clearfix"></p>
            <p class="clearfix"></p>
            <p class="clearfix"></p>
        </div>
        <p class="clearfix"></p>
    </div>
</div>


<div class="modal fade" id="modal003_txtError" role="dialog" aria-labelledby="basic-modal-content_label">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            </div>
            <div class="modal-body">
                <div class="add-border-rounded-green">
                    <p class="clearfix"></p>
                    <h3 class="text-center" style="font-weight: bold;">@L_ERROR</h3>
                    <div id="CPEError"><span style="font-weight: bold;">CPE SERIAL NO.</span> <span id="txtCPESerial"></span>&nbsp;&nbsp;<span style="font-weight: bold;">Error:</span> <span id="txtCPEError"></span>&nbsp;&nbsp;<span id="txtCPEStatusDes"></span></div>
                    <div id="PBError"><span style="font-weight: bold;">PLAYBOX SERIAL NO.</span> <span id="txtPESerial"></span>&nbsp;&nbsp;<span style="font-weight: bold;">Error:</span> <span id="txtPBError"></span>&nbsp;&nbsp;<span id="txtPBStatusDes"></span></div>

                    <p class="clearfix"></p>
                    <div class="col-md-12 text-center">
                        <p class="clearfix"></p>
                        <button type="button" class="btn btn-default" data-dismiss="modal" onclick="$.modal.close();">&nbsp; OK &nbsp; </button>
                    </div>
                </div>
            </div>
            <div class="modal-footer" style="border-top: none;">
            </div>
        </div>
    </div>
</div>

<div id="divHiddenField" style="display: none;">
    <input id="cust_subcat" type="hidden" value="" />
    <input type="hidden" id="hdlTITLE" value="@lTITLE" />

    <input type="hidden" id="hdlDATE_OF_BIRTH" value="@lDATE_OF_BIRTH" />
    <input type="hidden" id="hdlMONTH_OF_BIRTH" value="@lMONTH_OF_BIRTH" />
    <input type="hidden" id="hdlYEAR_OF_BIRTH" value="@lYEAR_OF_BIRTH" />
    <input type="hidden" id="hdlPROVINCE" value="@lPROVINCE" />
    <input type="hidden" id="hdlAMPHER" value="@lAMPHUR" />
    <input type="hidden" id="hdlTUMBON" value="@lTUMBOL" />
    <input type="hidden" id="hdlZIPCODE" value="@lZIPCODE" />
    <input type="hidden" id="hdlPROVINCESEND" value="@lPROVINCE" />
    <input type="hidden" id="hdlAMPHERSEND" value="@lAMPHUR" />
    <input type="hidden" id="hdlTUMBONSEND" value="@lTUMBOL" />
    <input type="hidden" id="hdlZIPCODESEND" value="@lZIPCODE" />

    <input type="hidden" id="P_Region" />
    <input type="hidden" id="COVERAGE_L_PROVINCE" />
    <input type="hidden" id="COVERAGE_L_AMPHUR" />
    <input type="hidden" id="COVERAGE_L_TUMBOL" />
    <input type="hidden" id="P_addrtype" />
    <input type="hidden" id="P_build_name" />
    <input type="hidden" id="P_build_no" />
    <input type="hidden" id="P_L_LOC_CODE" value="@LC" />
    <input type="hidden" id="P_L_ASC_CODE" />
    <input type="hidden" id="P_outType" />
    <input type="hidden" id="P_outSubType" />
    <input type="hidden" id="tCardType" />
    <input id="SelectPackageModel_" type="hidden" />
    <input id="hdSelectVas" value="1" type="hidden" />
    <input id="hdSelectPlayBox" value="0" type="hidden" />
    <input id="hdSelectSPONTOP" value="0" type="hidden" />
    <input id="hdSelectSubRadioSP" value="" type="hidden" />
    <input id="hdPackageCode" value="" type="hidden" />
    <input id="hdShowSPOntopPopup" value="" type="hidden" />
    <input id="HdchkAC_Category" type="hidden" />
    <input id="HdFunctionOwner" type="hidden" />
    <input id="HdFunctionSubProduct" type="hidden" />
    <input id="HdchkSerenade_Flag" type="hidden" />
    <input id="CoveragePanelModel_SffServiceYear" type="hidden" />
    <input id="HdSELECT_BY_PAY_INSTALLATION" type="hidden" value="@SELECT_BY_PAY_INSTALLATION" />
    <input id="HdSELECT_FREE_INSTALL_VALUE" type="hidden" value="@SELECT_FREE_INSTALL_VALUE" />
    <input id="HdSELECT_PAY_INSTALL_VALUE" type="hidden" value="@SELECT_PAY_INSTALL_VALUE" />
    <input id="HdDESCRIPTION_PAY_INSTALL" type="hidden" value="@DESCRIPTION_PAY_INSTALL" />
    <input type="hidden" id="HdAddTriple" name="HdAddTriple" value="" />
    <input id="HdL_INTERNET_WIRE" type="hidden" value="@L_INTERNET_WIRE" />
    <input id="HdL_INTERNET_WIRELESS" type="hidden" value="@L_INTERNET_WIRELESS" />
    <input id="HdL_REQUEST" type="hidden" value="@L_REQUEST" />
    <input id="HdL_NOT_REQUIRE" type="hidden" value="@L_NOT_REQUIRE" />
    <input id="HdL_DISCOUNT" type="hidden" value="@L_DISCOUNT" />
    <input id="HdL_TECHNOLOGY" type="hidden" value="@L_TECHNOLOGY" />
    <input id="HdL_COL_AIS_FIBRE" type="hidden" value="@L_COL_AIS_FIBRE" />
    <input id="HdL_COL_AIS_FIXEDLINE" type="hidden" value="@L_COL_AIS_FIXEDLINE" />
    <input id="HdL_COL_AIS_PLAYBOX" type="hidden" value="@L_COL_AIS_PLAYBOX" />
    <input id="HdL_DOWNLOAD" type="hidden" value="@L_DOWNLOAD" />
    <input id="HdL_UPLOAD" type="hidden" value="@L_UPLOAD" />
    <input id="HdL_MONTHLY_FEE" type="hidden" value="@L_MONTHLY_FEE" />
    <input id="HdL_TRIPPLE_FIXEDLINE_PACKAGE" type="hidden" value="@L_TRIPPLE_FIXEDLINE_PACKAGE" />
    <input id="HdL_TRIPLE_PLAYBOX_PACKAGE_1" type="hidden" value="@L_TRIPLE_PLAYBOX_PACKAGE_1" />
    <input id="HdL_TRIPLE_PLAYBOX_PACKAGE_6" type="hidden" value="@L_TRIPLE_PLAYBOX_PACKAGE_6" />
    <input id="HdL_SUMM_DETAIL_WireBB" type="hidden" value="@L_SUMM_DETAIL_WireBB" />
    <input id="HdL_SUMM_DETAIL_SWiFi" type="hidden" value="@L_SUMM_DETAIL_SWiFi" />
    <input id="HdL_SUMM_DETAIL_FTTx" type="hidden" value="@L_SUMM_DETAIL_FTTx" />
    <input id="HdL_DISC_DETAIL_FREE" type="hidden" value="@L_DISC_DETAIL_FREE" />

    <input id="HdL_LAN_WIRING" type="hidden" value="@L_LAN_WIRING" />
    <input id="HdL_LAN_WIRING_1" type="hidden" value="@L_LAN_WIRING_1" />
    <input id="HdL_LAN_WIRING_2" type="hidden" value="@L_LAN_WIRING_2" />
    <input id="HdL_LAN_WIRING_3" type="hidden" value="@L_LAN_WIRING_3" />

    <input id="HdL_SUMM_DETAIL6" type="hidden" value="@L_SUMM_DETAIL6" />
    <input id="HdL_DISC_DETAIL_SOME" type="hidden" value="@L_DISC_DETAIL_SOME" />
    <input id="HdL_PROMOTION1" type="hidden" value="@L_PROMOTION1" />
    <input id="HdSWIFI_ROUTER_VALUE" type="hidden" value="@SWIFI_ROUTER_VALUE" />
    <input id="HdSWIFI_ROUTER_PRE_VALUE" type="hidden" value="@SWIFI_ROUTER_PRE_VALUE" />
    <input id="HdL_PRIVILAGE1" type="hidden" value="@L_PRIVILAGE1" />
    <input id="HdL_PRIVILAGE2" type="hidden" value="@L_PRIVILAGE2" />
    <input id="HDL_WIFI_ROUTER" type="hidden" value="@L_WIFI_ROUTER" />
    <input id="HDL_WIFI_DETAIL2" type="hidden" value="@L_WIFI_DETAIL2" />
    <input id="HDL_ROUTER" type="hidden" value="@L_ROUTER" />
    <input id="HDL_WIFI_DETAIL1" type="hidden" value="@L_WIFI_DETAIL1" />
    <input id="HDL_WIFI_ROUTER_ONU" type="hidden" value="@L_WIFI_ROUTER_ONU" />
    <input id="HDL_MSG_PROMO_CORRECT" type="hidden" value="@L_MSG_PROMO_CORRECT" />
    <input id="HDL_MORE_DETAIL" type="hidden" value="@L_MORE_DETAIL" />

    <input id="HDFILE_TYPE" type="hidden" value="@FILE_TYPE" />
    <input id="HDFILE_SIZE" type="hidden" value="@FILE_SIZE" />
    <input id="HDLERR_FILE_SIZE" type="hidden" value="@lERR_FILE_SIZE" />
    <input id="HDLERR_FILE_TYPE" type="hidden" value="@lERR_FILE_TYPE" />

    <input id="HDlGOVERNMENT" type="hidden" value="@lGOVERNMENT" />
    <input id="HDlBUSINESS" type="hidden" value="@lBUSINESS" />

    <input id="PlugAndPlayFlow" type="hidden" value="" />
    <input id="hdL_TopUp" type="hidden" value="" />

    <input id="hd_SelectVas_Flag" type="hidden" value="" />
    <input id="hd_SelectPlayBox_Flag" type="hidden" value="" />
    <input id="hd_SelectPlayPBL_Flag" type="hidden" value="" />
    <input id="hd_DISCOUNT_VALUE" type="hidden" value="" />
    <input id="hd_DISCOUNT_DAY" type="hidden" value="" />
    <input id="hd_WIFIAccessPoint" type="hidden" value="" />
    <!--for validate-->
    <input id="hdlCARD_TYPE" type="hidden" value="@lCARD_TYPE" />

    <input id="hdlFBB_Con_CharNotonName" type="hidden" value="@FBB_Con_CharNotonName" />
    <input id="hdlFBB_Con_CharNotOnNameLastName" type="hidden" value="@FBB_Con_CharNotOnNameLastName" />
    <input id="hdlFBB_InputCompanyName" type="hidden" value="@FBB_InputCompanyName" />
    <input id="hdlFBB_Con_LengthIDCardNumberID_CARD" type="hidden" value="@FBB_Con_LengthIDCardNumberID_CARD" />
    <input id="hdlFBB_Con_LengthIDCardNumberIMM_CARD" type="hidden" value="@FBB_Con_LengthIDCardNumberIMM_CARD" />
    <input id="hdlFBB_Con_LengthIDCardNumberMONK_CERT" type="hidden" value="@FBB_Con_LengthIDCardNumberMONK_CERT" />
    <input id="hdlFBB_Con_Input_ID_CARD" type="hidden" value="@FBB_Con_Input_ID_CARD" />
    <input id="hdlFBB_Con_Length_ID_Card_Number_TAX_ID" type="hidden" value="@FBB_Con_Length_ID_Card_Number_TAX_ID" />
    <input id="hdlFBB_Con_Input_TAX_ID" type="hidden" value="@FBB_Con_Input_TAX_ID" />
    <input id="hdlFBB_Con_Input_MONK_CERT" type="hidden" value="@FBB_Con_Input_MONK_CERT" />
    <input id="hdlFBB_Con_Length_ID_Card_Number_GOV_LET" type="hidden" value="@FBB_Con_Length_ID_Card_Number_GOV_LET" />
    <input id="hdlFBB_Con_Input_GOV_LET" type="hidden" value="@FBB_Con_Input_GOV_LET" />
    <input id="hdlFBB_Con_Length_ID_Card_Number_PASSPORT" type="hidden" value="@FBB_Con_Length_ID_Card_Number_PASSPORT" />
    <input id="hdlFBB_Con_Input_PASSPORT" type="hidden" value="@FBB_Con_Input_PASSPORT" />
    <input id="hdlFBB_Con_Length_ID_Card_Number_EMB_LET" type="hidden" value="@FBB_Con_Length_ID_Card_Number_EMB_LET" />
    <input id="hdlFBB_Con_Input_EMB_LET" type="hidden" value="@FBB_Con_Input_EMB_LET" />
    <input id="hdlFBB_Con_Input_IMM_CARD" type="hidden" value="@FBB_Con_Input_IMM_CARD" />
    <input id="hdlFBB_Con_Length_ID_Card_Number_STA_LET" type="hidden" value="@FBB_Con_Length_ID_Card_Number_STA_LET" />
    <input id="hdlFBB_Con_Input_STA_LET" type="hidden" value="@FBB_Con_Input_STA_LET" />
    <input id="hdlFBB_Con_LengthIDCardNumberHILL_CARD" type="hidden" value="@FBB_Con_LengthIDCardNumberHILL_CARD" />
    <input id="hdlFBB_Con_Input_HILL_CARD" type="hidden" value="@FBB_Con_Input_HILL_CARD" />
    <input id="hdlFBB_Con_Length_ID_Card_Number_CERT_FOUND" type="hidden" value="@FBB_Con_Length_ID_Card_Number_CERT_FOUND" />
    <input id="hdlFBB_Con_Input_CERT_FOUND" type="hidden" value="@FBB_Con_Input_CERT_FOUND" />
    <input id="hdlFBB_Con_Length_ID_Card_Number_ROY_LET" type="hidden" value="@FBB_Con_Length_ID_Card_Number_ROY_LET" />

    <input id="hdlFBB_Input_MobileNo" type="hidden" value="@FBB_Input_MobileNo" />

    <input id="hdlFBB_Con_Input_Home_Number" type="hidden" value="@FBB_Con_Input_Home_Number" />
    <input id="hdlFBB_Con_Input_Moo" type="hidden" value="@FBB_Con_Input_Moo" />
    <input id="hdlFBB_Con_Input_Mooban" type="hidden" value="@FBB_Con_Input_Mooban" />
    <input id="hdlFBB_Con_Input_Building" type="hidden" value="@FBB_Con_Input_Building" />
    <input id="hdlFBB_Con_Input_Floor" type="hidden" value="@FBB_Con_Input_Floor" />
    <input id="hdlFBB_Con_Input_Room" type="hidden" value="@FBB_Con_Input_Room" />
    <input id="hdlFBB_Con_Input_Soi" type="hidden" value="@FBB_Con_Input_Soi" />
    <input id="hdlFBB_Con_Input_Road" type="hidden" value="@FBB_Con_Input_Road" />

    <input id="hdlFBB_Con_Input_HomePhone" type="hidden" value="@FBB_Con_Input_HomePhone" />
    <input id="hdlFBB_Con_Input_ExtNumber" type="hidden" value="@FBB_Con_Input_ExtNumber" />

    <input id="hdlFBB_Con_Input_ROY_LET" type="hidden" value="@FBB_Con_Input_ROY_LET" />
    <input id="hdlSPECIFIC_TIME" type="hidden" value="@lSPECIFIC_TIME" />
    <input id="hdL_NATIONALITY" type="hidden" value="@lNATIONALITY" />

    @*// New 2017/04/12*@
    <input id="hdL_buildingtype" type="hidden" />
    <input id="hdL_cvrid" type="hidden" />
    <input id="hdL_cvr_node" type="hidden" />
    <input id="hdL_cvr_tower" type="hidden" />
    <input id="hdL_product_subtype" type="hidden" />
    <input id="hdL_p_mobile" type="hidden" />
    <input id="hdL_sffserviceyear" type="hidden" />
    <input id="hdL_p_fttx_vendor" type="hidden" />
    <input id="hdL_coverageresult" type="hidden" />
    <input id="hdL_accessmode" type="hidden" />
    <input id="hdL_servicecode" type="hidden" />
    <input id="hdL_serenade_flag" type="hidden" />
    <input id="hdL_RESULT_ID" type="hidden" />
    <input id="hdL_L_RESULT" type="hidden" />
    <input id="hdL_L_FIRST_LAST" type="hidden" />
    <input id="hdL_L_HOME_PHONE" type="hidden" />
    <input id="hdL_L_SPECIFIC_TIME" type="hidden" />
    <input id="hdL_L_NATIONALITY" type="hidden" />
    <input id="hdL_L_TYPE_ADDR" type="hidden" />
    <input id="hdL_L_INSTALL_DATE" type="hidden" />
    <input id="hdL_CateType" type="hidden" />
    <input id="hdL_SubCateType" type="hidden" />
    <input id="hdL_DocType" type="hidden" />
    <input id="hdL_RentalFlag" type="hidden" />
    <input id="hdL_AddressId" type="hidden" />
    <input id="hdL_JOB_ORDER_TYPE" type="hidden" />
    <input id="hdL_ASSIGN_RULE" type="hidden" />
    <input id="hdL_EStatmentFlag" type="hidden" />
    <input id="hdL_ReceiveEmailFlag" type="hidden" />

    <input id="hdL_L_CLICK_CHECKBOX" type="hidden" value="@L_CLICK_CHECKBOX" />
    <input id="hdL_L_MAINTEN_FEE2" type="hidden" value="@L_MAINTEN_FEE2" />

    <input id="hdL_L_SELECT_VAS" type="hidden" value="@L_SELECT_VAS" />
    <input id="hdL_L_ADDED_SERVICE" type="hidden" value="@L_ADDED_SERVICE" />
    <input id="hdL_L_FIXED_REGISTER" type="hidden" value="@L_FIXED_REGISTER" />
    <input id="hdL_L_TOTAL" type="hidden" value="@L_TOTAL" />
    <input id="hdL_L_NUMBER" type="hidden" value="@L_NUMBER" />
    <input id="hdL_L_IDD" type="hidden" value="@L_IDD" />
    <input id="hdL_L_FAX" type="hidden" value="@L_FAX" />

    <input id="hdL_FBB_Exc_1" type="hidden" value="@FBB_Exc_1" />
    <input id="hdL_FBB_Exc_D" type="hidden" value="@FBB_Exc_D" />
    <input id="hdL_FBB_Exc_F" type="hidden" value="@FBB_Exc_F" />
    <input id="hdL_FBB_Exc_I" type="hidden" value="@FBB_Exc_I" />
    <input id="hdL_FBB_Exc_S" type="hidden" value="@FBB_Exc_S" />

    <input id="hdL_GOLD_FULLHD" type="hidden" value="@L_GOLD_FULLHD" />
    <input id="hdL_PLATINUM_FULLHD" type="hidden" value="@L_PLATINUM_FULLHD" />
    <input id="hdL_GOLD_FULLHD_TRIAL" type="hidden" value="@L_GOLD_FULLHD_TRIAL" />
    <input id="hdL_PLATINUM_FULLHD_TRIAL" type="hidden" value="@L_PLATINUM_FULLHD_TRIAL" />
    <input id="hdL_MAINTEN_FEE2" type="hidden" value="@L_MAINTEN_FEE2" />

    <input id="hdL_CHARGE_ON_INSTALL_DATE" type="hidden" value="@L_CHARGE_ON_INSTALL_DATE" />
    <input id="hdL_ENTRANCE_FEE" type="hidden" value="@L_ENTRANCE_FEE" />
    <input id="hdL_ENTRANCE_FEE_DETAIL" type="hidden" value="@L_ENTRANCE_FEE_DETAIL" />

    @Html.HiddenFor(Model => Model.CustomerRegisterPanelModel.L_CARD_TYPE, new { @id = "CustomerRegisterPanelModel_L_CARD_TYPE", @value = "" });
    @Html.HiddenFor(Model => Model.CustomerRegisterPanelModel.CateType, new { @id = "CustomerRegisterPanelModel_CateType", @value = "" });
    @Html.HiddenFor(Model => Model.CustomerRegisterPanelModel.SubCateType, new { @id = "CustomerRegisterPanelModel_SubCateType", @value = "" });
    @Html.HiddenFor(Model => Model.SummaryPanelModel.VAS_FLAG, new { @id = "SummaryPanelModel_VAS_FLAG", @value = "" });
    @Html.HiddenFor(model => model.CustomerRegisterPanelModel.AddressPanelModelSetup.ZIPCODE_ID, new { @id = "CustomerRegisterPanelModel_AddressPanelModelSetup_ZIPCODE_ID", @value = "" });
    @Html.HiddenFor(model => model.CustomerRegisterPanelModel.AddressPanelModelSendDoc.ZIPCODE_ID, new { @id = "CustomerRegisterPanelModel_AddressPanelModelSendDoc_ZIPCODE_ID", @value = "" });
    @Html.HiddenFor(model => model.CustomerRegisterPanelModel.AddressPanelModelVat.ZIPCODE_ID, new { @id = "CustomerRegisterPanelModel_AddressPanelModelVat_ZIPCODE_ID", @value = "" });
    @Html.HiddenFor(model => model.CoveragePanelModel.ChargeType, new { @id = "CoveragePanelModel_ChargeType" })
    @Html.HiddenFor(model => model.CustomerRegisterPanelModel.AccountCategory, new { @id = "CustomerRegisterPanelModel_AccountCategory" })
    @Html.HiddenFor(Model => Model.CustomerRegisterPanelModel.L_INSTALL_DATE, new { @id = "L_INSTALL_DATE", @value = "" })
    @Html.HiddenFor(Model => Model.CustomerRegisterPanelModel.L_SPECIFIC_TIME, new { @id = "CustomerRegisterPanelModel_L_SPECIFIC_TIME", @value = "" })
    @Html.HiddenFor(Model => Model.CustomerRegisterPanelModel.FBSSTimeSlot.AppointmentDate, new { @id = "CustomerRegisterPanelModel_FBSSTimeSlot_AppointmentDate", @value = "" })
    @Html.HiddenFor(Model => Model.CustomerRegisterPanelModel.FBSSTimeSlot.InstallationCapacity, new { @id = "CustomerRegisterPanelModel_FBSSTimeSlot_InstallationCapacity", @value = "" })
    @Html.HiddenFor(Model => Model.CustomerRegisterPanelModel.FBSSTimeSlot.TimeSlot, new { @id = "CustomerRegisterPanelModel_FBSSTimeSlot_TimeSlot", @value = "" })
    @Html.HiddenFor(Model => Model.CustomerRegisterPanelModel.FBSSTimeSlot.TimeSlotId, new { @id = "CustomerRegisterPanelModel_FBSSTimeSlot_TimeSlotId", @value = "" })
    @Html.HiddenFor(Model => Model.CustomerRegisterPanelModel.L_TITLE, new { @id = "CustomerRegisterPanelModel_L_TITLE", @value = "" });
    @Html.HiddenFor(Model => Model.CustomerRegisterPanelModel.L_TITLE_CODE, new { @id = "CustomerRegisterPanelModel_L_TITLE_CODE", @value = "" });

    <input id="hdGiftVoucher" type="hidden" />
    @*<input id="HdchkSerenade_Flag" type="hidden" />*@
    <input id="HdchkAC_Category" type="hidden" />
    <input id="HdPackage_Group_Name" type="hidden" />
    <input id="TechnologyDisplay" type="hidden" />
    <input id="ContendPBDisplay" type="hidden" />
    <input id="showEntrancefee" type="hidden" />
    @Html.HiddenFor(Model => Model.Entrancefee, new { @id = "Entrancefee" })
</div>

<style type="text/css">
    .ui-datepicker {
        z-index: 99 !important;
    }

    .dropdown-validation-error {
        border: 1px solid red !important;
        background-color: #fee !important;
    }
</style>

<script type="text/javascript">
    function toNumber(number) {
    return accounting.formatNumber(number);
}

/*!
 * accounting.js v0.3.2, copyright 2011 Joss Crowcroft, MIT license, http://josscrowcroft.github.com/accounting.js
 */
(function (p, z) { function q(a) { return !!("" === a || a && a.charCodeAt && a.substr) } function m(a) { return u ? u(a) : "[object Array]" === v.call(a) } function r(a) { return "[object Object]" === v.call(a) } function s(a, b) { var d, a = a || {}, b = b || {}; for (d in b) b.hasOwnProperty(d) && null == a[d] && (a[d] = b[d]); return a } function j(a, b, d) { var c = [], e, h; if (!a) return c; if (w && a.map === w) return a.map(b, d); for (e = 0, h = a.length; e < h; e++) c[e] = b.call(d, a[e], e, a); return c } function n(a, b) { a = Math.round(Math.abs(a)); return isNaN(a) ? b : a } function x(a) { var b = c.settings.currency.format; "function" === typeof a && (a = a()); return q(a) && a.match("%v") ? { pos: a, neg: a.replace("-", "").replace("%v", "-%v"), zero: a } : !a || !a.pos || !a.pos.match("%v") ? !q(b) ? b : c.settings.currency.format = { pos: b, neg: b.replace("%v", "-%v"), zero: b } : a } var c = { version: "0.3.2", settings: { currency: { symbol: "$", format: "%s%v", decimal: ".", thousand: ",", precision: 2, grouping: 3 }, number: { precision: 0, grouping: 3, thousand: ",", decimal: "." } } }, w = Array.prototype.map, u = Array.isArray, v = Object.prototype.toString, o = c.unformat = c.parse = function (a, b) { if (m(a)) return j(a, function (a) { return o(a, b) }); a = a || 0; if ("number" === typeof a) return a; var b = b || ".", c = RegExp("[^0-9-" + b + "]", ["g"]), c = parseFloat(("" + a).replace(/\((.*)\)/, "-$1").replace(c, "").replace(b, ".")); return !isNaN(c) ? c : 0 }, y = c.toFixed = function (a, b) { var b = n(b, c.settings.number.precision), d = Math.pow(10, b); return (Math.round(c.unformat(a) * d) / d).toFixed(b) }, t = c.formatNumber = function (a, b, d, i) { if (m(a)) return j(a, function (a) { return t(a, b, d, i) }); var a = o(a), e = s(r(b) ? b : { precision: b, thousand: d, decimal: i }, c.settings.number), h = n(e.precision), f = 0 > a ? "-" : "", g = parseInt(y(Math.abs(a || 0), h), 10) + "", l = 3 < g.length ? g.length % 3 : 0; return f + (l ? g.substr(0, l) + e.thousand : "") + g.substr(l).replace(/(\d{3})(?=\d)/g, "$1" + e.thousand) + (h ? e.decimal + y(Math.abs(a), h).split(".")[1] : "") }, A = c.formatMoney = function (a, b, d, i, e, h) { if (m(a)) return j(a, function (a) { return A(a, b, d, i, e, h) }); var a = o(a), f = s(r(b) ? b : { symbol: b, precision: d, thousand: i, decimal: e, format: h }, c.settings.currency), g = x(f.format); return (0 < a ? g.pos : 0 > a ? g.neg : g.zero).replace("%s", f.symbol).replace("%v", t(Math.abs(a), n(f.precision), f.thousand, f.decimal)) }; c.formatColumn = function (a, b, d, i, e, h) { if (!a) return []; var f = s(r(b) ? b : { symbol: b, precision: d, thousand: i, decimal: e, format: h }, c.settings.currency), g = x(f.format), l = g.pos.indexOf("%s") < g.pos.indexOf("%v") ? !0 : !1, k = 0, a = j(a, function (a) { if (m(a)) return c.formatColumn(a, f); a = o(a); a = (0 < a ? g.pos : 0 > a ? g.neg : g.zero).replace("%s", f.symbol).replace("%v", t(Math.abs(a), n(f.precision), f.thousand, f.decimal)); if (a.length > k) k = a.length; return a }); return j(a, function (a) { return q(a) && a.length < k ? l ? a.replace(f.symbol, f.symbol + Array(k - a.length + 1).join(" ")) : Array(k - a.length + 1).join(" ") + a : a }) }; if ("undefined" !== typeof exports) { if ("undefined" !== typeof module && module.exports) exports = module.exports = c; exports.accounting = c } else "function" === typeof define && define.amd ? define([], function () { return c }) : (c.noConflict = function (a) { return function () { p.accounting = a; c.noConflict = z; return c } }(p.accounting), p.accounting = c) })(this);

$(document).ready(function () {

    var validateModel003R = new Array();
    var validateModel003GB = new Array();
    var validateModel003Setup = new Array();
    var validateModel003SendDoc = new Array();
    var validateModel003Vat = new Array();
    var validateInstallDate = new Array();
    var vGroup = new Array();
    var dayTimeslot = 7;
    var chk_loadcard = false;

    $('#btnResend').attr("disabled", true);

    var todayDate = new Date();
    $("#dtpDateFrom").data("kendoDatePicker").value();
    $("#dtpDateTo").data("kendoDatePicker").value();

    $("#GiftVoucher").hide();
    $('#GiftVoucher').keyup(function () {
        CheckKeyUp("GiftVoucher", "@Input_Voucher_PIN");
    });

    $('#divTimeSlot').css('width', '740px');
    $('#divTimeSlotRemark > fieldset > div').css('width', '740px');

    kendo.culture("th-TH");

    setInstalldata();

    $('#GiftVoucher').focusout(function (event) {
        if ($("#GiftVoucher").val() != "") {
            ValidateGiftVoucherPIN();
        }
        else {
            $("#checkGiftVoucher").val("");
            $("#hdGiftVoucher").val("");
            $("#GiftVoucher").hide();
            $("#checkGiftVoucher").hide();
            $("#hdShowSPOntopPopup").val("");
            document.getElementById("GiftVoucher").style.borderColor = '';
            onBinding();
        }
    });



    validateControlKeyUp();

    function ValidateGiftVoucherPIN() {
        $.ajax({
            url: '/SelectPackage/ValidateGiftVoucherPIN',
            data: { PINCode: $("#GiftVoucher").val() },
            dataType: "json",
            async: false,
            type: 'POST',
            success: function (data) {
                if (data) {
                    CheckDateGiftVoucherPIN();
                }
                else {
                    $("#checkGiftVoucher").show();
                    $("#checkGiftVoucher").text("@@L_MSG_PROMO_INVALID");
                    $("#hdShowSPOntopPopup").val("");
                    document.getElementById("checkGiftVoucher").style.color = 'red';
                    document.getElementById("GiftVoucher").style.borderColor = 'red';
                    $("#hdGiftVoucher").val("");
                    onBinding();
                }
            }
        });
    }

    function CheckDateGiftVoucherPIN() {

        $.ajax({
            url: '/SelectPackage/CheckDateGiftVoucherPIN',
            data: { VoucherPIN: $("#GiftVoucher").val() },
            dataType: "json",
            async: false,
            type: 'POST',
            success: function (data) {

                if (data != "") {

                    CheckStatusGiftVoucherPIN();
                }
                else {

                    $("#checkGiftVoucher").show();
                    $("#checkGiftVoucher").text("@@L_MSG_PROMO_INVALID");
                    $("#hdShowSPOntopPopup").val("");
                    document.getElementById("checkGiftVoucher").style.color = 'red';
                    document.getElementById("GiftVoucher").style.borderColor = 'red';
                    $("#hdGiftVoucher").val("");
                    onBinding();
                }
            }
        });
    }

    // debugger;
    if (typeof aisNative == "undefined" || typeof aisNative == "" || typeof aisNative == null) {
        //On Web
        $("label[for='file']").show();
        $("label[for='fileBill']").show();
        $("label[for='fileG1']").show();
        $("label[for='fileG2']").show();
        $("label[for='fileG3']").show();
        $("label[for='fileB1']").show();
        $("label[for='fileB2']").show();
        $("label[for='fileB3']").show();
        $("label[for='fileB4']").show();

        $('#file').hide();
        $('#textImage2').hide();

        //$('#fileTakePhoto').hide();
        $("label[for='fileTakePhoto']").hide();
        $("label[for='fileBillTakePhoto']").hide();
        $("label[for='fileG1TakePhoto']").hide();
        $("label[for='fileG2TakePhoto']").hide();
        $("label[for='fileG3TakePhoto']").hide();

        $("label[for='fileB1TakePhoto']").hide();
        $("label[for='fileB2TakePhoto']").hide();
        $("label[for='fileB3TakePhoto']").hide();
        $("label[for='fileB4TakePhoto']").hide();

        $.ajax({
            type: "GET",
            url: "/Process/GetMode",
            data: { 'mode': 'WEB' },
            dataType: "json",
            success: function (data) {

            }
        });

        $("label[for='filesignature']").hide();

    } else {
        //On Mobile
        $.ajax({
            type: "GET",
            url: "/Process/get_usedData_flag",
            dataType: "json",
            success: function (data) {
                if (data.result == 'YY') {
                    $("label[for='fileTakePhoto']").hide();
                    $("label[for='filesignature']").show();
                }
                else {
                    $("label[for='fileTakePhoto']").show();
                    $("label[for='filesignature']").hide();
                }
            }
        });

        //$("label[for='fileTakePhoto']").show();
        $("label[for='fileBillTakePhoto']").show();
        $("label[for='fileG1TakePhoto']").show();
        $("label[for='fileG2TakePhoto']").show();
        $("label[for='fileG3TakePhoto']").show();
        $("label[for='fileB1TakePhoto']").show();
        $("label[for='fileB2TakePhoto']").show();
        $("label[for='fileB3TakePhoto']").show();
        $("label[for='fileB4TakePhoto']").show();

        $("label[for='file']").hide();
        $("label[for='fileBill']").hide();
        $("label[for='fileG1']").hide();
        $("label[for='fileG2']").hide();
        $("label[for='fileG3']").hide();
        $("label[for='fileB1']").hide();
        $("label[for='fileB2']").hide();
        $("label[for='fileB3']").hide();
        $("label[for='fileB4']").hide();
        $.ajax({
            type: "GET",
            url: "/Process/GetMode",
            data: { 'mode': 'MOBILE' },
            dataType: "json",
            success: function (data) {

            }
        });
    }

    //upload image
    $('#file').bind('change', function () {
        validateUploadFile(parseInt($('#HDFILE_SIZE').val()), $('#HDFILE_TYPE').val(), 'textImage', this);
    });

    $('#fileBill').bind('change', function () {
        validateUploadFile(parseInt($('#HDFILE_SIZE').val()), $('#HDFILE_TYPE').val(), 'textImageBill', this);
    });

    $('#fileG1').bind('change', function () {
        validateUploadFile(parseInt($('#HDFILE_SIZE').val()), $('#HDFILE_TYPE').val(), 'textImageG1', this);
    });

    $('#fileG2').bind('change', function () {
        validateUploadFile(parseInt($('#HDFILE_SIZE').val()), $('#HDFILE_TYPE').val(), 'textImageG2', this);
    });

    $('#fileG3').bind('change', function () {
        validateUploadFile(parseInt($('#HDFILE_SIZE').val()), $('#HDFILE_TYPE').val(), 'textImageG3', this);
    });

    $('#fileB1').bind('change', function () {
        validateUploadFile(parseInt($('#HDFILE_SIZE').val()), $('#HDFILE_TYPE').val(), 'textImageB1', this);
    });

    $('#fileB2').bind('change', function () {
        validateUploadFile(parseInt($('#HDFILE_SIZE').val()), $('#HDFILE_TYPE').val(), 'textImageB2', this);
    });

    $('#fileB3').bind('change', function () {
        validateUploadFile(parseInt($('#HDFILE_SIZE').val()), $('#HDFILE_TYPE').val(), 'textImageB3', this);
    });

    $('#fileB4').bind('change', function () {
        validateUploadFile(parseInt($('#HDFILE_SIZE').val()), $('#HDFILE_TYPE').val(), 'textImageB4', this);
    });

});

function validateUploadFile(maxSize, fileType, idTextPath, fileClient) {

    var browser = get_browser_info();
    if (browser.name != "MSIE") /// not IE
    {

        /// check file type

        var chk = false;
        var txt = "";
        fileType = fileType.split('|');
        for (var i = 0; i < fileType.length; i++) {
            if (fileType[i].toUpperCase() == fileClient.files[0].name.substr((fileClient.files[0].name.lastIndexOf('.') + 1)).toUpperCase()) {
                chk = true;
                break;
            }
        }

        if (!chk) {
            $("#" + idTextPath).removeClass('form-control').addClass('form-control errorinput');
            toastrErrorMessage("@lERR_FILE_TYPE")
            $("#" + idTextPath).val("");
            return;
        }
        else {
            $("#" + idTextPath).removeClass('form-control errorinput').addClass('form-control');
            $("#" + idTextPath).val(fileClient.files[0].name);
        }
    }
    else {
        //alert('ss' + idTextPath);
        var objFSO = new ActiveXObject("Scripting.FileSystemObject");
        var file = $(fileClient)[0].value;
        var objFile = objFSO.getFile(file);
        var objFileName = objFSO.GetFileName(file)

        /// check file type

        var chk = false;
        var txt = "";
        fileType = fileType.split('|');
        for (var i = 0; i < fileType.length; i++) {
            if (file.substr(file.lastIndexOf('.') + 1).toUpperCase() == fileType[i].toUpperCase()) {
                chk = true;
                break;
            }
        }
        if (!chk) {
            $("#" + idTextPath).removeClass('form-control').addClass('form-control errorinput');
            toastrErrorMessage("@lERR_FILE_TYPE")
            $("#" + idTextPath).val("");
            return;
        }
        else {
            $("#" + idTextPath).removeClass('form-control errorinput').removeClass('textFieldFalse').addClass('form-control');
            $("#" + idTextPath).val(objFileName);
        }
    }

    $("#" + idTextPath).removeClass('form-control errorinput').removeClass('textFieldFalse').addClass('form-control');
}

function setCustomerRegisterWaterMark() {

    //$('#textImage').watermark("@Html.Raw(lCOPY_ID_CARD_MASS)");
    //$('#textImageBill').watermark("@Html.Raw(lCOPY_SERVICE_FEES)");
    //$('#textImageG1').watermark("@Html.Raw(lCOPY_GOV_LET)");
    //$('#textImageG2').watermark("@Html.Raw(lCOPY_AUT_SIG)");
    //$('#textImageG3').watermark("@Html.Raw(lCOPY_OTHER_G)");
    //$('#textImageB1').watermark("@Html.Raw(lCOPY_CERT_LET)");
    //$('#textImageB2').watermark("@Html.Raw(lCOPY_DIREC_ID_CARD)");
    //$('#textImageB3').watermark("@Html.Raw(lCOPY_ASS_ID_CARD)");
    //$('#textImageB4').watermark("@Html.Raw(lCOPY_OTHER_B)");

    //$('#L_FOR_CS_TEAM').watermark("@lFOR_CS_TEAM");
    //$('#L_SALE_REP').watermark("@lSALE_REP");
    //$('#L_STAFF_ID').watermark("@lSTAFF_ID");
    //$('#L_ASC_CODE').watermark("@lASC_CODE");
    $('#L_FIRST_NAME').watermark('@lFIRST_NAME');
    //$('#L_LAST_NAME').watermark("@lLAST_NAME");
    //$('#L_GOVERNMENT_NAME').watermark("@lGOVERNMENT_NAME");
    //$('#L_CARD_NO').watermark("@lCARD_NO");
    //$('#L_CONTACT_PERSON').watermark("@lCONTACT_PERSON");
    //$('#txtHomePhone').watermark("@lHOME_PHONE");
    //$('#txtHomePhoneTo').watermark("@lEXT_NUMBER");
    //$('#L_MOBILE').watermark("@lMOBILE");
    //$('#L_OR').watermark("@lOR");
    //$('#L_EMAIL').watermark("@lEMAIL");
    //$('#L_REMARK').watermark("@lREMARK");
    //$('#L_LOC_CODE').watermark("@lLOC_CODE");
    //$('#L_EVENT_CODE').watermark("@lEVENT_CODE");
    //$('#CPE_Serial').watermark("@lCPE_SERIAL");
    //$('#PlayBox_Serial').watermark("@lPLAYBOX_SERIAL");
    //$('#dtpInstallDateTH').watermark("@lINSTALLATION_DATE");
    //$('#dtpInstallDateEN').watermark("@lINSTALLATION_DATE");

    //$('#AddressPanelModelSetup_L_ROAD').watermark("@lROAD");
    //$('#AddressPanelModelSetup_L_SOI').watermark("@lSOI");
    //$('#AddressPanelModelSetup_L_ROOM').watermark("@lROOM");
    //$('#AddressPanelModelSetup_L_FLOOR').watermark("@lFLOOR");
    //$('#AddressPanelModelSetup_L_BUILD_NAME').watermark("@lBUILD_NAME");
    //$('#AddressPanelModelSetup_L_MOOBAN').watermark("@lMOOBAN");
    //$('#AddressPanelModelSetup_L_MOO').watermark("@lMOO");
    //$('#AddressPanelModelSetup_L_HOME_NUMBER_2').watermark("@lHOME_NUMBER_2");

    //$('#AddressPanelModelSendDoc_L_ROAD').watermark("@lROAD");
    //$('#AddressPanelModelSendDoc_L_SOI').watermark("@lSOI");
    //$('#AddressPanelModelSendDoc_L_ROOM').watermark("@lROOM");
    //$('#AddressPanelModelSendDoc_L_FLOOR').watermark("@lFLOOR");
    //$('#AddressPanelModelSendDoc_L_BUILD_NAME').watermark("@lBUILD_NAME");
    //$('#AddressPanelModelSendDoc_L_MOOBAN').watermark("@lMOOBAN");
    //$('#AddressPanelModelSendDoc_L_MOO').watermark("@lMOO");
    //$('#AddressPanelModelSendDoc_L_HOME_NUMBER_2').watermark("@lHOME_NUMBER_2");

    //$('#AddressPanelModelVat_L_ROAD').watermark("@lROAD");
    //$('#AddressPanelModelVat_L_SOI').watermark("@lSOI");
    //$('#AddressPanelModelVat_L_ROOM').watermark("@lROOM");
    //$('#AddressPanelModelVat_L_FLOOR').watermark("@lFLOOR");
    //$('#AddressPanelModelVat_L_BUILD_NAME').watermark("@lBUILD_NAME");
    //$('#AddressPanelModelVat_L_MOOBAN').watermark("@lMOOBAN");
    //$('#AddressPanelModelVat_L_MOO').watermark("@lMOO");
    //$('#AddressPanelModelVat_L_HOME_NUMBER_2').watermark("@lHOME_NUMBER_2");
}

function ValidationDateValue(model) {

    var chk = ValidationProcessing("dateselect");

    if (chk) //check blank value
    {
        //DateFrom
        if ($("#dtpDateFrom").val() != "") {
            if (!kendo.parseDate($("#dtpDateFrom").val(), "dd/MM/yyyy")) {

                $("#validatefor-" + "dtpDateFrom").html(ValidationIcon() + "This field is not correct format. : DD/MM/YYYY");
                chk = false;
            }
        }
        else {
            $("#validatefor-" + "dtpDateFrom").html(ValidationIcon() + "This field is required.");
            chk = false;
        }

        ///DateTo
        if ($("#dtpDateTo").val() != "") {
            if (!kendo.parseDate($("#dtpDateTo").val(), "dd/MM/yyyy")) {

                $("#validatefor-" + "dtpDateTo").html(ValidationIcon() + "This field is not correct format. : DD/MM/YYYY");
                chk = false;
            }

        }
        else {
            $("#validatefor-" + "dtpDateTo").html(ValidationIcon() + "This field is required.");
            chk = false;
        }

    }
    return chk;
}

var GetOrderErrorLogQuery = function () {
    P_DATE_FROM: "";
    P_DATE_TO: "";
    P_ID_CARD_NO: "";
    P_REQUEST_STATUS: "";
    P_PAGE_INDEX: "";
    P_PAGE_SIZE: "";

}

function defaultData() {

    var searchPara = new GetOrderErrorLogQuery();
    searchPara.P_DATE_FROM = $("#dtpDateFrom").val();
    searchPara.P_DATE_TO = $("#dtpDateTo").val();
    searchPara.P_ID_CARD_NO = $("#txtIDCardNo").val();
    searchPara.P_REQUEST_STATUS = $("#Status").val();
    searchPara.P_PAGE_INDEX = $("#gridOrderErrorLog").data("kendoGrid").dataSource._page;
    searchPara.P_PAGE_SIZE = $("#gridOrderErrorLog").data("kendoGrid").dataSource._pageSize;

    return searchPara;
}

function bindingValue() {
    var model = defaultData();
    return {
        dataS: JSON.stringify(model)
    };

}

function onGridDataBound() {
    //console.log("onGridDataBound");
    Loading(0);

    $('#btnResend').attr("disabled", false);

    if (this.dataSource.view().length == 0) {
        //insert empty row
        var colspan = this.thead.find("th").length;
        var emptyRow = "<tr><td colspan='" + colspan + "'></td></tr>";
        this.tbody.html(emptyRow);

        //workarounds for IE lt 9
        //this.table.width(800);
        //$(".k-grid-content").width(2 * kendo.support.scrollbar());
        $(".k-grid-content").height(3 * kendo.support.scrollbar());

        $('#btnResend').attr("disabled", true);
    }
    else {
        $(".k-grid-content").height("auto");
    }
}

function Check_Session() {
    //window.location = "../";
    $.ajax({
        type: "POST",
        data: {},
        url: '/ResendOrder/Check_Session',
        success: function (result) {
            //console.log(result.Result);
            if (result.Result != "1") {
                //window.location = "../"; // Login Page
                window.location = "../Account/LogoutSso?logout=False&sessionIsTimeOut=True&sso=False";
            }
        }
    });
}

function _Search() {
    //console.log("_Search");
    Check_Session();
    var model = defaultData();
    var chk = ValidationDateValue();
    //alert(chk);
    var grid = $("#gridOrderErrorLog").data("kendoGrid");
    //var scrollLeft = grid.content[0].scrollTop;
    //grid.dataSource.data([]);
    //grid.dataSource.pageSize(20);
    //grid.content[0].scrollLeft = scrollLeft;
    //grid.refresh();

    if (chk == true) {
        Loading();
        grid.dataSource.page(1);
    }
    else {
        var grid = $("#gridOrderErrorLog").data("kendoGrid");
        var scrollLeft = grid.content[0].scrollTop;
        grid.dataSource.data([]);
        //grid.dataSource.pageSize(20);
        //grid.content[0].scrollLeft = scrollLeft;
        grid.refresh();
    }

    if (kendo.parseDate($("#dtpDateFrom").val(), "dd/MM/yyyy")) {
        $("#validatefor-" + "dtpDateFrom").html("");
    }
    if (kendo.parseDate($("#dtpDateTo").val(), "dd/MM/yyyy")) {
        $("#validatefor-" + "dtpDateTo").html("");
    }
}

function _Clear() {

    var todayDate = new Date();
    $("#dtpDateFrom").data("kendoDatePicker").value('');
    $("#dtpDateTo").data("kendoDatePicker").value('');

    //reset min, max.
    $("#dtpDateFrom").data("kendoDatePicker").max(new Date(2099, 11, 31, 0, 0, 0, 0));
    $("#dtpDateTo").data("kendoDatePicker").min(new Date(1900, 0, 1, 0, 0, 0, 0));

    $("#validatefor-dtpDateTo").html("");
    $("#validatefor-dtpDateFrom").html("");

    $('#btnResend').attr("disabled", true);


    var grid = $("#gridOrderErrorLog").data("kendoGrid");
    var scrollLeft = grid.content[0].scrollTop;
    grid.dataSource.data([]);
    grid.dataSource.pageSize(20);
    grid.content[0].scrollLeft = scrollLeft;
    grid.refresh();


    $("#Status").data("kendoDropDownList").select(0);
    $("#txtIDCardNo").val("");
}

function Change_dtpDateFrom() {
    //console.log("eiei");
    var startPicker = $("#dtpDateFrom").data("kendoDatePicker").value();
    var endPicker = $("#dtpDateTo").data("kendoDatePicker").value();
    if (endPicker < startPicker
        && ($("#dtpDateFrom").data("kendoDatePicker").value() != ''
        && (kendo.parseDate($("#dtpDateFrom").val(), "dd/MM/yyyy")))) {
        $("#dtpDateTo").data("kendoDatePicker").value(startPicker);
    }
}

function Change_dtpDateTo() {

    var startPicker = $("#dtpDateFrom").data("kendoDatePicker").value();
    var endPicker = $("#dtpDateTo").data("kendoDatePicker").value();
    if ((endPicker < startPicker)
        && ($("#dtpDateTo").data("kendoDatePicker").value() != ''
        && (kendo.parseDate($("#dtpDateTo").val(), "dd/MM/yyyy")))
         ) {
        $("#dtpDateFrom").data("kendoDatePicker").value(endPicker);
    }

}

function onStatusChange() {

}

//var Temp_EditResendOrder;
function EditOrder(e) {
    Check_Session();
    Clear_Style_Validate();
    e.preventDefault();
    var dataItem = this.dataItem($(e.currentTarget).closest("tr"));
    //console.log(dataItem);
    $.ajax({
        type: "POST",
        data: { IDCardNo: dataItem.IN_ID_CARD_NO },
        url: '/ResendOrder/EditResendOrder',
        success: function (result) {
            //Temp_EditResendOrder = result;
            //console.log(result);
            getDataToEdit(result);
            callPopup();
        }
    })
}

function Clear_Style_Validate() {
    // clear Text
    $("#L_MOBILE").removeClass("errorinput");
    $("#L_OR").removeClass("errorinput");
    $("#L_EMAIL").removeClass("errorinput");
    $("#L_FIRST_NAME").removeClass("errorinput");
    $("#L_LAST_NAME").removeClass("errorinput");
    $("#L_CARD_NO").removeClass("errorinput");
    $("#txtHomePhone").removeClass("errorinput");
    $("#dtpInstallDateTH_text").removeClass("errorinput");
    $("#AddressPanelModelSetup_L_HOME_NUMBER_2").removeClass("errorinput");
    $("#AddressPanelModelSendDoc_L_HOME_NUMBER_2").removeClass("errorinput");
    $("#AddressPanelModelVat_L_HOME_NUMBER_2").removeClass("errorinput");
    $("#L_LOC_CODE").removeClass("errorinput");
    $("#L_ASC_CODE").removeClass("errorinput");
    $("#CPE_Serial").removeClass("errorinput");
    $("#PlayBox_Serial").removeClass("errorinput");

    $("#L_GOVERNMENT_NAME").removeClass("errorinput");
    $("#L_CONTACT_PERSON").removeClass("errorinput");

    $("#textImage").removeClass("errorinput");
    $("#textImageG1").removeClass("errorinput");
    $("#textImageG2").removeClass("errorinput");
    $("#textImageB1").removeClass("errorinput");
    $("#textImageB2").removeClass("errorinput");
    $("#textImageB3").removeClass("errorinput");
    // clear Dropdown

    $("#TITLE_CODE").parent().removeClass("dropdown-validation-error");
    $("#TITLE_CODE").parent().children().removeClass("dropdown-validation-error");
    $("#ID_CARD_NAME").parent().removeClass("dropdown-validation-error");
    $("#ID_CARD_NAME").parent().children().removeClass("dropdown-validation-error");
    $("#ddlGender").parent().removeClass("dropdown-validation-error");
    $("#ddlGender").parent().children().removeClass("dropdown-validation-error");
    $("#ddlDay").parent().removeClass("dropdown-validation-error");
    $("#ddlDay").parent().children().removeClass("dropdown-validation-error");
    $("#ddlMonth").parent().children().removeClass("dropdown-validation-error");
    $("#ddlMonth").parent().removeClass("dropdown-validation-error");
    $("#ddlYear").parent().children().removeClass("dropdown-validation-error");
    $("#ddlYear").parent().removeClass("dropdown-validation-error");
    $("#ContactTime").parent().children().removeClass("dropdown-validation-error");
    $("#ContactTime").parent().removeClass("dropdown-validation-error");
    $("#AddressPanelModelSetup_L_HOME_NUMBER_2").parent().removeClass("dropdown-validation-error");
    $("#AddressPanelModelSendDoc_L_HOME_NUMBER_2").parent().removeClass("dropdown-validation-error");
    $("#AddressPanelModelVat_L_HOME_NUMBER_2").parent().removeClass("dropdown-validation-error");

    $("#TumbonSetup").parent().children().removeClass("dropdown-validation-error");
    $("#TumbonSetup").parent().removeClass("dropdown-validation-error");
    $("#AmphurSetup").parent().children().removeClass("dropdown-validation-error");
    $("#AmphurSetup").parent().removeClass("dropdown-validation-error");
    $("#ProvinceSetup").parent().children().removeClass("dropdown-validation-error");
    $("#ProvinceSetup").parent().removeClass("dropdown-validation-error");
    $("#ZipCodeSetup").parent().children().removeClass("dropdown-validation-error");
    $("#ZipCodeSetup").parent().removeClass("dropdown-validation-error");

    $("#TumbonSendDoc").parent().children().removeClass("dropdown-validation-error");
    $("#TumbonSendDoc").parent().removeClass("dropdown-validation-error");
    $("#AmphurSendDoc").parent().children().removeClass("dropdown-validation-error");
    $("#AmphurSendDoc").parent().removeClass("dropdown-validation-error");
    $("#ProvinceSendDoc").parent().children().removeClass("dropdown-validation-error");
    $("#ProvinceSendDoc").parent().removeClass("dropdown-validation-error");
    $("#ZipCodeSendDoc").parent().children().removeClass("dropdown-validation-error");
    $("#ZipCodeSendDoc").parent().removeClass("dropdown-validation-error");

    $("#TumbonVat").parent().children().removeClass("dropdown-validation-error");
    $("#TumbonVat").parent().removeClass("dropdown-validation-error");
    $("#AmphurVat").parent().children().removeClass("dropdown-validation-error");
    $("#AmphurVat").parent().removeClass("dropdown-validation-error");
    $("#ProvinceVat").parent().children().removeClass("dropdown-validation-error");
    $("#ProvinceVat").parent().removeClass("dropdown-validation-error");
    $("#ZipCodeVat").parent().children().removeClass("dropdown-validation-error");
    $("#ZipCodeVat").parent().removeClass("dropdown-validation-error");
    // clear
    $("#divTimeSlot").removeClass("dropdown-validation-error");

    $('#tabInstallPlace input[type="text"]').each(function (_div_clear_tabInstallPlace, el) {
        if (this.maxLength > 0) {
            $("#" + this.id).removeClass("errorinput");
        }
    });
    $('#tabCustInfo input[type="text"]').each(function (_div_clear_tabCustInfo, el) {
        if (this.maxLength > 0) {
            $("#" + this.id).removeClass("errorinput");
        }
    });
}
function callPopup() {
    var myWindow = $("#editOrder");
    myWindow.kendoWindow({
        width: "1300",
        //height: "80%",
        title: "Edit Resend Order",
        visible: false,
        actions: [
            "Close"
        ],
    })

   .data("kendoWindow").center().open();
}

function getDataToEdit(result) {
    clearData();
    setTimeout(function () { // 20/04/2017 ## problem effect from async data
        setBirthDate();

        getHidenfieldPackage();
        getPackage(0, result);
        New_SetDefualt_MainPackage_TypeInstall(result);

        getCustomerRegister(result);
        getAddressCustomer(result);
        getAddressCustomerSendDoc(result);
        getAddressPanelModelVat(result);
        Set_officer(result);

        GetP_Region();
        getSummaryPanel(result);

        setTimeSlotConfigSelectDate(result);
        set_idcardno_validation();
        onCheckType(null, false); // trigger for fileupload


        setInstalldata();
    }, 1);
}

function Set_officer(result) {
    //console.log("Set_officer");
    if (result.TopUp == "5") {
        $("#divShowStaffSection").show();
        $("#divStaffSection").show();

        $("#L_LOC_CODE").val(result.CustomerRegisterPanelModel.L_LOC_CODE);
        $("#L_ASC_CODE").val(result.CustomerRegisterPanelModel.L_ASC_CODE);
        $("#L_STAFF_ID").val(result.CustomerRegisterPanelModel.L_STAFF_ID);
        $("#L_SALE_REP").val(result.CustomerRegisterPanelModel.L_SALE_REP);
        $("#L_FOR_CS_TEAM").val(result.CustomerRegisterPanelModel.L_FOR_CS_TEAM);

        $("#L_EVENT_CODE").val(result.CustomerRegisterPanelModel.L_EVENT_CODE);
        $("#L_VOUCHER_PIN").val(result.CustomerRegisterPanelModel.L_VOUCHER_PIN);
        $("#CPE_Serial").val(result.CustomerRegisterPanelModel.CPE_Serial);
        $("#PlayBox_Serial").val(result.CustomerRegisterPanelModel.PlayBox_Serial);

        //$('#L_ASC_CODE').inputmask('Regex', { regex: $("#hdlFBB_Con_Input_ID_CARD").val() });

        // Display Conditon
        if (result.CustomerRegisterPanelModel.CPE_Serial == undefined || result.CustomerRegisterPanelModel.CPE_Serial.trim().length == 0) {
            $("#chkEventCode").prop("checked", false);
            $('#CPE_Serial').prop('disabled', true);
            $('#PlayBox_Serial').prop('disabled', true);
        }
        else {
            $("#chkEventCode").prop("checked", true);
            $('#CPE_Serial').prop('disabled', false);
            $('#PlayBox_Serial').prop('disabled', false);
        }
    }
    else {
        $("#divShowStaffSection").hide();
        $("#divStaffSection").hide();

        // no STAFF // clear
        $("#L_LOC_CODE").val("");
        $("#L_ASC_CODE").val("");
        $("#L_STAFF_ID").val("");
        $("#L_SALE_REP").val("");
        $("#L_FOR_CS_TEAM").val("");

        $("#L_EVENT_CODE").val("");
        $("#L_VOUCHER_PIN").val("");
        $("#CPE_Serial").val("");
        $("#PlayBox_Serial").val("");
    }
    //console.log("end Set_officer");
}

function displayCPEPlayBox(Input) {
    if (Input == true) {
        $('#CPE_Serial').prop('disabled', false);
        $('#PlayBox_Serial').prop('disabled', false);
    }
    else {
        $("#CPE_Serial").val("");
        $("#PlayBox_Serial").val("");

        $('#CPE_Serial').prop('disabled', true);
        $('#PlayBox_Serial').prop('disabled', true);

        $("#CPE_Serial").removeClass("errorinput");
        $("#PlayBox_Serial").removeClass("errorinput");
    }
    //$('#CPE_Serial').val("");
    //$('#PlayBox_Serial').val("");
    //$("#CPE_Serial").removeClass("form-control errorinput ").addClass("form-control");
    //$("#PlayBox_Serial").removeClass("form-control errorinput ").addClass("form-control");
    //var isPlaybox = $('#hdGetPlayBox').val();
    //if (chk) {
    //    $('#CPE_Serial').prop('disabled', false);
    //    $('#PlayBox_Serial').prop('disabled', false);
    //    if (isPlaybox == "1") {
    //        $('#PlayBox_Serial').show();

    //    } if (isPlaybox == "0") {
    //        $('#PlayBox_Serial').hide();
    //    }
    //    chk = false;
    //}
    //$('#chkEventCode').click(function () {
    //    if ($(this).prop('checked')) {
    //        if (isPlaybox == "1") {
    //            $('#PlayBox_Serial').show();
    //        } if (isPlaybox == "0") {
    //            $('#PlayBox_Serial').hide();
    //        }
    //        $('#CPE_Serial').prop('disabled', false);
    //        $('#PlayBox_Serial').prop('disabled', false);

    //    } else {
    //        $('#CPE_Serial').prop('disabled', true);
    //        $('#PlayBox_Serial').prop('disabled', true);

    //    }
    //});
    //isPlaybox = "";
}

function getCustomerRegister(result) {
    //Customer Profile
    //console.log(result);
    //console.log(result.CoveragePanelModel.P_MOBILE);


    //// Data For log Save
    $("#hdL_buildingtype").val(result.CoveragePanelModel.BuildingType);
    $("#hdL_cvrid").val(result.CoveragePanelModel.CVRID);
    $("#hdL_cvr_node").val(result.CoveragePanelModel.CVR_NODE);
    $("#hdL_cvr_tower").val(result.CoveragePanelModel.CVR_TOWER);
    $("#hdL_product_subtype").val(result.CoveragePanelModel.PRODUCT_SUBTYPE);
    $("#hdL_p_mobile").val(result.CoveragePanelModel.P_MOBILE);
    $("#hdL_sffserviceyear").val(result.CoveragePanelModel.SffServiceYear);
    $("#hdL_p_fttx_vendor").val(result.CoveragePanelModel.P_FTTX_VENDOR);
    $("#hdL_coverageresult").val(result.CoveragePanelModel.CoverageResult);
    $("#hdL_accessmode").val(result.CoveragePanelModel.AccessMode);
    $("#hdL_servicecode").val(result.CoveragePanelModel.ServiceCode);
    $("#hdL_serenade_flag").val(result.CoveragePanelModel.Serenade_Flag);
    $("#hdL_AddressId").val(result.CoveragePanelModel.Address.AddressId);
    $("#hdL_RESULT_ID").val(result.CoveragePanelModel.RESULT_ID);
    $("#hdL_L_RESULT").val(result.CoveragePanelModel.L_RESULT);
    $("#hdL_L_FIRST_LAST").val(result.CoveragePanelModel.L_FIRST_LAST);
    $("#hdL_JOB_ORDER_TYPE").val(result.CustomerRegisterPanelModel.JOB_ORDER_TYPE);
    $("#hdL_ASSIGN_RULE").val(result.CustomerRegisterPanelModel.ASSIGN_RULE);
    $("#hdL_EStatmentFlag").val(result.CustomerRegisterPanelModel.EStatmentFlag);
    $("#hdL_ReceiveEmailFlag").val(result.CustomerRegisterPanelModel.ReceiveEmailFlag);

    //console.log(result.ObjOwnerPackage[0].SelectVas_Flag);
    $("#hd_SelectVas_Flag").val(result.ObjOwnerPackage[0].SelectVas_Flag);
    $("#hd_SelectPlayBox_Flag").val(result.ObjOwnerPackage[0].SelectPlayBox_Flag);
    $("#hd_SelectPlayPBL_Flag").val(result.ObjOwnerPackage[0].SelectPlayPBL_Flag);
    $("#hd_DISCOUNT_VALUE").val(result.ObjOwnerPackage[0].DISCOUNT_VALUE);
    $("#hd_DISCOUNT_DAY").val(result.ObjOwnerPackage[0].DISCOUNT_DAY);
    $("#hd_WIFIAccessPoint").val(result.DisplayPackagePanelModel.WIFIAccessPoint);

    //alert(result.CustomerRegisterPanelModel.L_NATIONALITY);
    $("#hdL_L_HOME_PHONE").val(result.CustomerRegisterPanelModel.L_HOME_PHONE);
    $("#hdL_L_SPECIFIC_TIME").val(result.CustomerRegisterPanelModel.L_SPECIFIC_TIME);
    $("#hdL_L_NATIONALITY").val(result.CustomerRegisterPanelModel.L_NATIONALITY);
    $("#hdL_L_TYPE_ADDR").val(result.CustomerRegisterPanelModel.L_TYPE_ADDR);
    $("#hdL_L_INSTALL_DATE").val(result.CustomerRegisterPanelModel.L_INSTALL_DATE);
    $("#hdL_CateType").val(result.CustomerRegisterPanelModel.CateType);
    $("#hdL_SubCateType").val(result.CustomerRegisterPanelModel.SubCateType);
    $("#hdL_DocType").val(result.CustomerRegisterPanelModel.DocType);
    $("#hdL_RentalFlag").val(result.CustomerRegisterPanelModel.RentalFlag);
    $("#hdL_TopUp").val(result.TopUp);

    if (result.CoveragePanelModel.L_HAVE_FIXED_LINE == "N") {
        //$("input[value='N']").attr('checked', 'checked');
        $('input[name=L_HAVE_FIXED_LINE]').filter('[value=N]').prop('checked', true);
    } else {
        $('input[name=L_HAVE_FIXED_LINE]').filter('[value=Y]').prop('checked', true);
    }

    //alert(result.CustomerRegisterPanelModel.CateType);
    //$("#CustomerRegisterPanelModel_L_GOVERNMENT").prop("checked", true);
    //console.log(result.CustomerRegisterPanelModel.CateType);
    if (result.CustomerRegisterPanelModel.CateType == "R") {
        $("#CustomerRegisterPanelModel_L_RESIDENTIAL").val(catetype = result.CustomerRegisterPanelModel.CateType);
        $("#CustomerRegisterPanelModel_L_RESIDENTIAL").prop("checked", true);
    } else if (result.CustomerRegisterPanelModel.CateType == "G") {
        $("#CustomerRegisterPanelModel_L_GOVERNMENT").val(catetype = result.CustomerRegisterPanelModel.CateType);
        $("#CustomerRegisterPanelModel_L_GOVERNMENT").prop("checked", true);
        $('#lbl_GOVERNMENT').show();
        $('#lbl_BUSINESS').show();

    } else if (result.CustomerRegisterPanelModel.CateType == "B") {
        $("#CustomerRegisterPanelModel_L_BUSINESS").val(catetype = result.CustomerRegisterPanelModel.CateType);
        $("#CustomerRegisterPanelModel_L_BUSINESS").prop("checked", true);
        $('#lbl_GOVERNMENT').show();
        $('#lbl_BUSINESS').show();

    }

    var contacttime = result.CustomerRegisterPanelModel.L_SPECIFIC_TIME;

    //console.log(result.CustomerRegisterPanelModel);
    getCustomerTitle(result.CustomerRegisterPanelModel);
    getCustomerCardType(result.CustomerRegisterPanelModel.CateType);
    getContactTime(contacttime);

    //$("#TITLE_CODE").data('kendoDropDownList').value(result.CustomerRegisterPanelModel.L_TITLE_CODE);
    //console.log(result.CustomerRegisterPanelModel.L_CARD_TYPE);
    //console.log(result.CustomerRegisterPanelModel.L_CARD_TYPE);
    //$("#ID_CARD_NAME").data('kendoDropDownList').value(result.CustomerRegisterPanelModel.L_CARD_TYPE);
    //console.log(result);
    //alert(result.CustomerRegisterPanelModel.subtype);

    $("#ID_CARD_NAME").data('kendoDropDownList').value(result.CustomerRegisterPanelModel.L_CARD_TYPE);

    $("#tCardType").val(result.CustomerRegisterPanelModel.L_CARD_TYPE)

    $("#L_GOVERNMENT_NAME").val(result.CustomerRegisterPanelModel.L_GOVERNMENT_NAME);
    $("#L_FIRST_NAME").val(result.CustomerRegisterPanelModel.L_FIRST_NAME);
    $("#L_LAST_NAME").val(result.CustomerRegisterPanelModel.L_LAST_NAME);

    //console.log(result.CustomerRegisterPanelModel.L_CARD_NO);
    $("#L_CARD_NO").val(result.CustomerRegisterPanelModel.L_CARD_NO);



    $("#L_CONTACT_PERSON").val(result.CustomerRegisterPanelModel.L_CONTACT_PERSON);
    $("#L_OR").val(result.CustomerRegisterPanelModel.L_OR);
    $("#L_MOBILE").val(result.CustomerRegisterPanelModel.L_MOBILE);

    var vHomePhone = result.CustomerRegisterPanelModel.L_HOME_PHONE.split('Ext.');
    if (vHomePhone != null) {

        if (vHomePhone.length > 0) {
            if (vHomePhone[0] != null) {
                $("#txtHomePhone").val(vHomePhone[0]);
            }
            if (vHomePhone[1] != null) {
                $("#txtHomePhoneTo").val(vHomePhone[1]);
            }
        }
    }

    var vBirthDate = result.CustomerRegisterPanelModel.L_BIRTHDAY.split('/');
    if (result.CustomerRegisterPanelModel.CateType == "R") {
        $("#ddlGender").data('kendoDropDownList').text(result.CustomerRegisterPanelModel.L_GENDER);
        if (vBirthDate != null) {
            if (vBirthDate[2].length > 0) {
                if (vBirthDate.length > 0) {
                    if (vBirthDate[1] != "0" && vBirthDate[1] != "")
                        $("#ddlMonth").data('kendoDropDownList').value(vBirthDate[1]);

                    if (vBirthDate[0] != "0" && vBirthDate[0] != "")
                        $("#ddlDay").data('kendoDropDownList').value(vBirthDate[0]);

                    if (vBirthDate[2] != "0" && vBirthDate[2] != "") {
                        // cheak for old data
                        $("#ddlYear").data('kendoDropDownList').value((vBirthDate[2] - 1) + 544);
                        if ($("#ddlYear").data('kendoDropDownList').select() <= 0) {
                            $("#ddlYear").data('kendoDropDownList').value(vBirthDate[2]);
                        }
                        if ($("#ddlYear").data('kendoDropDownList').select() <= 0) {
                            $("#ddlYear").data('kendoDropDownList').value(vBirthDate[2] - 543);
                        }

                    }
                    if ($("#ddlYear").data('kendoDropDownList').select() <= 0) {
                        $("#ddlYear").data('kendoDropDownList').select(0);
                    }
                }
            }
        }
    }

    $("#L_EMAIL").val(result.CustomerRegisterPanelModel.L_EMAIL);
    $("#L_REMARK").val(result.CustomerRegisterPanelModel.L_REMARK);

    //upload file
    //console.log(result);
    var vListImageFile = result.CustomerRegisterPanelModel.ListImageFile;
    if (vListImageFile != null) {
        if (vListImageFile.length > 0) {
            for (i = 0; i <= vListImageFile.length - 1; i++) {
                // file name
                var _FileName = "";
                var _FileName_fullpath = "";
                if (vListImageFile[i].FileName.length > 0) {
                    //console.log(vListImageFile);
                    var arrey_parts = vListImageFile[i].FileName.replace(/\/[^\/]+$/, '').split('\\');
                    _FileName_fullpath = vListImageFile[i].FileName;
                    _FileName = arrey_parts[(arrey_parts.length - 1)]
                    //console.log(_FileName);
                }

                if (result.CustomerRegisterPanelModel.CateType == "R") {
                    if (i == 0) {
                        $("#textImage").val(_FileName);
                        $("#hidden_textImage").val(_FileName_fullpath);

                    }
                } else if (result.CustomerRegisterPanelModel.CateType == "G") {
                    if (i == 0) {
                        $("#textImageG1").val(_FileName);
                        $("#hidden_textImageG1").val(_FileName_fullpath);
                    } else if (i == 1) {
                        $("#textImageG2").val(_FileName);
                        $("#hidden_textImageG2").val(_FileName_fullpath);
                    }
                    else if (i == 2) {
                        $("#textImageG3").val(_FileName);
                        $("#hidden_textImageG3").val(_FileName_fullpath);
                    }
                } else if (result.CustomerRegisterPanelModel.CateType == "B") {
                    if (i == 0) {
                        $("#textImageB1").val(_FileName);
                        $("#hidden_textImageB1").val(_FileName_fullpath);
                    } else if (i == 1) {
                        $("#textImageB2").val(_FileName);
                        $("#hidden_textImageB2").val(_FileName_fullpath);
                    }
                    else if (i == 2) {
                        $("#textImageB3").val(_FileName);
                        $("#hidden_textImageB3").val(_FileName_fullpath);
                    }
                    else if (i == 3) {
                        $("#textImageB4").val(_FileName);
                        $("#hidden_textImageB4").val(_FileName_fullpath);
                    }
                }

            }
        }

    }
}

function onChangeContactTime() {
    $('#CustomerRegisterPanelModel_L_SPECIFIC_TIME').val($("#ContactTime").data('kendoDropDownList').text());
}

function getContactTime(contacttime) {
    //console.log(contacttime);
    $('#ContactTime').empty();

    $.ajax({
        type: "GET",
        url: "/ResendOrder/GetContactTime",
        dataType: "json",
        success: function (data) {
            //console.log(data);
            var strResult = [];
            var timevalue;
            $.each(data, function (i, e) {
                strResult = strResult.concat({ text: e.Text, value: e.Value });

                var str1 = e.Text.split('น.');
                var str2 = contacttime.split('น.');

                str1 = str1[0].replace(/^\s+|\s+$|\s+(?=\s)/g, "N");
                str2 = str2[0].replace(/^\s+|\s+$|\s+(?=\s)/g, "N");

                /// 8 digit of time match ?
                if (str1[0] == str2[0]
                    && str1[1] == str2[1]
                    && str1[3] == str2[3]
                    && str1[4] == str2[4]

                    && str1[8] == str2[8]
                    && str1[9] == str2[9]
                    && str1[11] == str2[11]
                    && str1[12] == str2[12]

                    ) {
                    //console.log(str1[0] + str1[1] + str1[3] + str1[4] + " - " + str1[8] + str1[9] + str1[11] + str1[12]);
                    timevalue = e.Value;
                }

            });

            $("#ContactTime").kendoDropDownList({
                dataTextField: "text",
                dataValueField: "value",
                dataSource: strResult,
                optionLabel: {
                    text: $("#hdlSPECIFIC_TIME").val(),
                    value: "-1"
                },
            });

            // alert(timevalue);
            //console.log(timevalue);
            //alert(timevalue);
            if (timevalue == undefined || timevalue == "")
                $("#ContactTime").data('kendoDropDownList').select(1)
            else
                $("#ContactTime").data('kendoDropDownList').value(timevalue);
        }
    });
}


// Trim(string) : Returns a copy of a string without leading or trailing spaces
function trim(str) {
    return rtrim(ltrim(str));
}

function getAddressCustomer(result) {

    //Addess Customer Profile
    $("#AddressPanelModelSetup_L_HOME_NUMBER_2").val(result.CustomerRegisterPanelModel.AddressPanelModelSetup.L_HOME_NUMBER_2);
    $("#AddressPanelModelSetup_L_MOO").val(result.CustomerRegisterPanelModel.AddressPanelModelSetup.L_MOO);
    $("#AddressPanelModelSetup_L_MOOBAN").val(result.CustomerRegisterPanelModel.AddressPanelModelSetup.L_MOOBAN);
    $("#AddressPanelModelSetup_L_BUILD_NAME").val(result.CustomerRegisterPanelModel.AddressPanelModelSetup.L_BUILD_NAME);
    $("#AddressPanelModelSetup_L_FLOOR").val(result.CustomerRegisterPanelModel.AddressPanelModelSetup.L_FLOOR);
    $("#AddressPanelModelSetup_L_ROOM").val(result.CustomerRegisterPanelModel.AddressPanelModelSetup.L_ROOM);
    $("#AddressPanelModelSetup_L_SOI").val(result.CustomerRegisterPanelModel.AddressPanelModelSetup.L_SOI);
    $("#AddressPanelModelSetup_L_ROAD").val(result.CustomerRegisterPanelModel.AddressPanelModelSetup.L_ROAD);

    var Province = result.CustomerRegisterPanelModel.AddressPanelModelSetup.L_PROVINCE;
    var Amphur = result.CustomerRegisterPanelModel.AddressPanelModelSetup.L_AMPHUR;
    var Tumbon = result.CustomerRegisterPanelModel.AddressPanelModelSetup.L_TUMBOL;
    var ZipCode = result.CustomerRegisterPanelModel.AddressPanelModelSetup.L_ZIPCODE;

    copyAddressSetUpTo(Province, Amphur, Tumbon, ZipCode);

    if (result.CoveragePanelModel.L_HAVE_FIXED_LINE == "N") {
        $("input[value='N']").attr('checked', 'checked');
    } else {
        $("input[value='Y']").attr('checked', 'checked');
    }
}

function getAddressCustomerSendDoc(result) {
    //Address customer Send Doc
    $("#AddressPanelModelSendDoc_L_HOME_NUMBER_2").val(result.CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_HOME_NUMBER_2);
    $("#AddressPanelModelSendDoc_L_MOO").val(result.CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_MOO);
    $("#AddressPanelModelSendDoc_L_MOOBAN").val(result.CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_MOOBAN);
    $("#AddressPanelModelSendDoc_L_BUILD_NAME").val(result.CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_BUILD_NAME);
    $("#AddressPanelModelSendDoc_L_FLOOR").val(result.CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_FLOOR);
    $("#AddressPanelModelSendDoc_L_ROOM").val(result.CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_ROOM);
    $("#AddressPanelModelSendDoc_L_SOI").val(result.CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_SOI);
    $("#AddressPanelModelSendDoc_L_ROAD").val(result.CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_ROAD);

    var Province = result.CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_PROVINCE;
    var Amphur = result.CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_AMPHUR;
    var Tumbon = result.CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_TUMBOL;
    var ZipCode = result.CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_ZIPCODE;

    getAddressToSendDoc(Province, Amphur, Tumbon, ZipCode);
}

function getAddressPanelModelVat(result) {
    //Address customer vat
    $("#AddressPanelModelVat_L_HOME_NUMBER_2").val(result.CustomerRegisterPanelModel.AddressPanelModelVat.L_HOME_NUMBER_2);
    $("#AddressPanelModelVat_L_MOO").val(result.CustomerRegisterPanelModel.AddressPanelModelVat.L_MOO);
    $("#AddressPanelModelVat_L_MOOBAN").val(result.CustomerRegisterPanelModel.AddressPanelModelVat.L_MOOBAN);
    $("#AddressPanelModelVat_L_BUILD_NAME").val(result.CustomerRegisterPanelModel.AddressPanelModelVat.L_BUILD_NAME);
    $("#AddressPanelModelVat_L_FLOOR").val(result.CustomerRegisterPanelModel.AddressPanelModelVat.L_FLOOR);
    $("#AddressPanelModelVat_L_ROOM").val(result.CustomerRegisterPanelModel.AddressPanelModelVat.L_ROOM);
    $("#AddressPanelModelVat_L_SOI").val(result.CustomerRegisterPanelModel.AddressPanelModelVat.L_SOI);
    $("#AddressPanelModelVat_L_ROAD").val(result.CustomerRegisterPanelModel.AddressPanelModelVat.L_ROAD);

    var Province = result.CustomerRegisterPanelModel.AddressPanelModelVat.L_PROVINCE;
    var Amphur = result.CustomerRegisterPanelModel.AddressPanelModelVat.L_AMPHUR;
    var Tumbon = result.CustomerRegisterPanelModel.AddressPanelModelVat.L_TUMBOL;
    var ZipCode = result.CustomerRegisterPanelModel.AddressPanelModelVat.L_ZIPCODE;

    getAddressToVat(Province, Amphur, Tumbon, ZipCode);
}

//summary

function getSummaryPanel(result) {
    $("#SummaryPanelModel_VAS_FLAG").val(result.SummaryPanelModel.VAS_FLAG);
}

function clearData() {
    Temp_Count_TimeSlot = 0;
    $('#L_CARD_NO').attr("maxlength", null);
    $("#TITLE_CODE").val("");
    $("#ID_CARD_NAME").val("");
    $("#ddlGender").data('kendoDropDownList').select(0);
    $("#ddlDay").val(0);
    $("#ddlMonth").val(0);
    $("#ddlYear").val(0);
    $("#ContactTime").val(""); //.data('kendoDropDownList').select(0);
    $("#L_FIRST_NAME").val("");
    $("#L_LAST_NAME").val("");
    $("#L_CARD_NO").val("");
    $("#L_CONTACT_PERSON").val("");
    $("#L_MOBILE").val("");
    $("#L_OR").val("");
    $("#L_EMAIL").val("");
    $("#L_REMARK").val("");
    $("#txtHomePhone").val("");
    $("#txtHomePhoneTo").val("");
    $("#L_GOVERNMENT_NAME").val("");

    $("#dtpInstallDateTH_text").val("");

    $("#textImage").val("");

    $("#chkSameAsAddrSetUp").attr("checked", false);
    $("#chkSameAsAddrSetUp2").attr("checked", false);
    $("#chkSameAsAddrSendDoc").attr("checked", false);

    $('#AddressPanelModelSendDoc_L_HOME_NUMBER_2').val('');
    $('#AddressPanelModelSendDoc_L_MOO').val('');
    $('#AddressPanelModelSendDoc_L_MOOBAN').val('');
    $('#AddressPanelModelSendDoc_L_BUILD_NAME').val('');
    $('#AddressPanelModelSendDoc_L_FLOOR').val('');
    $('#AddressPanelModelSendDoc_L_ROOM').val('');
    $('#AddressPanelModelSendDoc_L_SOI').val('');
    $('#AddressPanelModelSendDoc_L_ROAD').val('');

    $('#AddressPanelModelVat_L_HOME_NUMBER_2').val('');
    $('#AddressPanelModelVat_L_MOO').val('');
    $('#AddressPanelModelVat_L_MOOBAN').val('');
    $('#AddressPanelModelVat_L_BUILD_NAME').val('');
    $('#AddressPanelModelVat_L_FLOOR').val('');
    $('#AddressPanelModelVat_L_ROOM').val('');
    $('#AddressPanelModelVat_L_SOI').val('');
    $('#AddressPanelModelVat_L_ROAD').val('');

    $('#textImage').val('');
    $('#textImageG1').val('');
    $('#textImageG2').val('');
    $('#textImageG3').val('');
    $('#textImageB1').val('');
    $('#textImageB2').val('');
    $('#textImageB3').val('');
    $('#textImageB4').val('');
}

function setInstalldata() {
    //kendo.culture("th-TH");
    //var datepicker = $("#dtpInstallDateTH_text").kendoDatePicker({
    //   format: "dd/MM/yyyy",
    //   culture: "th-TH",
    //   animation: {
    //       close: {
    //           effects: "zoom:out",
    //           duration: 300
    //       }
    //   },

    //date: function (input) {
    //    alert(input.data("kendoDatePicker"));
    //    var dp = input.data("kendoDatePicker") || input.data("kendoDateTimePicker");
    //    if (dp != undefined) {
    //        return input.val() === "" || kendo.parseDate(input.val(), dp.options.format) !== null;
    //    }

    //    return input.val() === "" || kendo.parseDate(input.val()) !== null;
    //}
    // });



    //$('#dtpInstallDateTH').datetimepicker({
    //    format: 'd/m/Y',
    //    lang: "th",
    //    timepicker: false,
    //    closeOnDateSelect: true,


    //});

    //$('#dtpInstallDateTH').css("z-index", 9999); //this is once time work
    //$('#dtpInstallDateTH').datetimepicker("destroy");//this is solved my problem

    //$("#dtpInstallDateTH_text").attr("readonly", true);

    //en
    $("#divEnDatePicker").hide();
    $("#divThDatePicker").show();

    $("#divEnDatePeriod").hide();
    $("#divThDatePeriod").show();

    ////th
    //$("#divThDatePicker").hide();
    //$("#divEnDatePicker").show();

    //$("#divThDatePeriod").hide();
    //$("#divEnDatePeriod").show();


    //$('#dtpInstallDateTH').datetimepicker({
    //    format: 'd/m/Y',
    //    lang: "th",
    //    timepicker: false,
    //    closeOnDateSelect: true,
    //});


    //$('#dtpInstallDateEN').datetimepicker({
    //    format: 'd/m/Y',
    //    lang: 'en',
    //    timepicker: false,
    //    closeOnDateSelect: true,
    //});
}

function setBirthDate() {
    var yearIsPS = false;
    var daySelect = $('#ddlDay :selected').val();// $("#ddlDay").data("kendoDropDownList").select();
    var monthSelect = $('#ddlMonth :selected').val();
    var yearSelect = $('#ddlYear :selected').val();

    var yearvalue = parseInt(yearSelect);
    if (yearvalue > 2400) {
        yearvalue = yearvalue - 543;
    }

    var numOfDay = chkNumOfDay(daySelect, monthSelect, yearvalue);


    getDay(daySelect, $("#hdlDATE_OF_BIRTH").val(), 1, numOfDay, true, true);
    getMonth(monthSelect, $("#hdlMONTH_OF_BIRTH").val(), 1, 12, true, true);
    //getYear(yearSelect, $("#hdlYEAR_OF_BIRTH").val(), parseInt(70, 10), parseInt(17, 10), true, true);
    getYear(yearSelect, $("#hdlYEAR_OF_BIRTH").val(), parseInt($("#hdlFBB_Con_YearLimitHigh").val(), 10), parseInt($("#hdlFBB_Con_YearLimitLow").val(), 10), true, true);
}

function chkNumOfDay(daySelect, monthSelect, yearSelect) {
    var numOfDay = 0;

    if (monthSelect == "2") {
        if (yearSelect != "" && yearSelect != undefined) {
            var isleap = (yearSelect % 4 == 0 && (yearSelect % 100 != 0 || yearSelect % 400 == 0));
            if (isleap == false) {
                numOfDay = 28;
            }
            else {
                numOfDay = 29;
            }
        }
        else {
            numOfDay = 29;
        }
    }
    else if (monthSelect == "4" || monthSelect == "6" || monthSelect == "9" || monthSelect == "11") {
        numOfDay = 30;
    }
    else {
        numOfDay = 31;
    }

    return numOfDay;
}

function getDay(daySelect, label, dayLimitLow, dayLimitHigh, defaultFromSFF, disableFirstRow) {

    var data = [];
    if ($("#dayBirthdate").val() != '') {
        daySelect = $("#dayBirthdate").val();
    }
    $("#dayBirthdate").val('');


    for (var i = dayLimitLow; i <= dayLimitHigh; i++) {

        if ($("#tDD").val() == i && defaultFromSFF == true) {
            //  strBuilder += "<option value='" + i + "' selected>" + i + "</option>";
            data = data.concat({ text: i, value: i });
            $("#tDD").val("");

        }
        else if (daySelect == i) {
            // strBuilder += "<option value='" + i + "' selected>" + i + "</option>";
            data = data.concat({ text: i, value: i });

        }
        else {
            //strBuilder += "<option value='" + i + "' >" + i + "</option>";
            data = data.concat({ text: i, value: i });
        }
    }

    // create DropDownList from input HTML element
    $("#ddlDay").kendoDropDownList({
        dataTextField: "text",
        dataValueField: "value",
        dataSource: data,
        index: 0,
        optionLabel: {
            text: label,
            value: "-1"
        },

    });
}

function getMonth(monthSelect, label, monthLimitLow, monthLimitHigh, defaultFromSFF, disableFirstRow) {

    var data = [];

    if ($("#dayBirthMonth").val() != '') {
        monthSelect = $("#dayBirthMonth").val();
    }
    $("#dayBirthMonth").val('');


    if (disableFirstRow) {
        // strBuilder = "<option value='' disabled selected >" + label + "</option>";
        data = data.concat({ text: label, value: '-1' });
    }
    else {
        // strBuilder = "<option value='' selected >" + label + "</option>";
        data = data.concat({ text: label, value: '-1' });
    }

    var arrayMonth;

    if ($("#LanguagePage").val() == "1") {

        arrayMonth = ["มกราคม", "กุมภาพันธ์", "มีนาคม", "เมษายน", "พฤษภาคม", "มิถุนายน", "กรกฎาคม", "สิงหาคม", "กันยายน", "ตุลาคม", "พฤศจิกายน", "ธันวาคม"];
    }
    else {
        arrayMonth = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
    }

    monthLimitLow--;
    monthLimitHigh--;

    for (var i = monthLimitLow; i <= monthLimitHigh; i++) {
        var value = i + 1;
        if (value == $("#tMM").val() && defaultFromSFF == true) {
            // strBuilder += "<option value='" + value + "' selected>" + arrayMonth[i] + "</option>";
            data = data.concat({ text: arrayMonth[i], value: value });
            $("#tMM").val("");
        }
        else if (value == monthSelect)
            // strBuilder += "<option value='" + value + "' selected>" + arrayMonth[i] + "</option>";
            data = data.concat({ text: arrayMonth[i], value: value });
        else
            //strBuilder += "<option value='" + value + "' >" + arrayMonth[i] + "</option>";
            data = data.concat({ text: arrayMonth[i], value: value });
    }

    // create DropDownList from input HTML element
    $("#ddlMonth").kendoDropDownList({
        dataTextField: "text",
        dataValueField: "value",
        dataSource: data,
        index: 0,
    });

}

function getYear(yearSelect, label, yearLimitLow, yearLimitHigh, defaultFromSFF, disableFirstRow) {
    //console.log("yearSelect = " + yearSelect
    //    + "; label =" + label
    //    + "; yearLimitLow =" + yearLimitLow
    //    + "; yearLimitHigh =" + yearLimitHigh
    //    + "; defaultFromSFF =" + defaultFromSFF
    //    + "; disableFirstRow =" + disableFirstRow);
    var data = [];
    // var dt = new Date();
    var currentYear = new Date().getFullYear()//(parseInt(dt.getYear()), parseInt(dt.getMonth) - 1, parseIntdt.getDay()).getFullYear();

    if ($("#LanguagePage").val() == "1")
        currentYear += 543;

    if ($("#dayBirthdyear").val() != '') {

        yearSelect = $("#dayBirthdyear").val();
    }
    $("#dayBirthdyear").val('');

    var limitLowYear = currentYear - yearLimitLow;
    var limitHighYear = currentYear - yearLimitHigh;

    var strBuilder = "";

    if (disableFirstRow) {
        // strBuilder = "<option value='' disabled selected >" + label + "</option>";
        data = data.concat({ text: label, value: '-1' });
    }
    else {
        //  strBuilder = "<option value='' selected >" + label + "</option>";
        data = data.concat({ text: label, value: '-1' });
    }

    for (var i = limitLowYear; i <= limitHighYear ; i++) {
        if ((i == $("#tYY").val() && defaultFromSFF == true) || i == yearSelect)
            // strBuilder += "<option value='" + i + "' selected>" + i + "</option>";
            data = data.concat({ text: i, value: i });
        else
            // strBuilder += "<option value='" + i + "' >" + i + "</option>";
            data = data.concat({ text: i, value: i });
    }
    $("#ddlYear").kendoDropDownList({
        dataTextField: "text",
        dataValueField: "value",
        dataSource: data,
        index: 0,
        //optionLabel: {
        //    text: label,
        //    value: "-1"
        //},
    });
}

function onChangeID_CARD_NAME() {
    var idCardName = $("#ID_CARD_NAME").val(); //.data('kendoDropDownList').value();
    $('#CustomerRegisterPanelModel_L_CARD_TYPE').val($("#ID_CARD_NAME").text());

    $.ajax({
        type: "GET",
        url: "/ResendOrder/GetCustomerSubCat",
        data: { 'idCardName': idCardName },
        dataType: "json",
        async: false,
        success: function (data) {
            $('#cust_subcat').val(data.LovValue4);
            $('#CustomerRegisterPanelModel_SubCateType').val(data.LovValue5);
        },
    });

    set_idcardno_validation();

}

function setDocType() {

    //var locationCode = $('#L_LOC_CODE').val();
    //var ascCode = $('#L_ASC_CODE').val();
    var staff = $('#L_STAFF_ID').val();
    //var saleRep = $('#L_SALE_REP').val();
    //var csAirNet = $('#L_FOR_CS_TEAM').val();

    if (staff != null && staff != "") {
        $('#CustomerRegisterPanelModel_DocType').val("STAFF");
    }
    else if ($('input[name="typeselect"]:checked').val() == 'R') {
        if ($('#ID_CARD_NAME :selected').val() == "MONK_CERT") {
            $('#CustomerRegisterPanelModel_DocType').val("MONK");
        }
        else {
            $('#CustomerRegisterPanelModel_DocType').val("RES");
        }
    }
    else {
        $('#CustomerRegisterPanelModel_DocType').val("NON_RES");
    }
}


function set_idcardno_validation() {
    //console.log("set_idcardno_validation");
    //CheckKeyUp("L_CARD_NO", $("#hdlFBB_Con_Input_ID_CARD").val());
    var cus_reg_idcardno_regex = "";
    var idCardName = $("#ID_CARD_NAME").data('kendoDropDownList').value();

    if (idCardName == "TAX_ID") {
        $('#L_CARD_NO').attr("maxlength", $("#hdlFBB_Con_Length_ID_Card_Number_TAX_ID").val());
        cus_reg_idcardno_regex = $("#hdlFBB_Con_Input_TAX_ID").val();
    }
    else if (idCardName == "MONK_CERT") {
        $('#L_CARD_NO').attr("maxlength", $("#hdlFBB_Con_LengthIDCardNumberMONK_CERT").val());
        cus_reg_idcardno_regex = $("#hdlFBB_Con_Input_MONK_CERT").val();
    }
    else if (idCardName == "GOV_LET") {
        $('#L_CARD_NO').attr("maxlength", $("#hdlFBB_Con_Length_ID_Card_Number_GOV_LET").val());
        cus_reg_idcardno_regex = $("#hdlFBB_Con_Input_GOV_LET").val();
    }
    else if (idCardName == "PASSPORT") {
        $('#L_CARD_NO').attr("maxlength", $("#hdlFBB_Con_Length_ID_Card_Number_PASSPORT").val());
        cus_reg_idcardno_regex = $("#hdlFBB_Con_Input_PASSPORT").val();
    }
    else if (idCardName == "EMB_LET") {
        $('#L_CARD_NO').attr("maxlength", $("#hdlFBB_Con_Length_ID_Card_Number_EMB_LET").val());
        cus_reg_idcardno_regex = $("#hdlFBB_Con_Input_EMB_LET").val();
    }
    else if (idCardName == "IMM_CARD") {
        $('#L_CARD_NO').attr("maxlength", $("#hdlFBB_Con_LengthIDCardNumberIMM_CARD").val());
        cus_reg_idcardno_regex = $("#hdlFBB_Con_Input_IMM_CARD").val();
    }
    else if (idCardName == "STA_LET") {
        $('#L_CARD_NO').attr("maxlength", $("#hdlFBB_Con_Length_ID_Card_Number_STA_LET").val());
        cus_reg_idcardno_regex = $("#hdlFBB_Con_Input_STA_LET").val();
    }
    else if (idCardName == "HILL_CARD") {
        $('#L_CARD_NO').attr("maxlength", $("#hdlFBB_Con_LengthIDCardNumberHILL_CARD").val());
        cus_reg_idcardno_regex = $("#hdlFBB_Con_Input_HILL_CARD").val();
    }
    else if (idCardName == "CERT_FOUND") {
        $('#L_CARD_NO').attr("maxlength", $("#hdlFBB_Con_Length_ID_Card_Number_CERT_FOUND").val());
        cus_reg_idcardno_regex = $("#hdlFBB_Con_Input_CERT_FOUND").val();
    }
    else if (idCardName == "ID_CARD") {
        $('#L_CARD_NO').attr("maxlength", $("#hdlFBB_Con_LengthIDCardNumberID_CARD").val());
        cus_reg_idcardno_regex = $("#hdlFBB_Con_Input_ID_CARD").val();
    }
    else if (idCardName == "ROY_LET") {
        $('#L_CARD_NO').attr("maxlength", $("#hdlFBB_Con_Length_ID_Card_Number_ROY_LET").val());
        cus_reg_idcardno_regex = $("#hdlFBB_Con_Input_ROY_LET").val();
    }
    else {
        // 13
        //$('#L_CARD_NO').attr("maxlength", $("#hdlFBB_Con_LengthIDCardNumberID_CARD").val());
        //cus_reg_idcardno_regex = $("#hdlFBB_Con_Input_ID_CARD").val();

        // 20
        $('#L_CARD_NO').attr("maxlength", $("#hdlFBB_Con_Length_ID_Card_Number_GOV_LET").val());
        cus_reg_idcardno_regex = $("#hdlFBB_Con_Input_GOV_LET").val();
    }
    $('#L_CARD_NO').inputmask('Regex', {
        regex: cus_reg_idcardno_regex,
    });
}

function onCheckType(rb, Input_2) {

    if (rb == null) rb = $('input[name=typeselect]:checked').val();
    var vas_flag = $('#SummaryPanelModel_VAS_FLAG').val();
    var type = rb;// rb.value;
    $('#CustomerRegisterPanelModel_CateType').val(type);

    if (type == 'R') {
        $("#CustomerRegisterPanelModel_L_RESIDENTIAL").prop("checked", true);

        if (vas_flag == "6") {
            $('#TITLE_CODE').prop('disabled', true);
        }

        $('#textImage').show();
        $("#divGovermentName").hide();
        $("#divFill_Vat").hide();
        $("#divFill_Vat_B").hide();
        $("#divContactPerson").hide();
        $("#divFirstName").show();
        $("#divLastName").show();
        $("#divBirthday").show();

        $("#divUploadpicR").show();
        if ($("#PACKAGE_NAME" + $("input[name=SelectPackage]:checked").val()).val().toUpperCase().indexOf("GREETING") > -1) {
            $("#divUploadpicBill").show();
            $("#RemarkGreeting").show();
        } else {
            $("#divUploadpicBill").hide();
            $("#RemarkGreeting").hide();
        }

        $('#divAddressVat').hide();
        $("#divUploadpicG1").hide();
        $("#divUploadpicG2").hide();
        $("#divUploadpicG3").hide();
        $("#divUploadpicB1").hide();
        $("#divUploadpicB2").hide();
        $("#divUploadpicB3").hide();
        $("#divUploadpicB4").hide();

        if (Input_2 == true) {
            getCustomerTitle({ CateType: type });
            getCustomerCardType(type)
        }


        popRequireFieldR();
        pushRequireFieldR();

        $.ajax({
            type: "POST",
            url: "/Process/Remove_list_photo",
            data: { type: 'R' },
            dataType: "json",
            success: function (data) {

            }
        });
        SetDefaultAddressPage2("Vat");
    }
    else if (type == 'G') {
        $("#CustomerRegisterPanelModel_L_GOVERNMENT").prop("checked", true);

        $("#TITLE_CODE").val("");
        $('#ID_CARD_NAME').val("");
        if (vas_flag == "6") {
            $('#TITLE_CODE').prop('disabled', false);
        }

        $("#divGovermentName").show();
        $("#divFill_Vat").show();
        $("#divFill_Vat_B").hide();
        $("#divContactPerson").show();
        $("#divFirstName").hide();
        $("#divLastName").hide();

        $('#divAddressVat').show();
        $('#textImage').hide();
        $("#divUploadpicR").hide();
        $("#divUploadpicBill").hide();
        $("#divUploadpicG1").show();
        $("#divUploadpicG2").show();
        $("#divUploadpicG3").show();
        $("#divUploadpicB1").hide();
        $("#divUploadpicB2").hide();
        $("#divUploadpicB3").hide();
        $("#divUploadpicB4").hide();

        $("#divBirthday").hide();

        if (Input_2 == true) {
            getCustomerTitle({ CateType: type });
            getCustomerCardType(type)
        }

        popRequireFieldGB();
        pushRequireFieldGB();

        $("#L_GOVERNMENT_NAME").attr("placeholder", $('#HDlGOVERNMENT').val());
        $.ajax({
            type: "POST",
            url: "/Process/Remove_list_photo",
            data: { type: 'G' },
            dataType: "json",
            success: function (data) {

            }
        });
        //SetDefaultAddressPage2("Vat");
    }
    else if (type == 'B') {
        $("#CustomerRegisterPanelModel_L_BUSINESS").prop("checked", true);
        $("#TITLE_CODE").val("");
        $('#ID_CARD_NAME').val("");
        if (vas_flag == "6") {
            $('#TITLE_CODE').prop('disabled', false);
        }

        $('#divAddressVat').show();
        $("#divGovermentName").show();
        $("#divFill_Vat_B").show();
        $("#divFill_Vat").hide();
        $("#divContactPerson").show();
        $("#divFirstName").hide();
        $("#divLastName").hide();

        $('#textImage').hide();
        $("#divUploadpicR").hide();
        $("#divUploadpicBill").hide();
        $("#divUploadpicG1").hide();
        $("#divUploadpicG2").hide();
        $("#divUploadpicG3").hide();
        $("#divUploadpicB1").show();
        $("#divUploadpicB2").show();
        $("#divUploadpicB3").show();
        $("#divUploadpicB4").show();

        $("#divBirthday").hide();

        if (Input_2 == true) {
            getCustomerTitle({ CateType: type });
            getCustomerCardType(type)
        }

        popRequireFieldGB();
        pushRequireFieldGB();

        $("#L_GOVERNMENT_NAME").attr("placeholder", $('#HDlBUSINESS').val());

        $.ajax({
            type: "POST",
            url: "/Process/Remove_list_photo",
            data: { type: 'B' },
            dataType: "json",
            success: function (data) {

            }
        });
        //SetDefaultAddressPage2("Vat");
    }

    if (Input_2 == true) {
        getCustomerTitle({ CateType: type });
        getCustomerCardType(type)
    }

    if ($('#LanguagePage').val() == "2") {
        if (type == "G" || type == "B") {
            $('#TITLE_CODE').attr("disabled", "disabled");
        }
        else {
            $('#TITLE_CODE').removeAttr("disabled");
        }
    }
    set_idcardno_validation();
}

var validateModel003GB = new Array();
function popRequireFieldGB() {
    validateModel003GB.pop({ id: "L_GOVERNMENT_NAME" });
    validateModel003GB.pop({ id: "ID_CARD_NAME" });
    validateModel003GB.pop({ id: "L_CARD_NO" });
    validateModel003GB.pop({ id: "L_CONTACT_PERSON" });
    validateModel003GB.pop({ id: "L_EMAIL" });
    validateModel003GB.pop({ id: "L_MOBILE" });
    validateModel003GB.pop({ id: "textImageG1" });
    validateModel003GB.pop({ id: "textImageG2" });
    validateModel003GB.pop({ id: "textImageB1" });
    validateModel003GB.pop({ id: "textImageB2" });
    validateModel003GB.pop({ id: "textImageB3" });

    if ($('input[name=L_HAVE_FIXED_LINE]:checked').val() == "Y") {
        validateModel003GB.pop({ id: "txtHomePhone" });
    }
}

function pushRequireFieldGB() {
    validateModel003GB.push({ id: "L_GOVERNMENT_NAME" });
    validateModel003GB.push({ id: "ID_CARD_NAME" });
    validateModel003GB.push({ id: "L_CARD_NO", condition: "IDCard" });
    validateModel003GB.push({ id: "L_CONTACT_PERSON" });
    validateModel003GB.push({ id: "L_MOBILE", condition: "MobileNumber" });//Update add condition 16.12

    if ($('input[name=L_HAVE_FIXED_LINE]:checked').val() == "Y") {
        validateModel003GB.push({ id: "txtHomePhone" });
    }
    else {
        $("#txtHomePhone").removeClass("form-control errorinput ").addClass("form-control");
    }

    if ($("#L_EMAIL").val() != "") {
        validateModel003GB.push({ id: "L_EMAIL", condition: "Email" });
    }
    else {
        $("#L_EMAIL").removeClass("form-control errorinput ").addClass("form-control");
    }
    var result = $("input[name=SelectPackage]:checked").val();
    if ($("#PRODUCT_SUBTYPE" + result).val() != "SWiFi") {
        if ($('input[name="typeselect"]:checked').val() == 'G') {
            validateModel003GB.push({ id: "textImageG1" });
            validateModel003GB.push({ id: "textImageG2" });
        }
        else if ($('input[name="typeselect"]:checked').val() == 'B') {
            validateModel003GB.push({ id: "textImageB1" });
            validateModel003GB.push({ id: "textImageB2" });
            validateModel003GB.push({ id: "textImageB3" });
        }
    }
}

function onChangeTITLE_CODE() {
    $("#CustomerRegisterPanelModel_L_TITLE").val($("#TITLE_CODE").data('kendoDropDownList').text());
    $("#CustomerRegisterPanelModel_L_TITLE_CODE").val($("#TITLE_CODE").val());

}

var temp_L_TITLE_CODE;
function getCustomerTitle(Input) {
    if (Input.CateType != undefined) {
        if (Input.L_TITLE_CODE != undefined) temp_L_TITLE_CODE = Input.L_TITLE_CODE;
        $('#TITLE_CODE').empty();
        $.ajax({
            type: "GET",
            url: "/ResendOrder/GetCustomerTitle",
            data: { 'customerCardType': Input.CateType, "L_TITLE_CODE": temp_L_TITLE_CODE },
            dataType: "json",
            success: function (data) {
                var strResult = [];
                $.each(data, function (i, e) {
                    //console.log(e.Value + " - " + e.Text);
                    strResult = strResult.concat({ text: e.Text, value: e.Value });
                });
                $("#TITLE_CODE").kendoDropDownList({
                    dataTextField: "text",
                    dataValueField: "value",
                    dataSource: strResult,
                    // index: 0,
                    optionLabel: {
                        text: $("#hdlTITLE").val(),
                        value: "-1"
                    },
                });
                if (Input.L_TITLE_CODE != undefined) {
                    $("#TITLE_CODE").data('kendoDropDownList').value(Input.L_TITLE_CODE);
                }
                else if (Input.L_TITLE_CODE == undefined && Input.CateType == "R") {
                    $("#TITLE_CODE").data('kendoDropDownList').value(127); // คุณ
                }
            }
        });
    }
}

function getCustomerCardType(type) {
    //alert("getCustomerCardType : " + type);
    $('#ID_CARD_NAME').empty();
    $.ajax({
        type: "GET",
        url: "/ResendOrder/GetCustomerCardType",
        data: { 'customerType': type },
        dataType: "json",
        async: false,
        success: function (data) {
            //console.log(data);
            var strCardType = [];
            $.each(data, function (i, e) {
                strCardType = strCardType.concat({ text: e.Text, value: e.Value });
            });

            $("#ID_CARD_NAME").kendoDropDownList({
                dataTextField: "text",
                dataValueField: "value",
                dataSource: strCardType,
                // index: 0,
                optionLabel: {
                    //text: $("#hdlCARD_TYPE").val(),
                    text: $("#hdlCARD_TYPE").val(),
                    value: "-1"
                },
            });
            $('#CustomerRegisterPanelModel_L_CARD_TYPE').val(type);
            if (type == "R") {
                $("#ID_CARD_NAME").data('kendoDropDownList').value("ID_CARD"); // บัตรประชาชน
            }
        }
    });
}

function copyAddressSetUpTo(province, amphur, tumbon, zipcode) {

    $.ajax({
        type: "GET",
        url: "/MasterData/GetAddress",
        data: { 'province': province, 'amphur': amphur, 'tumbon': tumbon },
        dataType: "json",
        success: function (data) {
            var strProvince = [];
            var strAumphur = [];
            var strTumbon = [];
            var strZipcode = [];

            $.each(sortResults(data.province, "Text", true), function (i, e) {
                strProvince = strProvince.concat({ text: e.Text, value: e.Value });
            });

            $.each(sortResults(data.amphur, "Text", true), function (i, e) {
                var amphur_Filter_1 = "ปณ";
                var amphur_Filter_2 = "PO";
                if (e.Value.indexOf(amphur_Filter_1) == -1 && e.Value.indexOf(amphur_Filter_2) == -1) {
                    //console.log(e.Value);
                    strAumphur = strAumphur.concat({ text: e.Text, value: e.Value });
                }
                //strAumphur = strAumphur.concat({ text: e.Text, value: e.Value });
            });

            $.each(sortResults(data.tumbon, "Text", true), function (i, e) {
                strTumbon = strTumbon.concat({ text: e.Text, value: e.Value });
            });

            $.each(sortResults(data.zipcode, "Text", true), function (i, e) {
                strZipcode = strZipcode.concat({ text: e.Text, value: e.Value });
            });

            $("#ProvinceSetup").kendoDropDownList({
                dataTextField: "text",
                dataValueField: "value",
                dataSource: strProvince,
                // index: 0,
                optionLabel: {
                    text: $("#hdlPROVINCE").val(),
                    value: "-1"
                },
            });
            //alert(province);
            $("#ProvinceSetup").data('kendoDropDownList').value(province);

            $("#AmphurSetup").kendoDropDownList({
                dataTextField: "text",
                dataValueField: "value",
                dataSource: strAumphur,
                //  index: 0,
                optionLabel: {
                    text: $("#hdlAMPHER").val(),
                    value: "-1"
                },
            });

            $("#AmphurSetup").data('kendoDropDownList').value(amphur);

            $("#TumbonSetup").kendoDropDownList({
                dataTextField: "text",
                dataValueField: "value",
                dataSource: strTumbon,
                // index: 0,
                optionLabel: {
                    text: $("#hdlTUMBON").val(),
                    value: "-1"
                },
            });

            $("#TumbonSetup").data('kendoDropDownList').value(tumbon);

            $("#ZipCodeSetup").kendoDropDownList({
                dataTextField: "text",
                dataValueField: "value",
                dataSource: strZipcode,
                optionLabel: {
                    text: $("#hdlZIPCODE").val(),
                    value: "-1"
                },
            });


            $("#ZipCodeSetup").data('kendoDropDownList').text(zipcode);

        }
    });

}

function getAddressToSendDoc(province, amphur, tumbon, zipcode) {
    //console.log({ 'province': province, 'amphur': amphur, 'tumbon': tumbon });
    $.ajax({
        type: "GET",
        url: "/MasterData/GetAddress",
        data: { 'province': province, 'amphur': amphur, 'tumbon': tumbon },
        dataType: "json",
        success: function (data) {

            var strProvince = [];
            var strAumphur = [];
            var strTumbon = [];
            var strZipcode = [];

            $.each(sortResults(data.province, "Text", true), function (i, e) {
                strProvince = strProvince.concat({ text: e.Text, value: e.Value });
            });

            $.each(sortResults(data.amphur, "Text", true), function (i, e) {
                var amphur_Filter_1 = "ปณ";
                var amphur_Filter_2 = "PO";
                if (e.Value.indexOf(amphur_Filter_1) == -1 && e.Value.indexOf(amphur_Filter_2) == -1) {
                    //console.log(e.Value);
                    strAumphur = strAumphur.concat({ text: e.Text, value: e.Value });
                }
                //strAumphur = strAumphur.concat({ text: e.Text, value: e.Value });
            });

            $.each(sortResults(data.tumbon, "Text", true), function (i, e) {
                strTumbon = strTumbon.concat({ text: e.Text, value: e.Value });
            });

            $.each(sortResults(data.zipcode, "Text", true), function (i, e) {
                strZipcode = strZipcode.concat({ text: e.Text, value: e.Value });
            });

            $("#ProvinceSendDoc").kendoDropDownList({
                dataTextField: "text",
                dataValueField: "value",
                dataSource: strProvince,
                index: 0,
                optionLabel: {
                    text: $("#hdlPROVINCESEND").val(),
                    value: "-1"
                },
            });

            $("#ProvinceSendDoc").data('kendoDropDownList').value(province);
            // $("#ProvinceSendDoc").val(province);

            $("#AmphurSendDoc").kendoDropDownList({
                dataTextField: "text",
                dataValueField: "value",
                dataSource: strAumphur,
                index: 0,
                optionLabel: {
                    text: $("#hdlAMPHERSEND").val(),
                    value: "-1"
                },
            });

            $("#AmphurSendDoc").data('kendoDropDownList').value(amphur);

            $("#TumbonSendDoc").kendoDropDownList({
                dataTextField: "text",
                dataValueField: "value",
                dataSource: strTumbon,
                index: 0,
                optionLabel: {
                    text: $("#hdlTUMBONSEND").val(),
                    value: "-1"
                },
            });

            $("#TumbonSendDoc").data('kendoDropDownList').value(tumbon);

            $("#ZipCodeSendDoc").kendoDropDownList({
                dataTextField: "text",
                dataValueField: "value",
                dataSource: strZipcode,
                index: 0,
                optionLabel: {
                    text: $("#hdlZIPCODESEND").val(),
                    value: "-1"
                },
            });
            $("#ZipCodeSendDoc").data('kendoDropDownList').text(zipcode);
        }
    });
}

function getAddressToVat(province, amphur, tumbon, zipcode) {
    //console.log("step 1");
    $.ajax({
        type: "GET",
        url: "/MasterData/GetAddress",
        data: { 'province': province, 'amphur': amphur, 'tumbon': tumbon },
        dataType: "json",
        success: function (data) {

            var strProvince = [];
            var strAumphur = [];
            var strTumbon = [];
            var strZipcode = [];

            $.each(sortResults(data.province, "Text", true), function (i, e) {
                strProvince = strProvince.concat({ text: e.Text, value: e.Value });
            });

            $.each(sortResults(data.amphur, "Text", true), function (i, e) {
                var amphur_Filter_1 = "ปณ";
                var amphur_Filter_2 = "PO";
                if (e.Value.indexOf(amphur_Filter_1) == -1 && e.Value.indexOf(amphur_Filter_2) == -1) {
                    //console.log(e.Value);
                    strAumphur = strAumphur.concat({ text: e.Text, value: e.Value });
                }
                //strAumphur = strAumphur.concat({ text: e.Text, value: e.Value });
            });

            $.each(sortResults(data.tumbon, "Text", true), function (i, e) {
                strTumbon = strTumbon.concat({ text: e.Text, value: e.Value });
            });

            $.each(sortResults(data.zipcode, "Text", true), function (i, e) {
                strZipcode = strZipcode.concat({ text: e.Text, value: e.Value });
            });

            $("#ProvinceVat").kendoDropDownList({
                dataTextField: "text",
                dataValueField: "value",
                dataSource: strProvince,
                index: 0,
                optionLabel: {
                    text: $("#hdlPROVINCESEND").val(),
                    value: "-1"
                },
            });

            $("#ProvinceVat").data('kendoDropDownList').value(province);
            // $("#ProvinceSendDoc").val(province);

            $("#AmphurVat").kendoDropDownList({
                dataTextField: "text",
                dataValueField: "value",
                dataSource: strAumphur,
                index: 0,
                optionLabel: {
                    text: $("#hdlAMPHERSEND").val(),
                    value: "-1"
                },
            });

            $("#AmphurVat").data('kendoDropDownList').value(amphur);

            $("#TumbonVat").kendoDropDownList({
                dataTextField: "text",
                dataValueField: "value",
                dataSource: strTumbon,
                index: 0,
                optionLabel: {
                    text: $("#hdlTUMBONSEND").val(),
                    value: "-1"
                },
            });

            $("#TumbonVat").data('kendoDropDownList').value(tumbon);

            $("#ZipCodeVat").kendoDropDownList({
                dataTextField: "text",
                dataValueField: "value",
                dataSource: strZipcode,
                index: 0,
                optionLabel: {
                    text: $("#hdlZIPCODESEND").val(),
                    value: "-1"
                },
            });
            $("#ZipCodeVat").data('kendoDropDownList').text(zipcode);
        }
    });
    //console.log("step last");
}

function SetDefaultAddressPage(page) {

    var province = $("#ProvinceSetup").val();
    var amphur = $("#AmphurSetup").val();
    var tumbon = $("#TumbonSetup").val();
    var zipcode = $("#ZipCodeSetup").val();

    $('#AddressPanelModelSendDoc_L_HOME_NUMBER_2').val('');
    $('#AddressPanelModelSendDoc_L_MOO').val('');
    $('#AddressPanelModelSendDoc_L_MOOBAN').val('');
    $('#AddressPanelModelSendDoc_L_BUILD_NAME').val('');
    $('#AddressPanelModelSendDoc_L_FLOOR').val('');
    $('#AddressPanelModelSendDoc_L_ROOM').val('');
    $('#AddressPanelModelSendDoc_L_SOI').val('');
    $('#AddressPanelModelSendDoc_L_ROAD').val('');

    $.ajax({
        type: "GET",
        url: "/MasterData/GetAddress",
        data: { 'province': province, 'amphur': amphur, 'tumbon': tumbon },
        dataType: "json",
        async: false,
        success: function (data) {

            var strProvince = [];
            var strAumphur = [];
            var strTumbon = [];
            var strZipcode = [];

            $.each(data.province, function (i, e) {
                strProvince = strProvince.concat({ text: e.Text, value: e.Value });
            });

            $.each(data.amphur, function (i, e) {
                var amphur_Filter_1 = "ปณ";
                var amphur_Filter_2 = "PO";
                if (e.Value.indexOf(amphur_Filter_1) == -1 && e.Value.indexOf(amphur_Filter_2) == -1) {
                    //console.log(e.Value);
                    //strAumphur = strAumphur.concat({ text: e.Text, value: e.Value });
                }
                //strAumphur = strAumphur.concat({ text: e.Text, value: e.Value });
            });

            $.each(data.tumbon, function (i, e) {
                //strTumbon = strTumbon.concat({ text: e.Text, value: e.Value });
            });

            $.each(data.zipcode, function (i, e) {
                //strZipcode = strZipcode.concat({ text: e.Text, value: e.Value });
            });


            $("#ProvinceSendDoc").kendoDropDownList({
                dataTextField: "text",
                dataValueField: "value",
                dataSource: strProvince,
                // index: 0,
                optionLabel: {
                    text: $("#hdlPROVINCESEND").val(),
                    value: "-1"
                },
            });

            //$("#ProvinceSendDoc").data('kendoDropDownList').value(province);
            $("#ProvinceSendDoc").data("kendoDropDownList").select(-1);

            $("#AmphurSendDoc").kendoDropDownList({
                dataTextField: "text",
                dataValueField: "value",
                dataSource: strAumphur,
                //index: 0,
                optionLabel: {
                    text: $("#hdlAMPHERSEND").val(),
                    value: "-1"
                },
            });

            $("#AmphurSendDoc").data('kendoDropDownList').value(amphur);

            $("#TumbonSendDoc").kendoDropDownList({
                dataTextField: "text",
                dataValueField: "value",
                dataSource: strTumbon,
                // index: 0,
                optionLabel: {
                    text: $("#hdlTUMBONSEND").val(),
                    value: "-1"
                },
            });

            $("#TumbonSendDoc").data('kendoDropDownList').value(tumbon);

            $("#ZipCodeSendDoc").kendoDropDownList({
                dataTextField: "text",
                dataValueField: "value",
                dataSource: strZipcode,

                optionLabel: {
                    text: $("#hdlZIPCODESEND").val(),
                    value: "-1"
                },
            });
            $("#ZipCodeSendDoc").data('kendoDropDownList').text(zipcode);
        }
    });
    //$("#ProvinceSendDoc").data("kendoDropDownList").select(-1);
    //$("#AmphurSendDoc").data("kendoDropDownList").select(-1);
    //$("#TumbonSendDoc").data("kendoDropDownList").select(-1);
    //$("#ZipCodeSendDoc").data("kendoDropDownList").select(-1);
}

function SetDefaultAddressPage2(page) {

    var province = $("#ProvinceSetup").val();
    var amphur = $("#AmphurSetup").val();
    var tumbon = $("#TumbonSetup").val();
    var zipcode = $("#ZipCodeSetup").val();

    $('#AddressPanelModelVat_L_HOME_NUMBER_2').val('');
    $('#AddressPanelModelVat_L_MOO').val('');
    $('#AddressPanelModelVat_L_MOOBAN').val('');
    $('#AddressPanelModelVat_L_BUILD_NAME').val('');
    $('#AddressPanelModelVat_L_FLOOR').val('');
    $('#AddressPanelModelVat_L_ROOM').val('');
    $('#AddressPanelModelVat_L_SOI').val('');
    $('#AddressPanelModelVat_L_ROAD').val('');

    $("#ProvinceVat").data("kendoDropDownList").select(-1);
    $("#AmphurVat").data("kendoDropDownList").select(-1);
    $("#TumbonVat").data("kendoDropDownList").select(-1);
    $("#ZipCodeVat").data("kendoDropDownList").select(-1);

    $.ajax({
        type: "GET",
        url: "/MasterData/GetAddress",
        data: { 'province': province, 'amphur': amphur, 'tumbon': tumbon },
        dataType: "json",
        async: false,
        success: function (data) {

            var strProvince = [];
            var strAumphur = [];
            var strTumbon = [];
            var strZipcode = [];

            $.each(data.province, function (i, e) {
                strProvince = strProvince.concat({ text: e.Text, value: e.Value });
            });

            $.each(data.amphur, function (i, e) {
                var amphur_Filter_1 = "ปณ";
                var amphur_Filter_2 = "PO";
                if (e.Value.indexOf(amphur_Filter_1) == -1 && e.Value.indexOf(amphur_Filter_2) == -1) {
                    //console.log(e.Value);
                    //strAumphur = strAumphur.concat({ text: e.Text, value: e.Value });
                }
                //strAumphur = strAumphur.concat({ text: e.Text, value: e.Value });
            });

            $.each(data.tumbon, function (i, e) {
                //strTumbon = strTumbon.concat({ text: e.Text, value: e.Value });
            });

            $.each(data.zipcode, function (i, e) {
                //strZipcode = strZipcode.concat({ text: e.Text, value: e.Value });
            });


            $("#ProvinceVat").kendoDropDownList({
                dataTextField: "text",
                dataValueField: "value",
                dataSource: strProvince,
                // index: 0,
                optionLabel: {
                    text: $("#hdlPROVINCESEND").val(),
                    value: "-1"
                },
            });

            //$("#ProvinceVat").data('kendoDropDownList').value(province);
            $("#ProvinceVat").data("kendoDropDownList").select(-1);

            $("#AmphurVat").kendoDropDownList({
                dataTextField: "text",
                dataValueField: "value",
                dataSource: strAumphur,
                //index: 0,
                optionLabel: {
                    text: $("#hdlAMPHERSEND").val(),
                    value: "-1"
                },
            });

            $("#AmphurVat").data('kendoDropDownList').value(amphur);

            $("#TumbonVat").kendoDropDownList({
                dataTextField: "text",
                dataValueField: "value",
                dataSource: strTumbon,
                // index: 0,
                optionLabel: {
                    text: $("#hdlTUMBONSEND").val(),
                    value: "-1"
                },
            });

            $("#TumbonVat").data('kendoDropDownList').value(tumbon);

            $("#ZipCodeVat").kendoDropDownList({
                dataTextField: "text",
                dataValueField: "value",
                dataSource: strZipcode,

                optionLabel: {
                    text: $("#hdlZIPCODESEND").val(),
                    value: "-1"
                },
            });


            $("#ZipCodeVat").data('kendoDropDownList').text(zipcode);

        }
    });

}

function onChangeProvince(province) {

    $('#TumbonSetup').data('kendoDropDownList').value(-1)
    $('#AmphurSetup').data('kendoDropDownList').value(-1)
    $('#ZipCodeSetup').data('kendoDropDownList').value(-1)

    var proviceId = $("#ProvinceSetup").val();
    $.ajax({
        type: "GET",
        url: "/MasterData/GetAmphur",
        data: { 'currentCulture': 1, 'provinceFilter': proviceId },
        dataType: "json",
        success: function (data) {
            var strAumphur = [];
            var amphur_Filter_1 = "ปณ";
            var amphur_Filter_2 = "PO";
            $.each(data, function (i, e) {
                //strAumphur = strAumphur.concat({ text: e.Text, value: e.Value });
                if (e.Value.indexOf(amphur_Filter_1) == -1 && e.Value.indexOf(amphur_Filter_2) == -1) {
                    //console.log(e.Value);
                    strAumphur = strAumphur.concat({ text: e.Text, value: e.Value });
                }
            });

            $("#AmphurSetup").kendoDropDownList({
                dataTextField: "text",
                dataValueField: "value",
                dataSource: strAumphur,
                index: 0,
                optionLabel: {
                    text: $("#hdlAMPHER").val(),
                    value: "-1"
                },
            });
        }
    });
}

function onChangeAmphur(amphur) {
    $('#TumbonSetup').data('kendoDropDownList').value(-1)
    $('#ZipCodeSetup').data('kendoDropDownList').value(-1)

    var proviceId = $("#ProvinceSetup").val();
    var amphurId = $("#AmphurSetup").val();

    $.ajax({
        type: "GET",
        url: "/MasterData/GetTumbon",
        data: { 'currentCulture': 1, 'provinceFilter': proviceId, 'amphurFilter': amphurId },
        dataType: "json",
        success: function (data) {
            var strTumbon = [];
            $.each(data, function (i, e) {
                strTumbon = strTumbon.concat({ text: e.Text, value: e.Value });
            });

            $("#TumbonSetup").kendoDropDownList({
                dataTextField: "text",
                dataValueField: "value",
                dataSource: strTumbon,
                index: 0,
                optionLabel: {
                    text: $("#hdlTUMBON").val(),
                    value: "-1"
                },
            });

        }
    });
}

function onChangeTumbon(tumbon) {
    $('#ZipCodeSetup').data('kendoDropDownList').value(-1)

    var proviceId = $("#ProvinceSetup").val();
    var amphurId = $("#AmphurSetup").val();
    var tumbonId = $("#TumbonSetup").val();

    $.ajax({
        type: "GET",
        url: "/MasterData/GetZipCode",
        data: { 'currentCulture': 1, 'provinceFilter': proviceId, 'amphurFilter': amphurId, 'tumbonFilter': tumbonId },
        dataType: "json",
        success: function (data) {
            var strZipcode = [];
            $.each(data, function (i, e) {
                strZipcode = strZipcode.concat({ text: e.Text, value: e.Value });
            });

            $("#ZipCodeSetup").kendoDropDownList({
                dataTextField: "text",
                dataValueField: "value",
                dataSource: strZipcode,
                index: 1,
                optionLabel: {
                    text: $("#hdlZIPCODE").val(),
                    value: "-1"
                },
            });
        },
    });
}

function onChangeProvinceSendDoc(province) {
    $('#TumbonSendDoc').data('kendoDropDownList').value(-1)
    $('#AmphurSendDoc').data('kendoDropDownList').value(-1)
    $('#ZipCodeSendDoc').data('kendoDropDownList').value(-1)

    var proviceId = $("#ProvinceSendDoc").val();
    $.ajax({
        type: "GET",
        url: "/MasterData/GetAmphur",
        data: { 'currentCulture': 1, 'provinceFilter': proviceId },
        dataType: "json",
        success: function (data) {
            var strAumphur = [];
            var amphur_Filter_1 = "ปณ";
            var amphur_Filter_2 = "PO";
            $.each(data, function (i, e) {
                //strAumphur = strAumphur.concat({ text: e.Text, value: e.Value });
                if (e.Value.indexOf(amphur_Filter_1) == -1 && e.Value.indexOf(amphur_Filter_2) == -1) {
                    //console.log(e.Value);
                    strAumphur = strAumphur.concat({ text: e.Text, value: e.Value });
                }
            });

            $("#AmphurSendDoc").kendoDropDownList({
                dataTextField: "text",
                dataValueField: "value",
                dataSource: strAumphur,
                //index: 0,
                optionLabel: {
                    text: $("#hdlAMPHERSEND").val(),
                    value: "-1"
                },
            });
        }
    });
}

function onChangeAmphurSendDoc(amphur) {
    $('#TumbonSendDoc').data('kendoDropDownList').value(-1)
    $('#ZipCodeSendDoc').data('kendoDropDownList').value(-1)

    var proviceId = $("#ProvinceSendDoc").val();
    var amphurId = $("#AmphurSendDoc").val();

    $.ajax({
        type: "GET",
        url: "/MasterData/GetTumbon",
        data: { 'currentCulture': 1, 'provinceFilter': proviceId, 'amphurFilter': amphurId },
        dataType: "json",
        success: function (data) {
            var strTumbon = [];
            $.each(data, function (i, e) {
                strTumbon = strTumbon.concat({ text: e.Text, value: e.Value });
            });

            $("#TumbonSendDoc").kendoDropDownList({
                dataTextField: "text",
                dataValueField: "value",
                dataSource: strTumbon,
                index: 0,
                optionLabel: {
                    text: $("#hdlTUMBONSEND").val(),
                    value: "-1"
                },
            });

        }
    });
}

function onChangeTumbonSendDoc(tumbon) {
    $('#ZipCodeSendDoc').data('kendoDropDownList').value(-1)

    var proviceId = $("#ProvinceSendDoc").val();
    var amphurId = $("#AmphurSendDoc").val();
    var tumbonId = $("#TumbonSendDoc").val();

    $.ajax({
        type: "GET",
        url: "/MasterData/GetZipCode",
        data: { 'currentCulture': 1, 'provinceFilter': proviceId, 'amphurFilter': amphurId, 'tumbonFilter': tumbonId },
        dataType: "json",
        success: function (data) {
            var strZipcode = [];
            $.each(data, function (i, e) {
                strZipcode = strZipcode.concat({ text: e.Text, value: e.Value });
            });

            $("#ZipCodeSendDoc").kendoDropDownList({
                dataTextField: "text",
                dataValueField: "value",
                dataSource: strZipcode,
                index: 1,
                optionLabel: {
                    text: $("#hdlZIPCODESEND").val(),
                    value: "-1"
                },
            });
        },
    });

    GetP_Region();
}

function onChangeZipCode(zip) {

    if (zip.id.toString() == "ZipCodeSetup") {
        GetP_Region();
    }
    else if (zip.id.toString() == "ZipCodeSendDoc") {
        $("#CustomerRegisterPanelModel_AddressPanelModelSendDoc_ZIPCODE_ID").val($("#ZipCodeSendDoc :selected").val());
    }
    else if (zip.id.toString() == "ZipCodeVat") {
        $("#CustomerRegisterPanelModel_AddressPanelModelVat_ZIPCODE_ID").val($("#ZipCodeVat :selected").val());
    }
}

function onChangeProvinceVat(province) {

    $('#TumbonVat').data('kendoDropDownList').value(-1)
    $('#AmphurVat').data('kendoDropDownList').value(-1)
    $('#ZipCodeVat').data('kendoDropDownList').value(-1)

    var proviceId = $("#ProvinceVat").val();
    $.ajax({
        type: "GET",
        url: "/MasterData/GetAmphur",
        data: { 'currentCulture': 1, 'provinceFilter': proviceId },
        dataType: "json",
        success: function (data) {
            //console.log(data);
            var strAumphur = [];
            var amphur_Filter_1 = "ปณ";
            var amphur_Filter_2 = "PO";
            $.each(data, function (i, e) {
                //strAumphur = strAumphur.concat({ text: e.Text, value: e.Value });
                if (e.Value.indexOf(amphur_Filter_1) == -1 && e.Value.indexOf(amphur_Filter_2) == -1) {
                    console.log(e.Value);
                    strAumphur = strAumphur.concat({ text: e.Text, value: e.Value });
                }
            });

            $("#AmphurVat").kendoDropDownList({
                dataTextField: "text",
                dataValueField: "value",
                dataSource: strAumphur,
                //index: 0,
                optionLabel: {
                    text: $("#hdlAMPHERSEND").val(),
                    value: "-1"
                },
            });
        }
    });
}

function onChangeAmphurVat(amphur) {
    $('#TumbonVat').data('kendoDropDownList').value(-1)
    $('#ZipCodeVat').data('kendoDropDownList').value(-1)

    var proviceId = $("#ProvinceVat").val();
    var amphurId = $("#AmphurVat").val();

    $.ajax({
        type: "GET",
        url: "/MasterData/GetTumbon",
        data: { 'currentCulture': 1, 'provinceFilter': proviceId, 'amphurFilter': amphurId },
        dataType: "json",
        success: function (data) {
            var strTumbon = [];
            $.each(data, function (i, e) {
                strTumbon = strTumbon.concat({ text: e.Text, value: e.Value });
            });

            $("#TumbonVat").kendoDropDownList({
                dataTextField: "text",
                dataValueField: "value",
                dataSource: strTumbon,
                index: 0,
                optionLabel: {
                    text: $("#hdlTUMBONSEND").val(),
                    value: "-1"
                },
            });

        }
    });
}

function onChangeTumbonVat(tumbon) {
    $('#ZipCodeVat').data('kendoDropDownList').value(-1)

    var proviceId = $("#ProvinceVat").val();
    var amphurId = $("#AmphurVat").val();
    var tumbonId = $("#TumbonVat").val();

    $.ajax({
        type: "GET",
        url: "/MasterData/GetZipCode",
        data: { 'currentCulture': 1, 'provinceFilter': proviceId, 'amphurFilter': amphurId, 'tumbonFilter': tumbonId },
        dataType: "json",
        success: function (data) {
            var strZipcode = [];
            $.each(data, function (i, e) {
                strZipcode = strZipcode.concat({ text: e.Text, value: e.Value });
            });

            $("#ZipCodeVat").kendoDropDownList({
                dataTextField: "text",
                dataValueField: "value",
                dataSource: strZipcode,
                index: 1,
                optionLabel: {
                    text: $("#hdlZIPCODESEND").val(),
                    value: "-1"
                },
            });
        },
    });

    GetP_Region();
}

function onChangeZipCodeVat(zip) {

    if (zip.id.toString() == "ZipCodeSetup") {
        GetP_Region();
    }
    else if (zip.id.toString() == "ZipCodeSendDoc") {
        $("#CustomerRegisterPanelModel_AddressPanelModelSendDoc_ZIPCODE_ID").val($("#ZipCodeSendDoc :selected").val());
    }
    else if (zip.id.toString() == "ZipCodeVat") {
        $("#CustomerRegisterPanelModel_AddressPanelModelVat_ZIPCODE_ID").val($("#ZipCodeVat :selected").val());
    }
}

function getHidenfieldPackage() {
    GetP_Region();
}

function FBSSAccessModeInfo() {
    AccessMode: "";
    InserviceDate: null;
}

function groupWording(g) {
    var word = "";

    $.ajax({
        type: "GET",
        url: "/SelectPackage/GetDescription",
        data:
        {
            Packgrop: g
        },
        dataType: "json",
        async: false,
        success: function (data) {
            if (data.length == 0 || data[0].DisplayValue == undefined) {
                return "";
            }
            else {
                word = data[0].DisplayValue;

            }
        }
    });

    if (word == "")
        return "";
    else
        return word;
}

function remarkGroupWording(g, b) {
    var word = "";

    $.ajax({
        type: "GET",
        url: "/SelectPackage/GetRemark",
        data:
        {
            Packgroup: g,
            BuildingName: b
        },
        dataType: "json",
        async: false,
        success: function (data) {
            if (data.length == 0 || data[0].DisplayValue == undefined) {
                return "";
            }
            else {
                word = data[0].DisplayValue;

            }
        }
    });
    if (word == "")
        return "";
    else
        return word;
}

function appendingAutoMap(i, e) {
    var mc = e.MAPPING_CODE;
    var mp = e.MAPPING_PRODUCT;
    var key = mc + i;

    var getName = "SelectAutoMap" + mc + e.OWNER_PRODUCT;

    var text_append = "<tr>" +
           "<td>" +
           "<input type='text' name='" + getName + "' value='" + i + "'>" +
           "<input type='text' id='MAPPING_CODE" + key + "' value='" + e.MAPPING_CODE + "'>" +
           "<input type='text' id='MAPPING_PRODUCT" + key + "' value='" + e.MAPPING_PRODUCT + "'>" +
           "<input type='text' id='PACKAGE_CODE" + key + "' value='" + e.PACKAGE_CODE + "'>" +
           "<input type='text' id='PACKAGE_NAME" + key + "' value='" + e.PACKAGE_NAME + "'>" +
           "<input type='text' id='PACKAGE_GROUP" + key + "' value='" + e.PACKAGE_GROUP + "'>" +
           "<input type='text' id='RECURRING_CHARGE" + key + "' value='" + e.RECURRING_CHARGE + "'>" +
           "<input type='text' id='PRE_RECURRING_CHARGE" + key + "' value='" + e.PRE_RECURRING_CHARGE + "'>" +
           "<input type='text' id='SFF_PROMOTION_BILL_THA" + key + "' value='" + e.SFF_PROMOTION_BILL_THA + "'>" +
           "<input type='text' id='SFF_PROMOTION_BILL_ENG" + key + "' value='" + e.SFF_PROMOTION_BILL_ENG + "'>" +
           "<input type='text' id='TECHNOLOGY" + key + "' value='" + e.TECHNOLOGY + "'>" +
           "<input type='text' id='DOWNLOAD_SPEED" + key + "' value='" + e.DOWNLOAD_SPEED + "'>" +
           "<input type='text' id='UPLOAD_SPEED" + key + "' value='" + e.UPLOAD_SPEED + "'>" +
           "<input type='text' id='INITIATION_CHARGE" + key + "' value='" + e.INITIATION_CHARGE + "'>" +
           "<input type='text' id='PRE_INITIATION_CHARGE" + key + "' value='" + e.PRE_INITIATION_CHARGE + "'>" +
           "<input type='text' id='PACKAGE_TYPE" + key + "' value='" + e.PACKAGE_TYPE + "'>" +
           "<input type='text' id='PRODUCT_SUBTYPE" + key + "' value='" + e.PRODUCT_SUBTYPE + "'>" +
           "<input type='text' id='PRODUCT_SUBTYPE3" + key + "' value='" + e.PRODUCT_SUBTYPE3 + "'>" +
           "<input type='text' id='OWNER_PRODUCT" + key + "' value='" + e.OWNER_PRODUCT + "'>" +
           "<input type='text' id='ACCESS_MODE" + key + "' value='" + e.ACCESS_MODE + "'>" +
           "<input type='text' id='SERVICE_CODE" + key + "' value='" + e.SERVICE_CODE + "'>" +
           "<input type='hidden' id='SFF_PROMOTION_CODE" + key + "' value='" + e.SFF_PROMOTION_CODE + "'>" +
           "<input type='text' id='DISCOUNT_TYPE" + key + "' value='" + e.DISCOUNT_TYPE + "'>" +
           "<input type='text' id='DISCOUNT_VALUE" + key + "' value='" + e.DISCOUNT_VALUE + "'>" +
           "<input type='hidden' id='DISCOUNT_DAY" + key + "' value='" + e.DISCOUNT_DAY + "'>" +
           "</td>" +
           "</tr>";

    //console.log(text_append);
    return text_append;
}

function getDisDetail() {

    var discountDetail = "<div class='getDisDetail add-rounded-gray'>"// + "<p class='clearfix'></p>";
    var discountDetail_default = "<div class='getDisDetail add-rounded-gray'>" +
               "<strong>" + $("#HdL_DISCOUNT").val() + "</strong> <br>" +
               "<p id='disCondition1'></p><p id='disConditionPmt'></p>" +
               "<p class='clearfix'></p>" +
               "<strong>" + $("#HdL_LAN_WIRING").val() + "</strong> <br>" +
               "<ul>" +
               "<li>" + $("#HdL_LAN_WIRING_1").val() + "</li>" +
               "<li>" + $("#HdL_LAN_WIRING_2").val() + "</li>" +
               "<li>" + $("#HdL_LAN_WIRING_3").val() + "</li></ul>" +
               "<p class='clearfix'></p>" +
               "<strong><label id='disCondition21'></label></strong> <br>" +
               "<p id='disCondition22'></p>" +
               "<p class='clearfix'></p>" +
               "<p class='clearfix'></p>" +
               "</div>";

    var discountDetail_entranceFee = "<div class='getDisDetail add-rounded-gray'>" +
                "<strong>" + $("#hdL_CHARGE_ON_INSTALL_DATE").val() + "</strong> <br>" +
                "<ul><li><p id='disEntranceFee'>" + $("#hdL_ENTRANCE_FEE").val() + "</p></li></ul>" + "</div>";

    if ($("#showEntrancefee").val() == "true") // entranceFee
        discountDetail = discountDetail + discountDetail_entranceFee + discountDetail_default;
    else
        discountDetail = discountDetail + discountDetail_default;


    console.log(discountDetail);
    return discountDetail;
}

function appendingMain(i, e, sl, data, vMainPackagecode) {
    if (sl == undefined) sl = "";
    appendingMain


    var isTriple = false;
    var strResult = "";

    if (e.PACKAGE_TYPE == "TRIPLE") {
        isTriple = true;
    }

    strResult = "<tr class='promotionDetail-table'>" +
           "<th>" +
           "<input type='radio' checked='checked' name='SelectPackage' id='SelectPackage" + i + "' " + sl + " onclick='onBinding(this)' value='" + i + "'>" +
           "<input type='hidden' id='MAPPING_CODE" + i + "' value='" + e.MAPPING_CODE + "'>" +
           "<input type='hidden' id='MAPPING_PRODUCT" + i + "' value='" + e.MAPPING_PRODUCT + "'>" +
           "<input type='hidden' id='PACKAGE_CODE" + i + "' value='" + e.PACKAGE_CODE + "'>" +
           "<input type='hidden' id='PACKAGE_NAME" + i + "' value='" + e.PACKAGE_NAME + "'>" +
           "<input type='hidden' id='PACKAGE_GROUP" + i + "' value='" + e.PACKAGE_GROUP + "'>" +
           "<input type='hidden' id='RECURRING_CHARGE" + i + "' value='" + e.RECURRING_CHARGE + "'>" +
           "<input type='hidden' id='PRE_RECURRING_CHARGE" + i + "' value='" + e.PRE_RECURRING_CHARGE + "'>" +
           "<input type='hidden' id='SFF_PROMOTION_BILL_THA" + i + "' value='" + e.SFF_PROMOTION_BILL_THA + "'>" +
           "<input type='hidden' id='SFF_PROMOTION_BILL_ENG" + i + "' value='" + e.SFF_PROMOTION_BILL_ENG + "'>" +
           "<input type='hidden' id='TECHNOLOGY" + i + "' value='" + e.TECHNOLOGY + "'>" +
           "<input type='hidden' id='DOWNLOAD_SPEED" + i + "' value='" + e.DOWNLOAD_SPEED + "'>" +
           "<input type='hidden' id='UPLOAD_SPEED" + i + "' value='" + e.UPLOAD_SPEED + "'>" +
           "<input type='hidden' id='INITIATION_CHARGE" + i + "' value='" + e.INITIATION_CHARGE + "'>" +
           "<input type='hidden' id='PRE_INITIATION_CHARGE" + i + "' value='" + e.PRE_INITIATION_CHARGE + "'>" +
           "<input type='hidden' id='PACKAGE_TYPE" + i + "' value='" + e.PACKAGE_TYPE + "'>" +
           "<input type='hidden' id='PRODUCT_SUBTYPE" + i + "' value='" + e.PRODUCT_SUBTYPE + "'>" +
           "<input type='hidden' id='PRODUCT_SUBTYPE3" + i + "' value='" + e.PRODUCT_SUBTYPE3 + "'>" +
           "<input type='hidden' id='OWNER_PRODUCT" + i + "' value='" + e.OWNER_PRODUCT + "'>" +
           "<input type='hidden' id='ACCESS_MODE" + i + "' value='" + e.ACCESS_MODE + "'>" +
           "<input type='hidden' id='SERVICE_CODE" + i + "' value='" + e.SERVICE_CODE + "'>" +
           "<input type='hidden' id='DISCOUNT_TYPE" + i + "' value='" + e.DISCOUNT_TYPE + "'>" +
           "<input type='hidden' id='DISCOUNT_VALUE" + i + "' value='" + e.DISCOUNT_VALUE + "'>" +
           "<input type='hidden' id='DISCOUNT_DAY" + i + "' value='" + e.DISCOUNT_DAY + "'>" +
           "<input type='hidden' id='SFF_PROMOTION_CODE" + i + "' value='" + e.SFF_PROMOTION_CODE + "'>" +
           "<input type='hidden' id='AUTO_MAPPING" + i + "' value='" + e.AUTO_MAPPING + "'>" +
           "<input type='hidden' id='DISPLAY_FLAG" + i + "' value='" + e.DISPLAY_FLAG + "'>" +
           "</th>";

    if (isTriple) {
        var dlSp = "";
        var ulSp = "";
        var unitSp = "";

        if (e.DOWNLOAD_SPEED != "" && e.DOWNLOAD_SPEED != undefined) {
            if (e.DOWNLOAD_SPEED.split(" ").length > 1) {
                dlSp = e.DOWNLOAD_SPEED.split(" ")[0];
                unitSp = e.DOWNLOAD_SPEED.split(" ")[1];
            }
        }

        if (e.UPLOAD_SPEED != "" && e.UPLOAD_SPEED != undefined) {
            if (e.UPLOAD_SPEED.split(" ")[0].length > 1) {
                ulSp = e.UPLOAD_SPEED.split(" ")[0];
            }
        }


        var tpRecurring = "";
        var tpHooq = "";

        $.each(data, function (g, t) {
            if (e.MAPPING_CODE == t.MAPPING_CODE && t.PRODUCT_SUBTYPE == "VOIP" && t.PACKAGE_TYPE == "Main") {
                strResult += "<input type='hidden' id='TP_RECURRING_CHARGE" + i + "' value='" + t.RECURRING_CHARGE + "'>";
                tpRecurring = t.RECURRING_CHARGE;
            }
            else if (e.MAPPING_CODE == t.MAPPING_CODE && t.PRODUCT_SUBTYPE == "PBOX" && (t.PRODUCT_SUBTYPE3 == "HOOQ1" || t.PRODUCT_SUBTYPE3 == "HOOQ6")) {
                strResult += "<input type='hidden' id='TP_HOOQ" + i + "' value='" + t.PRE_RECURRING_CHARGE + "'>";
                tpHooq = t.PRE_RECURRING_CHARGE;
            }
            else if (e.MAPPING_CODE == t.MAPPING_CODE && t.PRODUCT_SUBTYPE == "PBOX" && t.PRODUCT_SUBTYPE3 == "PBOX") {
                strResult += "<input type='hidden' id='TP_PRE_INITIATION_PB" + i + "' value='" + t.PRE_INITIATION_CHARGE + "'>" +
                                "<input type='hidden' id='TP_INITIATION_PB" + i + "' value='" + t.INITIATION_CHARGE + "'>";
            }
            else if (e.MAPPING_CODE == t.MAPPING_CODE && t.PACKAGE_TYPE == "Ontop" && (t.PRODUCT_SUBTYPE == "WireBB" || t.PRODUCT_SUBTYPE == "FTTx")) {
                strResult += "<input type='hidden' id='TP_PRE_INITIATION_INSTALL" + i + "' value='" + t.PRE_INITIATION_CHARGE + "'>" +
                                "<input type='hidden' id='TP_INITIATION_INSTALL" + i + "' value='" + t.INITIATION_CHARGE + "'>";
            }
        });

        var flPack = $("#HdL_TRIPPLE_FIXEDLINE_PACKAGE").val();
        flPack = flPack.replace("{0}", tpRecurring);

        var pbPack = $("#HdL_TRIPLE_PLAYBOX_PACKAGE_1").val();

        if (parseInt(tpHooq, 10) > 1) {
            pbPack = $("#L_TRIPLE_PLAYBOX_PACKAGE_6").val();
        }

        pbPack = pbPack.replace("{0}", tpHooq);
        strResult += "<td class='text-left'>" + e.TECHNOLOGY + "</td>" +
                    "<td>" + dlSp + "/" + ulSp + " " + unitSp + "</td>" +
                    "<td><i class='fa fa-plus fa-2x'></i></td>" +
                    "<td>" + flPack + "</td>" +
                    "<td><i class='fa fa-plus fa-2x'></i></td>" +
                    "<td>" + pbPack + "</td>";
        //console.log("if");
    } else {
        //console.log("else");
        var proName = e.TECHNOLOGY;

        var resultsAutoMapping = data[0].PACKAGE_AUTO;
        if (resultsAutoMapping != undefined) {
            resultsAutoMapping = resultsAutoMapping.filter(function (elem) {
                return elem.MAPPING_CODE.indexOf(e.MAPPING_CODE) !== -1 && elem.AUTO_MAPPING.indexOf('A') !== -1 && elem.DISPLAY_FLAG.indexOf('Y') !== -1;
            });
            resultsAutoMapping = sortResults(resultsAutoMapping, "DISPLAY_SEQ", true);
            //console.log(resultsAutoMapping);
            $.each(resultsAutoMapping, function (g, t) {
                //console.log(e.TECHNOLOGY + " != " + t.TECHNOLOGY);
                if (e.TECHNOLOGY != t.TECHNOLOGY) {
                    proName = proName + "<br>" + t.TECHNOLOGY
                }
            });
        }
        strResult += "<td class='text-left col-xs-6'>" + proName + "</td>" +
                        "<td>" + e.DOWNLOAD_SPEED + "</td>" +
                        "<td>" + e.UPLOAD_SPEED + "</td>" +
                        "<td>" + toNumber(e.RECURRING_CHARGE) + "</td>";

    }
    return strResult + "</tr>";
}

function sortResults(data, prop, asc) {
    return data.sort(function (a, b) {
        if (asc) {
            return (a[prop] > b[prop]) ? 1 : ((a[prop] < b[prop]) ? -1 : 0);
        } else {
            return (b[prop] > a[prop]) ? 1 : ((b[prop] < a[prop]) ? -1 : 0);
        }
    });
}

function appendingChild(i, e) {

    if (e.OWNER_PRODUCT == "SWiFi") {
        var mc = e.MAPPING_CODE;
        var yn = "N";

        if ($("#VAS_CODE_" + e.PACKAGE_CODE).length > 0) yn = "Y"; //check ราคา Ontop ใน lov

        var key = mc + yn;
    }
    else {
        var mc = e.MAPPING_CODE;

        var key = mc + i;
    }
    return "<tr>" +
           "<td>" +
           "<input type='text' name='SelectOntop" + mc + e.OWNER_PRODUCT + "' value='" + i + "'>" +
           "<input type='text' id='MAPPING_CODE" + key + "' value='" + e.MAPPING_CODE + "'>" +
           "<input type='text' id='MAPPING_PRODUCT" + key + "' value='" + e.MAPPING_PRODUCT + "'>" +
           "<input type='text' id='PACKAGE_CODE" + key + "' value='" + e.PACKAGE_CODE + "'>" +
           "<input type='text' id='PACKAGE_NAME" + key + "' value='" + e.PACKAGE_NAME + "'>" +
           "<input type='text' id='PACKAGE_GROUP" + key + "' value='" + e.PACKAGE_GROUP + "'>" +
           "<input type='text' id='RECURRING_CHARGE" + key + "' value='" + e.RECURRING_CHARGE + "'>" +
           "<input type='text' id='PRE_RECURRING_CHARGE" + key + "' value='" + e.PRE_RECURRING_CHARGE + "'>" +
           "<input type='text' id='SFF_PROMOTION_BILL_THA" + key + "' value='" + e.SFF_PROMOTION_BILL_THA + "'>" +
           "<input type='text' id='SFF_PROMOTION_BILL_ENG" + key + "' value='" + e.SFF_PROMOTION_BILL_ENG + "'>" +
           "<input type='text' id='TECHNOLOGY" + key + "' value='" + e.TECHNOLOGY + "'>" +
           "<input type='text' id='DOWNLOAD_SPEED" + key + "' value='" + e.DOWNLOAD_SPEED + "'>" +
           "<input type='text' id='UPLOAD_SPEED" + key + "' value='" + e.UPLOAD_SPEED + "'>" +
           "<input type='text' id='INITIATION_CHARGE" + key + "' value='" + e.INITIATION_CHARGE + "'>" +
           "<input type='text' id='PRE_INITIATION_CHARGE" + key + "' value='" + e.PRE_INITIATION_CHARGE + "'>" +
           "<input type='text' id='PACKAGE_TYPE" + key + "' value='" + e.PACKAGE_TYPE + "'>" +
           "<input type='text' id='PRODUCT_SUBTYPE" + key + "' value='" + e.PRODUCT_SUBTYPE + "'>" +
           "<input type='text' id='PRODUCT_SUBTYPE3" + key + "' value='" + e.PRODUCT_SUBTYPE3 + "'>" +
           "<input type='text' id='OWNER_PRODUCT" + key + "' value='" + e.OWNER_PRODUCT + "'>" +
           "<input type='text' id='ACCESS_MODE" + key + "' value='" + e.ACCESS_MODE + "'>" +
           "<input type='text' id='SERVICE_CODE" + key + "' value='" + e.SERVICE_CODE + "'>" +
           "<input type='text' id='DISCOUNT_TYPE" + key + "' value='" + e.DISCOUNT_TYPE + "'>" +
           "<input type='text' id='DISCOUNT_VALUE" + key + "' value='" + e.DISCOUNT_VALUE + "'>" +
           "<input type='text' id='DISCOUNT_DAY" + key + "' value='" + e.DISCOUNT_DAY + "'>" +
           "<input type='hidden' id='SFF_PROMOTION_CODE" + key + "' value='" + e.SFF_PROMOTION_CODE + "'>" +
           //"<input type='hidden' id='DISCOUNT_INITIATION_CHARGE" + key + "' value='" + e.DISCOUNT_INITIATION_CHARGE + "'>" +
           "</td>" +
           "</tr>";
}

function appendingChildSP(i, e, sl) {
    //console.log(e);
    if (sl == undefined) sl = "";
    var mc = e.MAPPING_CODE;

    var key = mc + i + "SP";


    return "<tr>" +
           "<td>" +
           "<input type='hidden' name='SelectOntopSP" + mc + e.OWNER_PRODUCT + "' value='" + i + "'>" +
           "<input type='hidden' id='MAPPING_CODE" + key + "' value='" + e.MAPPING_CODE + "'>" +
           "<input type='hidden' id='MAPPING_PRODUCT" + key + "' value='" + e.MAPPING_PRODUCT + "'>" +
           "<input type='hidden' id='PACKAGE_CODE" + key + "' value='" + e.PACKAGE_CODE + "'>" +
           "<input type='hidden' id='PACKAGE_NAME" + key + "' value='" + e.PACKAGE_NAME + "'>" +
           "<input type='hidden' id='PACKAGE_GROUP" + key + "' value='" + e.PACKAGE_GROUP + "'>" +
           "<input type='hidden' id='RECURRING_CHARGE" + key + "' value='" + e.RECURRING_CHARGE + "'>" +
           "<input type='hidden' id='PRE_RECURRING_CHARGE" + key + "' value='" + e.PRE_RECURRING_CHARGE + "'>" +
           "<input type='hidden' id='SFF_PROMOTION_BILL_THA" + key + "' value='" + e.SFF_PROMOTION_BILL_THA + "'>" +
           "<input type='hidden' id='SFF_PROMOTION_BILL_ENG" + key + "' value='" + e.SFF_PROMOTION_BILL_ENG + "'>" +
           "<input type='hidden' id='TECHNOLOGY" + key + "' value='" + e.TECHNOLOGY + "'>" +
           "<input type='hidden' id='DOWNLOAD_SPEED" + key + "' value='" + e.DOWNLOAD_SPEED + "'>" +
           "<input type='hidden' id='UPLOAD_SPEED" + key + "' value='" + e.UPLOAD_SPEED + "'>" +
           "<input type='hidden' id='INITIATION_CHARGE" + key + "' value='" + e.INITIATION_CHARGE + "'>" +
           "<input type='hidden' id='PRE_INITIATION_CHARGE" + key + "' value='" + e.PRE_INITIATION_CHARGE + "'>" +
           "<input type='hidden' id='PACKAGE_TYPE" + key + "' value='" + e.PACKAGE_TYPE + "'>" +
           "<input type='hidden' id='PRODUCT_SUBTYPE" + key + "' value='" + e.PRODUCT_SUBTYPE + "'>" +
           "<input type='hidden' id='PRODUCT_SUBTYPE3" + key + "' value='" + e.PRODUCT_SUBTYPE3 + "'>" +
           "<input type='hidden' id='OWNER_PRODUCT" + key + "' value='" + e.OWNER_PRODUCT + "'>" +
           "<input type='hidden' id='ACCESS_MODE" + key + "' value='" + e.ACCESS_MODE + "'>" +
           "<input type='hidden' id='SERVICE_CODE" + key + "' value='" + e.SERVICE_CODE + "'>" +
           "<input type='hidden' id='DISCOUNT_TYPE" + key + "' value='" + e.DISCOUNT_TYPE + "'>" +
           "<input type='hidden' id='DISCOUNT_VALUE" + key + "' value='" + e.DISCOUNT_VALUE + "'>" +
           "<input type='hidden' id='DISCOUNT_DAY" + key + "' value='" + e.DISCOUNT_DAY + "'>" +
           "<input type='hidden' id='SFF_PROMOTION_CODE" + key + "' value='" + e.SFF_PROMOTION_CODE + "'>" +
           //"<input type='hidden' id='DISCOUNT_INITIATION_CHARGE" + key + "' value='" + e.DISCOUNT_INITIATION_CHARGE + "'>" +
           "</td>" +
           "</tr>";


}

function appendingV(i, e) {
    var mc = e.MAPPING_CODE;
    var mp = e.MAPPING_PRODUCT;
    var key = mc + i;

    var getName = "SelectV" + mc + e.OWNER_PRODUCT;

    if (e.PRODUCT_SUBTYPE == "VOIP" && e.PACKAGE_TYPE == "Ontop") {
        getName = "SelectOntopV" + mp + e.OWNER_PRODUCT;
    }

    return "<tr>" +
           "<td>" +
           "<input type='text' name='" + getName + "' value='" + i + "'>" +
           "<input type='text' id='MAPPING_CODE" + key + "' value='" + e.MAPPING_CODE + "'>" +
           "<input type='text' id='MAPPING_PRODUCT" + key + "' value='" + e.MAPPING_PRODUCT + "'>" +
           "<input type='text' id='PACKAGE_CODE" + key + "' value='" + e.PACKAGE_CODE + "'>" +
           "<input type='text' id='PACKAGE_NAME" + key + "' value='" + e.PACKAGE_NAME + "'>" +
           "<input type='text' id='PACKAGE_GROUP" + key + "' value='" + e.PACKAGE_GROUP + "'>" +
           "<input type='text' id='RECURRING_CHARGE" + key + "' value='" + e.RECURRING_CHARGE + "'>" +
           "<input type='text' id='PRE_RECURRING_CHARGE" + key + "' value='" + e.PRE_RECURRING_CHARGE + "'>" +
           "<input type='text' id='SFF_PROMOTION_BILL_THA" + key + "' value='" + e.SFF_PROMOTION_BILL_THA + "'>" +
           "<input type='text' id='SFF_PROMOTION_BILL_ENG" + key + "' value='" + e.SFF_PROMOTION_BILL_ENG + "'>" +
           "<input type='text' id='TECHNOLOGY" + key + "' value='" + e.TECHNOLOGY + "'>" +
           "<input type='text' id='DOWNLOAD_SPEED" + key + "' value='" + e.DOWNLOAD_SPEED + "'>" +
           "<input type='text' id='UPLOAD_SPEED" + key + "' value='" + e.UPLOAD_SPEED + "'>" +
           "<input type='text' id='INITIATION_CHARGE" + key + "' value='" + e.INITIATION_CHARGE + "'>" +
           "<input type='text' id='PRE_INITIATION_CHARGE" + key + "' value='" + e.PRE_INITIATION_CHARGE + "'>" +
           "<input type='text' id='PACKAGE_TYPE" + key + "' value='" + e.PACKAGE_TYPE + "'>" +
           "<input type='text' id='PRODUCT_SUBTYPE" + key + "' value='" + e.PRODUCT_SUBTYPE + "'>" +
           "<input type='text' id='PRODUCT_SUBTYPE3" + key + "' value='" + e.PRODUCT_SUBTYPE3 + "'>" +
           "<input type='text' id='OWNER_PRODUCT" + key + "' value='" + e.OWNER_PRODUCT + "'>" +
           "<input type='text' id='ACCESS_MODE" + key + "' value='" + e.ACCESS_MODE + "'>" +
           "<input type='text' id='SERVICE_CODE" + key + "' value='" + e.SERVICE_CODE + "'>" +
           "<input type='text' id='DISCOUNT_TYPE" + key + "' value='" + e.DISCOUNT_TYPE + "'>" +
           "<input type='text' id='DISCOUNT_VALUE" + key + "' value='" + e.DISCOUNT_VALUE + "'>" +
           "<input type='text' id='DISCOUNT_DAY" + key + "' value='" + e.DISCOUNT_DAY + "'>" +
           "<input type='hidden' id='SFF_PROMOTION_CODE" + key + "' value='" + e.SFF_PROMOTION_CODE + "'>" +
           //"<input type='hidden' id='DISCOUNT_INITIATION_CHARGE" + key + "' value='" + e.DISCOUNT_INITIATION_CHARGE + "'>" +
           "</td>" +
           "</tr>";
}

function onCondition() {

    if ($("input[name=WiFiCondition]:checked").val() == "Y") {
        $("#disCondition21").html("<br>" + $('#HDL_WIFI_ROUTER').val() + "");
        $("#disCondition22").html($('#L_WIFI_DETAIL2').val() + "<br><br>");
        $("#summLb1Router").html($('#HDL_ROUTER').val());
    }
    else {
        $("#disCondition21").html("");
        $("#disCondition22").html("");
        $("#summLb1Router").html("");
    }
    onBinding();
}

var FlagOntopSP = false;
function getPackage(installation, result) {
    Check_Session();
    try {
        GetCategory(result);

        var packgagecode = '';
        var rownum = 0;

        var p_region = $("#P_Region").val();
        var p_province = "";
        if ($("#ProvinceSetup").val() != "") {
            p_province = $("#ProvinceSetup").val();
        } else {
            p_province = result.CustomerRegisterPanelModel.AddressPanelModelSetup.L_PROVINCE;
        }

        var p_district = "";
        if ($("#AmphurSetup").val() != "") {
            p_district = $("#AmphurSetup").val();
        } else {
            p_district = result.CustomerRegisterPanelModel.AddressPanelModelSetup.L_AMPHUR;
        }

        var p_sub_district = "";
        if ($("#TumbonSetup").val() != "") {
            p_sub_district = $("#TumbonSetup").val();
        } else {
            p_sub_district = result.CustomerRegisterPanelModel.AddressPanelModelSetup.L_TUMBOL;
        }

        //var p_district = result.CustomerRegisterPanelModel.AddressPanelModelSetup.L_AMPHUR//$("#AmphurSetup").val();
        //var p_sub_district = result.CustomerRegisterPanelModel.AddressPanelModelSetup.L_TUMBOL//$("#TumbonSetup").val();
        var p_address_type = result.CoverageAreaResultModel.ADDRRESS_TYPE;
        var p_building_name = $("#AddressPanelModelSetup_L_BUILD_NAME").val();
        var p_building_no = result.CoverageAreaResultModel.BUILDING_NO;

        var p_location_code = result.CustomerRegisterPanelModel.L_LOC_CODE;
        var p_asc_code = result.CustomerRegisterPanelModel.L_ASC_CODE;
        var p_partner_type = result.CustomerRegisterPanelModel.outType;
        var p_partner_subtype = result.CustomerRegisterPanelModel.outSubType;
        var p_vas_flag = $("#SummaryPanelModel_VAS_FLAG").val();
        // var onCus_type = sessionStorage.getItem("type");

        var OWNER_PRODUCT = [];
        var own_prod = "";
        var vMainPackagecode = "";
        for (i = 0; i <= result.ObjOwnerPackage.length - 1; i++) {
            //if (result.ObjOwnerPackage[i].OWNER_PRODUCT != "") {
            //    own_prod = result.ObjOwnerPackage[i].OWNER_PRODUCT;
            //}

            if (result.ObjOwnerPackage[i].PACKAGE_CLASS == 'Main' && result.ObjOwnerPackage[i].PRODUCT_SUBTYPE == 'WireBB') {
                if (result.ObjOwnerPackage[i].PACKAGE_CODE != "") {
                    vMainPackagecode = result.ObjOwnerPackage[i].PACKAGE_CODE;
                    own_prod = result.ObjOwnerPackage[i].OWNER_PRODUCT;
                }
            }

        }

        var p_own_product = own_prod;// 'WireBB';
        var p_product_subtype = result.CoveragePanelModel.PRODUCT_SUBTYPE;
        var p_Serenade_Flag = result.CoveragePanelModel.Serenade_Flag; //เป็นserenade
        //if (p_Serenade_Flag == null) p_Serenade_Flag = "";
        var p_isPartner = result.CoverageAreaResultModel.IS_PARTNER;
        var p_partnerName = result.CoverageAreaResultModel.PARTNER_NAME;
        //  var p_AccessMode = result.CoverageAreaResultModel.ACCESS_MODE_LIST;
        var p_transactionId = '';// 1705864 result.CoverageAreaResultModel.TRANSACTION_ID;//1662108';
        var p_customer_Type = $('#HdchkAC_Category').val();
        var p_address_Id = result.CoveragePanelModel.Address.AddressId;

        $("#PlugAndPlayFlow").val(result.PlugAndPlayFlow);
        var p_plugAndPlayFlow = result.PlugAndPlayFlow;

        var modelAcessESRI = [];
        var accessModeModel = new FBSSAccessModeInfo();
        accessModeModel.AccessMode = result.CoveragePanelModel.AccessMode; //result.CoverageAreaResultModel.ACCESS_MODE_LIST
        accessModeModel.InserviceDate = '';
        modelAcessESRI.push(accessModeModel);
        var p_AccessMode = JSON.stringify(modelAcessESRI);
        //console.log(p_Serenade_Flag);
        $("#ZTEAccessModeSerializer").val(JSON.stringify(modelAcessESRI));


        var _date_package = {
            "P_OWNER_PRODUCT": p_own_product,
            "P_PRODUCT_SUBTYPE": p_product_subtype,
            "P_NETWORK_TYPE": "",
            "P_SERVICE_DAY": "",
            "line": p_vas_flag,
            "P_PACKAGE_FOR": "PUBLIC",
            "isPartner": p_isPartner,
            "partnerName": p_partnerName,
            "accessMode": p_AccessMode,
            "interfaceId": p_transactionId,
            "p_region": p_region,
            "p_province": p_province,
            "p_district": p_district,
            "p_sub_district": p_sub_district,
            "p_address_type": p_address_type,
            "p_building_name": p_building_name,
            "p_building_no": p_building_no,
            "p_asc_code": p_asc_code,
            "p_location_code": p_location_code,
            "p_partner_type": p_partner_type,
            "p_partner_subtype": p_partner_subtype,
            "p_Serenade_Flag": "", // for data same data registerpage(WBBWEB)
            "p_Customer_Type": p_customer_Type,
            "p_Address_Id": p_address_Id,
            "p_InstallationType": installation,
            "p_Plug_And_Play_Flag": p_plugAndPlayFlow,
            "p_mobile": result.CoveragePanelModel.P_MOBILE
        };

        console.log(_date_package);
        $.ajax({
            type: "GET",
            url: "/SelectPackage/GetListPackageService", //R18.10 Update Service listPackageBySFFPromo เส้นนี้ไม่ใช้แล้ว
            data: _date_package,
            dataType: "json",
            async: false,
            success: function (data) {
                //for (var i = 0; i < data.length; i++)
                //{
                //    console.log(data[i]);
                //}
                //console.log(data);

                var temp = "";
                var group = "";
                var sl = "";
                var sl2 = "";
                var installation1 = "";
                var installation2 = "";
                if (installation == "0") {
                    installation1 = "checked=''";
                }
                else {
                    installation2 = "checked=''";
                }

                if (data.length == 0) {
                    toastrErrorMessage("Call IT : GetListPackageService null");
                    $("#optionInstallationBody").empty();
                    $("#dynamicBody002").empty();
                }
                else {
                    $("#HdFunctionSubProduct").val(data[0].PRODUCT_SUBTYPE);

                    if ("@ViewBag.Vas" == "3")
                        $("#HdAddTriple").val("Y");

                    var HtmlInatall = "";
                    var ShowInstall = data[0].TEMP_IA;
                    if (ShowInstall == "True") {
                        HtmlInatall += "<strong>" + $("#HdSELECT_BY_PAY_INSTALLATION").val() + "</strong><p class='clearfix'></p>";
                        HtmlInatall += "<div class='panel panel-info'><div class='panel-heading' style='border-bottom: none; !important;'></div>";
                        HtmlInatall += "<div class='table-responsive'><table class='table table-hover'>";
                        HtmlInatall += "<tbody class='promotionDetail2'>";
                        HtmlInatall += "<tr class='promotionDetail-table' style='cursor: pointer;'>";
                        HtmlInatall += "<th>";
                        HtmlInatall += "<input id='SelectOption0' type='radio' value='0' onclick='' " + installation1 + " name='SelectOptionInstallation'>";
                        HtmlInatall += "</th>";
                        HtmlInatall += "<td>" + $("#HdSELECT_FREE_INSTALL_VALUE").val() + "</td>";
                        HtmlInatall += "</tr>";
                        HtmlInatall += "<tr class='promotionDetail-table' style='cursor: pointer;'>";
                        HtmlInatall += "<th>";
                        HtmlInatall += "<input id='SelectOption1' type='radio' value='1' onclick='' " + installation2 + " name='SelectOptionInstallation'>";
                        HtmlInatall += "</th>";
                        HtmlInatall += "<td>" + $("#HdSELECT_PAY_INSTALL_VALUE").val() + "<div id='InstallationDetail' style='color:red; display: none;'>* " + $("#HdDESCRIPTION_PAY_INSTALL").val() + "</div></td>";
                        HtmlInatall += "</tr>";
                        HtmlInatall += "</tbody>";
                        HtmlInatall += "</table>";
                        HtmlInatall += "</div></div>";
                    }
                    $("#optionInstallationBody").html(HtmlInatall);

                    $("#HdAddTriple").val('Y');

                    var g = data[0].S_GROUP;
                    if (g != undefined) {
                        var css = "";
                        var arr = new Array();
                        $.each(g, function (i, e) {

                            arr.push({ index: i, group: e.PACKAGE_GROUP, type: e.PACKAGE_TYPE });

                            if (e.PACKAGE_TYPE == "TRIPLE" && $("#HdAddTriple").val() != "Y") {

                            }
                            else {

                                var chkGroupWord = e.PACKAGE_GROUP + "|" + e.PRODUCT_SUBTYPE;
                                css = "line-height:12px;";

                                var packageName = e.PACKAGE_GROUP.replace("-", " ");

                                group += "<strong>" + packageName + "</strong><br>" +
                                         groupWording(chkGroupWord) +
                                         "<div class='panel panel-info'>";


                                if (e.PACKAGE_TYPE == "TRIPLE") {
                                    if ($("#HdAddTriple").val() == "Y") {
                                        group += "<div class='panel-heading' style='border-bottom: none;!important;'></div>" +
                                                "<div class='table-responsive'>" +
                                                "<table class='table table-hover'><thead class='text-center promotionTitle' style='background: #e9ecf0;' ><tr>" +
                                                    "<th class='text-center'> &nbsp;</th>" +
                                                    "<th class='text-center'>" + $("#HdL_TECHNOLOGY").val() + "</th>" +
                                                    "<th class='text-center'>" + $("#HdL_COL_AIS_FIBRE").val() + "</th>" +
                                                    "<th class='text-center'> &nbsp;</th>" +
                                                    "<th class='text-center'>" + $("#HdL_COL_AIS_FIXEDLINE").val() + "</th>" +
                                                    "<th class='text-center'> &nbsp;</th>" +
                                                    "<th class='text-center'>" + $("#HdL_COL_AIS_PLAYBOX").val() + "</th>" +
                                                "</tr></thead>";
                                    }

                                }
                                else {
                                    group += "<div class='panel-heading' style='border-bottom: none;!important;'></div>" +
                                                "<div class='table-responsive'>" +
                                                "<table class='table table-hover'><thead class='text-center promotionTitle' style='background: #e9ecf0;' ><tr>" +
                                                    "<th class='text-center'> &nbsp;</th>" +
                                                    "<th class='text-center'>" + $("#HdL_TECHNOLOGY").val() + "</th>" +
                                                    "<th class='text-center'>" + $("#HdL_DOWNLOAD").val() + "</th>" +
                                                    "<th class='text-center'>" + $("#HdL_UPLOAD").val() + "</th>" +
                                                    "<th class='text-center'>" + $("#HdL_MONTHLY_FEE").val() + "</th>" +
                                            "</tr></thead>";
                                }

                                group += "<tbody class='text-center promotionDetail2'  id='dynamicRow" + i + "'></tbody></table>" +
                                        "</div></div>" + remarkGroupWording(chkGroupWord, $("#P_build_name").val()) + "<p class='clearfix'></p>";


                            }
                        });

                        if ($("#HdFunctionSubProduct").val() == "WireBB" || $("#HdFunctionSubProduct").val() == "FTTx")
                            $("#lb002-1").text($('#HdL_INTERNET_WIRE').val());
                        else
                            $("#lb002-1").text($('#HdL_INTERNET_WIRELESS').val());

                        if ($("#HdFunctionSubProduct").val() != "WireBB") {


                            $("#dynamicBody002").empty();
                            $("#dynamicBody002").append(group +
                                "<div class='conditionCheck' id='conditionCheck'>" +
                                "<label id='pri1'></label>" +
                                "<p id='pRequest'>" + $("#HdL_REQUEST").val() + "</p>" + "" +
                                    "<br><input type='radio' name='WiFiCondition' value='Y' style='margin-left:20px;' onclick='onCondition()' checked> <label id='pri2'></label>" +
                                    "<br><input type='radio' name='WiFiCondition' value='N' style='margin-left:20px;' onclick='onCondition()'> " + $("#HdL_NOT_REQUIRE").val() + "" +
                                    "</div>" +
                                    "<div class='discountDetail'>" + getDisDetail() + "</div>" +
                                    "");
                        }
                        else {
                            $("#dynamicBody002").empty();
                            $("#dynamicBody002")
                                .append(group + "<div class='discountDetail'>" + getDisDetail() + "</div>" + "");
                        }

                        var ff1 = true;

                        $.each(arr, function (j, k) {
                            temp = "";

                            if (k.type == "TRIPLE" && $("#HdAddTriple").val() != "Y") {

                            }
                            else {
                                $.each(data, function (i, e) {
                                    if (e.PACKAGE_GROUP == k.group && ((e.PACKAGE_TYPE == "Main" || e.PACKAGE_TYPE == "Bundle" || e.PACKAGE_TYPE == "TRIPLE")
                                        && e.PRODUCT_SUBTYPE != "VOIP" && e.PRODUCT_SUBTYPE != "VAS" && e.PRODUCT_SUBTYPE != "PBOX"
                                        && e.PRODUCT_SUBTYPE != "Ontop Special")) {
                                        if (ff1) {
                                            sl = "checked";
                                            ff1 = false;

                                        }

                                        packgagecode = e.PACKAGE_CODE;
                                        if (packgagecode == vMainPackagecode) {
                                            rownum = i;
                                        }

                                        temp += appendingMain(i, e, sl, data, vMainPackagecode);
                                        sl = "";

                                    }
                                });

                                $("#dynamicRow" + j).append(temp);
                                //console.log(temp);


                            }

                        });

                        FlagOntopSP = false;
                        var tempChild = "";
                        $("#tempOntop").empty();
                        $.each(data, function (i, e) {
                            if (e.PACKAGE_TYPE == "Ontop" && e.PACKAGE_TYPE != "Ontop Special" && e.PRODUCT_SUBTYPE != "VOIP" && e.PRODUCT_SUBTYPE != "VAS")
                                tempChild += appendingChild(i, e);
                        });
                        $("#tempOntop").append(tempChild);

                        var ff2 = true;
                        var tempChildSP = "";
                        $("#tempOntopSEP").empty();
                        $.each(data, function (i, e) {
                            if (e.PACKAGE_TYPE == "Ontop Special" && e.PACKAGE_TYPE != "Ontop" && e.PRODUCT_SUBTYPE != "VOIP" && e.PRODUCT_SUBTYPE != "VAS") {
                                if (ff2) { sl2 = "checked"; ff2 = false; }
                                tempChildSP += appendingChildSP(i, e, sl2);
                                sl2 = ""
                                FlagOntopSP = true;
                            }
                        });

                        $("#tempOntopSEP").append(tempChildSP);

                        var tempV = "";
                        $("#tempV").empty();

                        $.each(data, function (i, e) {
                            if (e.PRODUCT_SUBTYPE == "VOIP" || e.PRODUCT_SUBTYPE == "VAS")
                                tempV += appendingV(i, e);
                        });
                        $("#tempV").append(tempV);

                        var tempAutoMap = "";
                        $("#tempAutoMap").empty();
                        var PACKAGE_AUTO = data[0].PACKAGE_AUTO;
                        //alert(PACKAGE_AUTO);
                        if (PACKAGE_AUTO != undefined) {
                            $.each(PACKAGE_AUTO, function (i, e) {
                                if (e.PACKAGE_TYPE == "Ontop" || e.PACKAGE_TYPE == "Ontop Special" || e.PRODUCT_SUBTYPE == "VOIP" || e.PRODUCT_SUBTYPE == "VAS")
                                    tempAutoMap += appendingAutoMap(i, e);
                            });
                            $("#tempAutoMap").append(tempAutoMap);
                        }
                        var tempOrderFee = "";
                        $("#tempOrderFee").empty();
                        $.each(data, function (i, e) {
                            if (e.PACKAGE_TYPE == "Order Fee")
                                tempOrderFee += appendingChild(i, e);
                        });
                        $("#tempOrderFee").append(tempOrderFee);
                        //$("#SelectPackage0").click();
                    }
                    // end of create package table

                    // end of create package table

                    if ($("#PlugAndPlayFlow").val() == "Y") {
                        $("#SelectOption1").attr("disabled", "");
                    }

                    $('#dynamicBody002').find('table.table-hover').find('tbody').find('tr').attr("style", "cursor: pointer;");
                    $('#dynamicBody002').find('table.table-hover').find('tbody').find('tr').click(function () {
                        $(this).find('th').find('input[type=radio]').prop('checked', true);
                        onBinding();
                    });
                }

                if (HtmlInatall != "" && $("#PlugAndPlayFlow").val() != "Y") {
                    $('#optionInstallationBody').find('table.table-hover').find('tbody').find('tr').attr("style", "cursor: pointer;");
                    $('#optionInstallationBody').find('table.table-hover').find('tbody').find('tr').click(function () {
                        $(this).find('th').find('input[type=radio]').prop('checked', true);
                        onBindingSelectOptionInstallation(result);
                    });
                }
                onBinding();
            }
        });

        //alert("packgagecode : " + packgagecode + " vMainPackagecode : " + vMainPackagecode);
        if (packgagecode == vMainPackagecode) {
            $('#SelectPackage' + rownum).prop('checked', 'checked');
            $('#SelectPackage' + rownum).click();

            $('#divAddressVat').hide();
            $("#divSameAsAddrOnSendDoc").hide();

            //alert(result.CustomerRegisterPanelModel.CateType);
            if (result.CustomerRegisterPanelModel.CateType == "R") {
                $('#CustomerRegisterPanelModel_L_RESIDENTIAL').prop('checked', 'checked');
                $('#CustomerRegisterPanelModel_L_RESIDENTIAL').click();
            } else if (result.CustomerRegisterPanelModel.CateType == "G") {
                $('#CustomerRegisterPanelModel_L_GOVERNMENT').prop('checked', 'checked');
                $('#CustomerRegisterPanelModel_L_GOVERNMENT').click();
                $('#divAddressVat').show();
                $("#divSameAsAddrOnSendDoc").show();
            } else if (result.CustomerRegisterPanelModel.CateType == "B") {
                $('#CustomerRegisterPanelModel_L_BUSINESS').prop('checked', 'checked');
                $('#CustomerRegisterPanelModel_L_BUSINESS').click();
                $('#divAddressVat').show();
                $("#divSameAsAddrOnSendDoc").show();
            }
        }
        else {
            // else no match case in package
            if (result.CustomerRegisterPanelModel.CateType == "R")
                $('#CustomerRegisterPanelModel_L_RESIDENTIAL').prop('checked', 'checked');
            else if (result.CustomerRegisterPanelModel.CateType == "G")
                $('#CustomerRegisterPanelModel_L_GOVERNMENT').prop('checked', 'checked');
            else if (result.CustomerRegisterPanelModel.CateType == "B")
                $('#CustomerRegisterPanelModel_L_BUSINESS').prop('checked', 'checked');
        }

        //onBinding();
    } catch (e) {
        //LockScreen(false, "");
        console.log(e);
    }

    New_SetDefualt_MainPackage(result);
    Generate_package_option(result)

}

function New_SetDefualt_MainPackage_TypeInstall(result) {
    var _INITIATION_CHARGE = 0;
    //console.log(result);
    for (var i = 0 ; i < result.ObjOwnerPackage.length; i++) {
        if (result.ObjOwnerPackage[i].PACKAGE_CLASS != "Order Fee") {
            _INITIATION_CHARGE += result.ObjOwnerPackage[i].INITIATION_CHARGE;
            //console.log(_INITIATION_CHARGE);
        }
    }
    if (_INITIATION_CHARGE > 0) {
        $("#dynamicBody002").empty();
        getPackage(1, result);
        $("#InstallationDetail").show();
    }
}

function New_SetDefualt_MainPackage(result) {
    //console.log(result);
    var radios = document.getElementsByName("SelectPackage");
    for (i = 0; i < radios.length; i++) {
        //console.log(radios[i].parentNode.childNodes[3].value + " == " + result.ObjOwnerPackage[i].PACKAGE_CODE);
        for (var result_i = 0 ; result_i < result.ObjOwnerPackage.length; result_i++) {
            if (result.ObjOwnerPackage[result_i].PACKAGE_CODE == radios[i].parentNode.childNodes[3].value) {
                //console.log(radios[i].parentNode.childNodes[3].value);
                //console.log(radios[i].parentNode.childNodes[3].value + " == " + result.ObjOwnerPackage[i].PACKAGE_CODE);
                radios[i].checked = true;
                onBinding(radios[i]);
            }
        }
    }
}
var _GetAllowPopup = "";
function Generate_package_option(result) {
    //console.log(result);
    //console.log(result.ObjOwnerPackage.length);

    // clear option
    if (document.getElementById("div_package_option")) $("#div_package_option").empty();
    //------------------------------------------- for is show Fixline
    var _VAS_FLAG = 0;
    if (result != null) {
        _VAS_FLAG = result.SummaryPanelModel.VAS_FLAG;
    }
    var radio_SelectPackage = $('input[name=SelectPackage]:checked');
    var _PACKAGE_GROUP = radio_SelectPackage.parent().children(2).get(5).value.trim();
    if (_VAS_FLAG == "" || _VAS_FLAG == "0" || _VAS_FLAG == "3")
        _GetAllowPopup = GetAllowPopup(_PACKAGE_GROUP, "CUST");
    else if (_VAS_FLAG == "1")
        _GetAllowPopup = GetAllowPopup(_PACKAGE_GROUP, "SSO");
    else if (_VAS_FLAG == "5")
        _GetAllowPopup = GetAllowPopup(_PACKAGE_GROUP, "SALE");
    else if (_VAS_FLAG == "6")
        _GetAllowPopup = GetAllowPopup(_PACKAGE_GROUP, "STAFF");
    //console.log(_GetAllowPopup);
    //-------------------------------------------

    var table_data_name = [
        { "table_name": "tempOntopSEP" }
        , { "table_name": "tempOntop" }
        , { "table_name": "tempV" }
        , { "table_name": "tempPlayBox" }
    ];

    try {
        for (var i_table = 0; i_table < table_data_name.length; i_table++) {
            //console.log("table : ------ " + table_data_name[i_table].table_name);
            var table_data = null;
            if (document.getElementById(table_data_name[i_table].table_name).tBodies[0]) {
                table_data = document.getElementById(table_data_name[i_table].table_name).tBodies[0];
            }
            if (table_data != null) {
                for (var i = 0; i < table_data.rows.length; i++) {
                    //// for PBOXT

                    if (radio_SelectPackage.parent().children(2).get(2).value == table_data.rows[i].cells[0].childNodes[2].value // MAPPING_PRODUCT
                            && radio_SelectPackage.parent().children(2).get(1).value == table_data.rows[i].cells[0].childNodes[1].value // MAPPING_CODE
                        && radio_SelectPackage.parent().children(2).get(16).value != table_data.rows[i].cells[0].childNodes[16].value // PRODUCT_SUBTYPE
                        ) {
                        //console.log(table_data.rows[i].cells[0].childNodes[16].value);
                        if (table_data.rows[i].cells[0].childNodes[16].value == "PBOXT"
                            && table_data.rows[i].cells[0].childNodes[15].value == "Ontop"
                            && (table_data.rows[i].cells[0].childNodes[17].value == "TOPUPGOLD"
                                || table_data.rows[i].cells[0].childNodes[17].value == "TOPUPPLATINUM"
                                || table_data.rows[i].cells[0].childNodes[17].value == "TOPUPPLATINUMSTAFF"
                                || table_data.rows[i].cells[0].childNodes[17].value == "TOPUPGOLDTRIAL" // new trial
                                || table_data.rows[i].cells[0].childNodes[17].value == "TOPUPPLATINUMTRIAL" // new trial
                            )
                            ) {
                            //if (PACKAGE_TYPE == "Ontop" && PRODUCT_SUBTYPE == "PBOXT" && (PRODUCT_SUBTYPE3 == "TOPUPGOLD" || PRODUCT_SUBTYPE3 == "TOPUPPLATINUM" || PRODUCT_SUBTYPE3 == "TOPUPPLATINUMSTAFF")) {
                            Generate_package_PBOXT(table_data.rows[i], result);
                        }
                    }

                    //// for VOIP
                    if (radio_SelectPackage.parent().children(2).get(1).value == table_data.rows[i].cells[0].childNodes[1].value // MAPPING_CODE
                        && radio_SelectPackage.parent().children(2).get(18).value == table_data.rows[i].cells[0].childNodes[18].value //OWNER_PRODUCT
                        ) {
                        if (table_data.rows[i].cells[0].childNodes[16].value == "VOIP"
                            ) {
                            //console.log(_GetAllowPopup);
                            Generate_package_fixedline(table_data.rows[i], result);
                            if (_GetAllowPopup == "Y") document.getElementById("div_fixedline").style.display = "";
                            else document.getElementById("div_fixedline").style.display = "none";
                        }
                    }
                }
            }
        }

        // Set Defualt from DB
        if (result != null) {
            SetDefualtPackage(result);
        }
    }
    catch (ex) {
        alert(console.log(ex));
    }
    //isDisplay_PlayBox_Serial(); // officer
    //console.log(radio_SelectPackage);
}

function isDisplay_PlayBox_Serial() {
    //----------------------------------- this condition same register page
    var condition_fixedline = true;
    var condition_PBOX = true;
    try {
        if (document.getElementById("div_fixedline").style.display == "none") {
            condition_fixedline = false;
        }
        //console.log("try 1");
    }
    catch (ex) { condition_fixedline = false; /*console.log("catch 1");*/ }
    try {
        if (document.getElementById("div_PBOXT").style.display == "none") {
            condition_PBOX = false;
        }
        //console.log("try 2");
    }
    catch (ex) { condition_PBOX = false; /*console.log("catch 2");*/ }
    //-----------------------------------
    if (condition_PBOX == true /*|| condition_fixedline == true*/) {
        $("#PlayBox_Serial").show();
    }
    else {
        $("#PlayBox_Serial").hide();
    }
}

function GetAllowPopup(group, line) {
    //console.log("group : " + group + " line : " + line);
    var result = "N";
    $.ajax({
        type: "GET",
        url: "/SelectPackage/GetAllowPopup",
        data:
        {
            Packgrop: group,
            line: line
        },
        dataType: "json",
        async: false,
        success: function (data) {
            if (data.length == 0) {
                result = "N";
            }
            else {
                result = data[0].DisplayValue;
            }
        }
    });

    return result;
}

function SetDefualtPackage(result) {
    // loop for bind
    var FAX_FLAG = false;
    var IDD_FLAG = false;

    for (var i = 0 ; i < result.ObjOwnerPackage.length; i++) {

        $('#div_PBOXT input[type="checkbox"]').each(function (_div_PBOXTi, el) {
            if (result.ObjOwnerPackage[i].PACKAGE_CODE == $(this).parent().children().children().get(3).value) { //PACKAGE_CODE
                $(this).prop("checked", true);
                Calculate_package_PBOXT(this);
            }
        });
        $('#div_fixedline input[type="checkbox"]').each(function (_div_fixedline, el) {
            if (result.ObjOwnerPackage[i].PACKAGE_CODE == $(this).parent().children().children().children().get(3).value) { //PACKAGE_CODE
                $(this).prop("checked", true);
                onclick_checkbox_fixedline(this);
            }
        });

        if (result.ObjOwnerPackage[i].IDD_FLAG == "Y" && IDD_FLAG == false) IDD_FLAG = true;
        //if (result.ObjOwnerPackage[i].FAX_FLAG == "Y" && FAX_FLAG == false) FAX_FLAG = true;

    }
    $('#div_fixedline_VoipPage input[type="checkbox"]').each(function (_div_fixedline_VoipPage, el) {
        if (this.id == "L_IDD") $(this).prop("checked", IDD_FLAG);
        //else if (this.id == "L_Fax") $(this).prop("checked", FAX_FLAG);
    });
    Calculate_package_SumTotal();
}


function GetPackage_ToModel_New(QuickWinPanelModel, Input_2) {
    // Dev by Dick Head Man
    var radio_SelectPackage = $('input[name=SelectPackage]:checked');
    var _checkbox_fixedline = false
    var _L_IDD = "N";
    var _L_Fax = "Y";//N";   // หน้า Register เป็น Y อย่างเดียว

    var table_data_name = [
        { "table_name": "tempOntopSEP" }
        , { "table_name": "tempOntop" }
        , { "table_name": "tempV" }
        , { "table_name": "tempPlayBox" }
    ];

    //----------------------------------- this condition same register page
    var condition_fixedline = true;
    var condition_PBOX = true;
    try {
        if (document.getElementById("div_fixedline").style.display == "none") {
            condition_fixedline = false;
        }
        //console.log("try 1");
    }
    catch (ex) { condition_fixedline = false; /*console.log("catch 1");*/ }
    try {
        if (document.getElementById("div_PBOXT").style.display == "none") {
            condition_PBOX = false;
        }
        //console.log("try 2");
    }
    catch (ex) { condition_PBOX = false; /*console.log("catch 2");*/ }
    //-----------------------------------

    $('#div_fixedline input[type="checkbox"]').each(function (_div_fixedline, el) {
        if (this.checked) {
            _checkbox_fixedline = true;
        }
    });
    $('#div_fixedline_VoipPage input[type="checkbox"]').each(function (_div_fixedline_VoipPage, el) {
        if (_checkbox_fixedline == true) {
            if (this.checked) {
                if (this.id == "L_IDD") _L_IDD = "Y";
                if (this.id == "L_Fax") _L_Fax = "Y";
            }
        }
    });

    for (var i_table = 0; i_table < table_data_name.length; i_table++) {
        var table_data = null;
        if (document.getElementById(table_data_name[i_table].table_name).tBodies[0]) {
            table_data = document.getElementById(table_data_name[i_table].table_name).tBodies[0];
        }
        //console.log(table_data_name[i_table].table_name);
        if (table_data != null) {
            for (var i = 0; i < table_data.rows.length; i++) {
                if (radio_SelectPackage.parent().children(2).get(2).value == table_data.rows[i].cells[0].childNodes[2].value // MAPPING_PRODUCT
                        && radio_SelectPackage.parent().children(2).get(1).value == table_data.rows[i].cells[0].childNodes[1].value //MAPPING_CODE
                    && radio_SelectPackage.parent().children(2).get(16).value == table_data.rows[i].cells[0].childNodes[16].value //PRODUCT_SUBTYPE
                    ) {
                    console.log("Main Ref : " + table_data.rows[i].cells[0].childNodes[3].value); // add for main 3 rows
                    QuickWinPanelModel.SummaryPanelModel.PackageModelList.push({
                        PACKAGE_CODE: table_data.rows[i].cells[0].childNodes[3].value, //not null
                        PACKAGE_CLASS: table_data.rows[i].cells[0].childNodes[15].value, // Ontop // Bundle //not null
                        PACKAGE_GROUP: table_data.rows[i].cells[0].childNodes[5].value,
                        PRODUCT_SUBTYPE: table_data.rows[i].cells[0].childNodes[16].value, //not null
                        TECHNOLOGY: table_data.rows[i].cells[0].childNodes[10].value,
                        PACKAGE_NAME: table_data.rows[i].cells[0].childNodes[4].value, //not null
                        RECURRING_CHARGE: table_data.rows[i].cells[0].childNodes[6].value,
                        INITIATION_CHARGE: table_data.rows[i].cells[0].childNodes[13].value,
                        DISCOUNT_INITIATION_CHARGE: 0,
                        SFF_PROMOTION_BILL_THA: table_data.rows[i].cells[0].childNodes[8].value,
                        SFF_PROMOTION_BILL_ENG: table_data.rows[i].cells[0].childNodes[9].value,
                        DOWNLOAD_SPEED: table_data.rows[i].cells[0].childNodes[11].value,
                        UPLOAD_SPEED: table_data.rows[i].cells[0].childNodes[12].value,
                        OWNER_PRODUCT: table_data.rows[i].cells[0].childNodes[18].value, //not null
                        SFF_PROMOTION_CODE: table_data.rows[i].cells[0].childNodes[24].value,
                        DISCOUNT_TYPE: table_data.rows[i].cells[0].childNodes[21].value,
                        DISCOUNT_VALUE: table_data.rows[i].cells[0].childNodes[22].value,
                        DISCOUNT_DAY: table_data.rows[i].cells[0].childNodes[23].value,
                        TEMP_IA: table_data.rows[i].cells[0].childNodes[2].value,
                        VOIP_IP: "",
                        IDD_FLAG: "", // Y/N
                        FAX_FLAG: "", // Y/N
                    });
                }
            }
        }
    }
    console.log("---------- tempOrderFee");
    if (document.getElementById("tempOrderFee")) {
        if (document.getElementById("tempOrderFee").tBodies[0]) {
            var _tempOrderFee = document.getElementById("tempOrderFee").tBodies[0];
            for (var i = 0 ; i < _tempOrderFee.rows.length; i++) {
                if (radio_SelectPackage.parent().children(2).get(1).value == _tempOrderFee.rows[i].cells[0].childNodes[1].value
                    && radio_SelectPackage.parent().children(2).get(2).value == _tempOrderFee.rows[i].cells[0].childNodes[2].value
                            ) {
                    console.log("tempOrderFee : " + _tempOrderFee.rows[i].cells[0].childNodes[3].value);
                    QuickWinPanelModel.SummaryPanelModel.PackageModelList.push({
                        PACKAGE_CODE: _tempOrderFee.rows[i].cells[0].childNodes[3].value, //not null
                        PACKAGE_CLASS: _tempOrderFee.rows[i].cells[0].childNodes[15].value, // Ontop // Bundle //not null
                        PACKAGE_GROUP: _tempOrderFee.rows[i].cells[0].childNodes[5].value,
                        PRODUCT_SUBTYPE: _tempOrderFee.rows[i].cells[0].childNodes[16].value, //not null
                        TECHNOLOGY: _tempOrderFee.rows[i].cells[0].childNodes[10].value,
                        PACKAGE_NAME: _tempOrderFee.rows[i].cells[0].childNodes[4].value, //not null
                        RECURRING_CHARGE: _tempOrderFee.rows[i].cells[0].childNodes[6].value,
                        INITIATION_CHARGE: _tempOrderFee.rows[i].cells[0].childNodes[13].value,
                        DISCOUNT_INITIATION_CHARGE: 0,
                        SFF_PROMOTION_BILL_THA: _tempOrderFee.rows[i].cells[0].childNodes[8].value,
                        SFF_PROMOTION_BILL_ENG: _tempOrderFee.rows[i].cells[0].childNodes[9].value,
                        DOWNLOAD_SPEED: _tempOrderFee.rows[i].cells[0].childNodes[11].value,
                        UPLOAD_SPEED: _tempOrderFee.rows[i].cells[0].childNodes[12].value,
                        OWNER_PRODUCT: _tempOrderFee.rows[i].cells[0].childNodes[18].value, //not null
                        SFF_PROMOTION_CODE: _tempOrderFee.rows[i].cells[0].childNodes[24].value,
                        DISCOUNT_TYPE: _tempOrderFee.rows[i].cells[0].childNodes[21].value,
                        DISCOUNT_VALUE: _tempOrderFee.rows[i].cells[0].childNodes[22].value,
                        DISCOUNT_DAY: _tempOrderFee.rows[i].cells[0].childNodes[23].value,
                        TEMP_IA: _tempOrderFee.rows[i].cells[0].childNodes[2].value,
                        VOIP_IP: "",
                        IDD_FLAG: "",//_L_IDD, // Y/N
                        FAX_FLAG: "",//_L_Fax, // Y/N
                    });
                }
            }
        }
    }
    console.log("---------- checkbox");
    $('#div_PBOXT input[type="checkbox"]').each(function (_div_PBOXTi, el) {
        if (this.checked) {
            console.log("PBOXT :" + $(this).parent().children().children().get(3).value);
            QuickWinPanelModel.SummaryPanelModel.PackageModelList.push({
                PACKAGE_CODE: $(this).parent().children().children().get(3).value, //not null
                PACKAGE_CLASS: $(this).parent().children().children().get(15).value, // Ontop // Bundle //not null
                PACKAGE_GROUP: $(this).parent().children().children().get(5).value,
                PRODUCT_SUBTYPE: $(this).parent().children().children().get(16).value, //not null
                TECHNOLOGY: $(this).parent().children().children().get(10).value,
                PACKAGE_NAME: $(this).parent().children().children().get(4).value, //not null
                RECURRING_CHARGE: $(this).parent().children().children().get(6).value,
                INITIATION_CHARGE: $(this).parent().children().children().get(13).value,
                DISCOUNT_INITIATION_CHARGE: 0,
                SFF_PROMOTION_BILL_THA: $(this).parent().children().children().get(8).value,
                SFF_PROMOTION_BILL_ENG: $(this).parent().children().children().get(9).value,
                DOWNLOAD_SPEED: $(this).parent().children().children().get(11).value,
                UPLOAD_SPEED: $(this).parent().children().children().get(12).value,
                OWNER_PRODUCT: $(this).parent().children().children().get(18).value, //not null
                SFF_PROMOTION_CODE: $(this).parent().children().children().get(24).value,
                DISCOUNT_TYPE: $(this).parent().children().children().get(21).value,
                DISCOUNT_VALUE: $(this).parent().children().children().get(22).value,
                DISCOUNT_DAY: $(this).parent().children().children().get(23).value,
                TEMP_IA: $(this).parent().children().children().get(2).value,
                VOIP_IP: "",
                IDD_FLAG: _L_IDD, // Y/N
                FAX_FLAG: _L_Fax, // Y/N
            });
        }
    });
    $('#div_fixedline input[type="checkbox"]').each(function (_div_fixedline, el) {
        if (this.checked) {
            var _div_fixedline_forsave = document.getElementById("div_fixedline_forsave")
            for (var i = 0; i < _div_fixedline_forsave.childElementCount; i++) {
                console.log("fixedline : " + _div_fixedline_forsave.childNodes[i].childNodes[3].value);
                QuickWinPanelModel.SummaryPanelModel.PackageModelList.push({
                    PACKAGE_CODE: _div_fixedline_forsave.childNodes[i].childNodes[3].value, //not null
                    PACKAGE_CLASS: _div_fixedline_forsave.childNodes[i].childNodes[15].value, // Ontop // Bundle //not null
                    PACKAGE_GROUP: _div_fixedline_forsave.childNodes[i].childNodes[5].value,
                    PRODUCT_SUBTYPE: _div_fixedline_forsave.childNodes[i].childNodes[16].value, //not null
                    TECHNOLOGY: _div_fixedline_forsave.childNodes[i].childNodes[10].value,
                    PACKAGE_NAME: _div_fixedline_forsave.childNodes[i].childNodes[4].value, //not null
                    RECURRING_CHARGE: _div_fixedline_forsave.childNodes[i].childNodes[6].value,
                    INITIATION_CHARGE: _div_fixedline_forsave.childNodes[i].childNodes[13].value,
                    DISCOUNT_INITIATION_CHARGE: 0,
                    SFF_PROMOTION_BILL_THA: _div_fixedline_forsave.childNodes[i].childNodes[8].value,
                    SFF_PROMOTION_BILL_ENG: _div_fixedline_forsave.childNodes[i].childNodes[9].value,
                    DOWNLOAD_SPEED: _div_fixedline_forsave.childNodes[i].childNodes[11].value,
                    UPLOAD_SPEED: _div_fixedline_forsave.childNodes[i].childNodes[12].value,
                    OWNER_PRODUCT: _div_fixedline_forsave.childNodes[i].childNodes[18].value, //not null
                    SFF_PROMOTION_CODE: _div_fixedline_forsave.childNodes[i].childNodes[24].value,
                    DISCOUNT_TYPE: _div_fixedline_forsave.childNodes[i].childNodes[21].value,
                    DISCOUNT_VALUE: _div_fixedline_forsave.childNodes[i].childNodes[22].value,
                    DISCOUNT_DAY: _div_fixedline_forsave.childNodes[i].childNodes[23].value,
                    TEMP_IA: _div_fixedline_forsave.childNodes[i].childNodes[2].value,
                    VOIP_IP: "",
                    IDD_FLAG: _L_IDD, // Y/N
                    FAX_FLAG: _L_Fax, // Y/N
                });
            }
        }
    });
    for (var i_table = 0; i_table < table_data_name.length; i_table++) {
        var table_data = null;
        if (document.getElementById(table_data_name[i_table].table_name).tBodies[0]) {
            table_data = document.getElementById(table_data_name[i_table].table_name).tBodies[0];
        }
        //console.log(table_data_name[i_table].table_name);
        if (table_data != null) {
            for (var i = 0; i < table_data.rows.length; i++) {
                if (radio_SelectPackage.parent().children(2).get(2).value == table_data.rows[i].cells[0].childNodes[2].value // MAPPING_PRODUCT
                        && radio_SelectPackage.parent().children(2).get(1).value == table_data.rows[i].cells[0].childNodes[1].value //MAPPING_CODE
                    && "PBOX" == table_data.rows[i].cells[0].childNodes[16].value //PRODUCT_SUBTYPE
                    ) {
                    if (condition_PBOX == true || condition_fixedline == true) {
                        console.log("PBOX : " + table_data.rows[i].cells[0].childNodes[3].value);
                        QuickWinPanelModel.SummaryPanelModel.PackageModelList.push({
                            PACKAGE_CODE: table_data.rows[i].cells[0].childNodes[3].value, //not null
                            PACKAGE_CLASS: table_data.rows[i].cells[0].childNodes[15].value, // Ontop // Bundle //not null
                            PACKAGE_GROUP: table_data.rows[i].cells[0].childNodes[5].value,
                            PRODUCT_SUBTYPE: table_data.rows[i].cells[0].childNodes[16].value, //not null
                            TECHNOLOGY: table_data.rows[i].cells[0].childNodes[10].value,
                            PACKAGE_NAME: table_data.rows[i].cells[0].childNodes[4].value, //not null
                            RECURRING_CHARGE: table_data.rows[i].cells[0].childNodes[6].value,
                            INITIATION_CHARGE: table_data.rows[i].cells[0].childNodes[13].value,
                            DISCOUNT_INITIATION_CHARGE: 0,
                            SFF_PROMOTION_BILL_THA: table_data.rows[i].cells[0].childNodes[8].value,
                            SFF_PROMOTION_BILL_ENG: table_data.rows[i].cells[0].childNodes[9].value,
                            DOWNLOAD_SPEED: table_data.rows[i].cells[0].childNodes[11].value,
                            UPLOAD_SPEED: table_data.rows[i].cells[0].childNodes[12].value,
                            OWNER_PRODUCT: table_data.rows[i].cells[0].childNodes[18].value, //not null
                            SFF_PROMOTION_CODE: table_data.rows[i].cells[0].childNodes[24].value,
                            DISCOUNT_TYPE: table_data.rows[i].cells[0].childNodes[21].value,
                            DISCOUNT_VALUE: table_data.rows[i].cells[0].childNodes[22].value,
                            DISCOUNT_DAY: table_data.rows[i].cells[0].childNodes[23].value,
                            TEMP_IA: table_data.rows[i].cells[0].childNodes[2].value,
                            VOIP_IP: "",
                            IDD_FLAG: _L_IDD, // Y/N
                            FAX_FLAG: _L_Fax, // Y/N
                        });
                    }
                }
            }
        }
    }
    console.log("---------- tempAutoMap");
    if (document.getElementById("tempAutoMap")) {
        if (document.getElementById("tempAutoMap").tBodies[0]) {
            var _tempAutoMap = document.getElementById("tempAutoMap").tBodies[0];
            for (var i = 0 ; i < _tempAutoMap.rows.length; i++) {
                if (radio_SelectPackage.parent().children(2).get(1).value == _tempAutoMap.rows[i].cells[0].childNodes[1].value
                    && radio_SelectPackage.parent().children(2).get(2).value == _tempAutoMap.rows[i].cells[0].childNodes[2].value
                            ) {
                    console.log("AutoMap : " + _tempAutoMap.rows[i].cells[0].childNodes[3].value);
                    QuickWinPanelModel.SummaryPanelModel.PackageModelList.push({
                        PACKAGE_CODE: _tempAutoMap.rows[i].cells[0].childNodes[3].value, //not null
                        PACKAGE_CLASS: _tempAutoMap.rows[i].cells[0].childNodes[15].value, // Ontop // Bundle //not null
                        PACKAGE_GROUP: _tempAutoMap.rows[i].cells[0].childNodes[5].value,
                        PRODUCT_SUBTYPE: _tempAutoMap.rows[i].cells[0].childNodes[16].value, //not null
                        TECHNOLOGY: _tempAutoMap.rows[i].cells[0].childNodes[10].value,
                        PACKAGE_NAME: _tempAutoMap.rows[i].cells[0].childNodes[4].value, //not null
                        RECURRING_CHARGE: _tempAutoMap.rows[i].cells[0].childNodes[6].value,
                        INITIATION_CHARGE: _tempAutoMap.rows[i].cells[0].childNodes[13].value,
                        DISCOUNT_INITIATION_CHARGE: 0,
                        SFF_PROMOTION_BILL_THA: _tempAutoMap.rows[i].cells[0].childNodes[8].value,
                        SFF_PROMOTION_BILL_ENG: _tempAutoMap.rows[i].cells[0].childNodes[9].value,
                        DOWNLOAD_SPEED: _tempAutoMap.rows[i].cells[0].childNodes[11].value,
                        UPLOAD_SPEED: _tempAutoMap.rows[i].cells[0].childNodes[12].value,
                        OWNER_PRODUCT: _tempAutoMap.rows[i].cells[0].childNodes[18].value, //not null
                        SFF_PROMOTION_CODE: _tempAutoMap.rows[i].cells[0].childNodes[24].value,
                        DISCOUNT_TYPE: _tempAutoMap.rows[i].cells[0].childNodes[21].value,
                        DISCOUNT_VALUE: _tempAutoMap.rows[i].cells[0].childNodes[22].value,
                        DISCOUNT_DAY: _tempAutoMap.rows[i].cells[0].childNodes[23].value,
                        TEMP_IA: _tempAutoMap.rows[i].cells[0].childNodes[2].value,
                        VOIP_IP: "",
                        IDD_FLAG: _L_IDD, // Y/N
                        FAX_FLAG: _L_Fax, // Y/N
                    });
                }
            }
        }
    }

    //console.log(QuickWinPanelModel);
    return QuickWinPanelModel;
}


function Generate_package_PBOXT(Input_row, result) {
    //console.log(Input_row.cells[0].childNodes[17].value);
    var strBuilder = "";
    if (!document.getElementById("div_PBOXT"))// if exists
    {
        strBuilder += "<div id='div_PBOXT'>";
        strBuilder += "<div class='col-sm-12 col-xs-12 row add-rounded-green'>";
        strBuilder += "<div class='col-sm-4 col-xs-12'>";
        strBuilder += "<img src='../img/play_box.png' class='img-responsive center-block'>";
        strBuilder += "</div>";
        strBuilder += "<div class='col-sm-7 col-xs-12' style='margin-top: 30px'>";
        strBuilder += "<strong>"
        strBuilder += $("#hdL_L_CLICK_CHECKBOX").val();
        strBuilder += "</strong>"
        strBuilder += "</div>";
        strBuilder += sub_Generate_package_PBOXT(Input_row, result);
        strBuilder += "</div>";
        strBuilder += "</div>";
        $("#div_package_option").append(strBuilder);
    }
    else if (document.getElementById("div_PBOXT")) {
        //console.log($("#div_PBOXT").children(0));
        $("#div_PBOXT").children(0).append(sub_Generate_package_PBOXT(Input_row, null));
    }

    Generate_package_PBOXT_Display_PlaboxPreIni();
}

function Generate_package_PBOXT_Display_PlaboxPreIni() {
    //console.log("Generate_package_PBOXT_Display_PlaboxPreIni");
    // Dev by Dick Head Man
    var radio_SelectPackage = $('input[name=SelectPackage]:checked');
    var table_data_name = [
        { "table_name": "tempOntopSEP" }
        , { "table_name": "tempOntop" }
        , { "table_name": "tempV" }
        , { "table_name": "tempPlayBox" }
    ];
    var _PRE_INITIATION_CHARGE = 0;

    for (var i_table = 0; i_table < table_data_name.length; i_table++) {
        var table_data = null;
        if (document.getElementById(table_data_name[i_table].table_name).tBodies[0]) {
            table_data = document.getElementById(table_data_name[i_table].table_name).tBodies[0];
        }
        //console.log(table_data_name[i_table].table_name);
        if (table_data != null) {
            for (var i = 0; i < table_data.rows.length; i++) {

                if (radio_SelectPackage.parent().children(2).get(2).value == table_data.rows[i].cells[0].childNodes[2].value // MAPPING_PRODUCT
                        && radio_SelectPackage.parent().children(2).get(1).value == table_data.rows[i].cells[0].childNodes[1].value //MAPPING_CODE
                    && "PBOX" == table_data.rows[i].cells[0].childNodes[16].value //PRODUCT_SUBTYPE
                    ) {
                    if (table_data.rows[i].cells[0].childNodes[14].value > 0) {
                        _PRE_INITIATION_CHARGE += to_money(table_data.rows[i].cells[0].childNodes[14].value);
                    }
                }
            }
            if (_PRE_INITIATION_CHARGE > 0) {
                // เพิ่มการ คำนวน
                $("#lblPreIniPrice").text(addCommas(_PRE_INITIATION_CHARGE));
                //$("#trTriplePlaboxPreIni").show();
                $("#lblIniDiscount").text(addCommas(_PRE_INITIATION_CHARGE));
                //$("#trTriplePlayBoxDisCountIni").show();

                $("#lblPreIniPrice_option").text(addCommas(_PRE_INITIATION_CHARGE));
                if (_GetAllowPopup == "Y") $("#trTriplePlaboxPreIni_option").show();
                $("#lblIniDiscount_option").text(addCommas(_PRE_INITIATION_CHARGE));
                if (_GetAllowPopup == "Y") $("#trTriplePlayBoxDisCountIni_option").show();
            }
        }
    }
}

function sub_Generate_package_PBOXT(Input_row, result) {
    //console.log(Input_row.cells[0]);
    //alert($("#hdL_L_CLICK_CHECKBOX").val());
    var strBuilder = "";
    strBuilder += "<div class='col-sm-7 col-xs-12'>";
    strBuilder += "<div class='checkbox'>";
    strBuilder += "<div>";
    strBuilder += "<label>";
    strBuilder += "<div class='col-sm col-xs'>";
    strBuilder += "<input type='checkbox' class='checkbox_PBOXT' onclick='onclick_checkbox_PBOXT(this)'>";
    strBuilder += "<div style='display:none'>" + Input_row.outerHTML + "</div>"; // data for save
    strBuilder += "</div>";
    strBuilder += "<div class='col-sm-3 col-xs-3'>";
    if (Input_row.cells[0].childNodes[17].value == "TOPUPPLATINUM")
        strBuilder += "<img src='../img/PlatinumFullHD.jpg' class='img-responsive center-block'>";
    else if (Input_row.cells[0].childNodes[17].value == "TOPUPGOLD")
        strBuilder += "<img src='../img/GoldFullHD.jpg' class='img-responsive center-block'>";
    else if (Input_row.cells[0].childNodes[17].value == "TOPUPPLATINUMTRIAL")
        strBuilder += "<img src='../img/PlatinumFullHDTrial.jpg' class='img-responsive center-block'>";
    else if (Input_row.cells[0].childNodes[17].value == "TOPUPGOLDTRIAL")
        strBuilder += "<img src='../img/GoldFullHDTrial.jpg' class='img-responsive center-block'>";
    strBuilder += "</div>";
    strBuilder += "<div class='col-sm-5 col-xs-5'>";
    strBuilder += "<strong class='k-content'>"

    if (Input_row.cells[0].childNodes[17].value == "TOPUPPLATINUMTRIAL") {
        strBuilder += $("#hdL_PLATINUM_FULLHD_TRIAL").val();
    }
    else if (Input_row.cells[0].childNodes[17].value == "TOPUPGOLDTRIAL") {
        strBuilder += $("#hdL_GOLD_FULLHD_TRIAL").val();
    }
    else {
        strBuilder += Input_row.cells[0].childNodes[6].value + " ";
        strBuilder += (($("#LanguagePage").val() == "1") ? "บาท" : "Bath");
    }
    //hdL_PLATINUM_FULLHD_TRIAL

    strBuilder += "</strong>"
    strBuilder += "</div>";
    strBuilder += "</label>";
    strBuilder += "</div>";
    strBuilder += "</div>";
    strBuilder += "</div>";
    return strBuilder;
}
function onclick_checkbox_PBOXT(Input) {
    $('#div_PBOXT input:checkbox').each(function () {
        if (this != Input)
            this.checked = false;
    });
    Calculate_package_PBOXT(Input);
}

function Calculate_package_PBOXT(Input) {
    var _lblSumFullHD_option = to_money($("#lblSumFullHD_option").text());
    var _RECURRING_CHARGE = to_money(Input.parentNode.children[1].childNodes[6].value);
    var SFF_PROMOTION_BILL = "";

    if (Input.checked == true) {
        if ($("#LanguagePage").val() == "1") SFF_PROMOTION_BILL = Input.parentNode.children[1].childNodes[8].value;
        else SFF_PROMOTION_BILL = Input.parentNode.children[1].childNodes[9].value;

        $("#lblFullHD_option").text(SFF_PROMOTION_BILL);
        $("#lblSumFullHD_option").text(addCommas(_RECURRING_CHARGE));
        $("#trFullHD_option").show();
    }
    else {
        $("#lblFullHD_option").text("");
        $("#lblSumFullHD_option").text(0);
        $("#trFullHD_option").hide();
    }
    Calculate_package_SumTotal();
}

function Generate_package_fixedline(Input_row, result) {

    var strBuilder = "";
    var picfixedline = "";
    if ($("#LanguagePage").val() == "1")
        picfixedline = "fixedlineTH.jpg";
    else
        picfixedline = "fixedlineEN.jpg";

    if (!document.getElementById("div_fixedline"))// if exists
    {
        strBuilder += "<p class='clearfix'></p>";
        strBuilder += "<div id='div_fixedline'>";
        strBuilder += "<div class='col-sm-12 col-xs-12 row '>";
        strBuilder += "<div class='col-sm-4 col-xs-12'>";
        strBuilder += "<img src='../img/" + picfixedline + "' class='img-responsive center-block'>";
        strBuilder += "</div>";
        strBuilder += "<div class='col-sm-7 col-xs-12' style='margin-top: 30px'>";
        strBuilder += "<strong>"
        strBuilder += $("#hdL_L_CLICK_CHECKBOX").val();
        strBuilder += "</strong>"
        strBuilder += "</div>";
        strBuilder += Sub_Generate_package_fixedline(Input_row, result);
        strBuilder += "</div>";
        strBuilder += "</div>";
        $("#div_package_option").append(strBuilder);
    }
    else if (document.getElementById("div_fixedline")) {
        $("#div_fixedline_forsave").append("<div>" + Input_row.outerHTML + "</div>");
    }

    if (Input_row.cells[0].childNodes[15].value == "Main")
        $("#div_fixedline_label").text($("#div_fixedline_label").text().replace("{1}", Input_row.cells[0].childNodes[6].value));
}

function Sub_Generate_package_fixedline(Input_row, result) {
    var strBuilder = "";
    strBuilder += "<div class='col-sm-7 col-xs-12'>";
    strBuilder += "<div class='checkbox'>";
    strBuilder += "<div>";
    strBuilder += "<label>";
    strBuilder += "<div class='col-sm col-xs'>";
    strBuilder += "<input type='checkbox' class='checkbox_fixedline' onclick='onclick_checkbox_fixedline(this)'>";
    strBuilder += ("<strong class='k-content' id='div_fixedline_label'>" + $("#hdL_L_MAINTEN_FEE2").val() + "</strong>");
    strBuilder += "<div id='div_fixedline_forsave' style='display:none'>";
    strBuilder += "<div>" + Input_row.outerHTML + "</div>"; // data for save
    strBuilder += "</div>";
    strBuilder += "</div>";
    strBuilder += "<div class='col-sm-3 col-xs-3'>";
    strBuilder += "</div>";
    strBuilder += "<div class='col-sm-3 col-xs-3'>";
    strBuilder += "</div>";
    strBuilder += "</label>";
    strBuilder += "</div>";
    strBuilder += "</div>";
    strBuilder += "</div>";
    return strBuilder;
}

function onclick_checkbox_fixedline(Input) {
    //console.log($("#div_fixedline").children(1));
    if (Input.checked == true) {
        $("#div_fixedline").children(1).addClass("add-rounded-green");
    }
    else {
        $("#div_fixedline").children(1).removeClass("add-rounded-green");
    }
    Generate_package_fixedline_VoipPage(Input.checked);
    Calculate_package_fixedline_VoipPage(Input);// calculate
}

function Calculate_package_fixedline_VoipPage(Input) {
    var _INITIATION_CHARGE = 0;
    var _PRE_INITIATION_CHARGE = 0;
    var _RECURRING_CHARGE = 0;
    for (var i = 0; i < Input.parentNode.children[2].childNodes.length; i++) {
        _INITIATION_CHARGE = Input.parentNode.children[2].childNodes[i].childNodes[13].value;
        _PRE_INITIATION_CHARGE = Input.parentNode.children[2].childNodes[i].childNodes[14].value;
        _RECURRING_CHARGE = Input.parentNode.children[2].childNodes[i].childNodes[6].value;
        if (_PRE_INITIATION_CHARGE > 0) {
            $("#lblInstallFixedLine_option").text(addCommas(_PRE_INITIATION_CHARGE));
            $("#lblDiscountPriceFixedLine_option").text(addCommas(_PRE_INITIATION_CHARGE - _INITIATION_CHARGE));
        }
        if (_RECURRING_CHARGE > 0) {
            $("#lblInstallMonthPriceVas_option").text(addCommas(_RECURRING_CHARGE));
            $("#maintainBath_option").text(addCommas(_RECURRING_CHARGE) + " บาท/เดือน");
        }
    }
    if (Input.checked == true) {
        $("#trInstallFixedLine_option").show();
        $("#trDiscountFixedLine_option").show();
        if (_RECURRING_CHARGE > 0) $("#trInstallMonthVas_option").show();
    }
    else {
        $("#trInstallFixedLine_option").hide();
        $("#trDiscountFixedLine_option").hide();
        $("#trInstallMonthVas_option").hide();

        $("#lblInstallFixedLine_option").text(0);
        $("#lblDiscountPriceFixedLine_option").text(0);
    }
    ///// option re Sum Total
    Calculate_package_SumTotal();
}


function Calculate_package_SumTotal() {
    //console.log("Calculate_package_SumTotal");
    // ---------- ค่าติดตั้งและอุปกรณ์
    var _summVal1_option = to_money($("#summVal1_option").text());
    var _summVal2_option = to_money($("#summVal2_option").text());

    // เพิ่มการ คำนวน
    //trTriplePlaboxPreIni_option
    //trTriplePlayBoxDisCountIni_option

    var _lblInstallFixedLine_option = to_money($("#lblInstallFixedLine_option").text());
    var _lblDiscountPriceFixedLine_option = to_money($("#lblDiscountPriceFixedLine_option").text());
    var _summTotal1_option = to_money($("#_summTotal1_option").text());

    if (document.getElementById("trTriplePlaboxPreIni_option").style.display == "" || document.getElementById("trTriplePlaboxPreIni_option").style.display == "block")
        _summTotal1_option += _lblInstallFixedLine_option;
    if (document.getElementById("trTriplePlayBoxDisCountIni_option").style.display == "" || document.getElementById("trTriplePlayBoxDisCountIni_option").style.display == "block")
        _summTotal1_option -= _lblDiscountPriceFixedLine_option;

    _summTotal1_option += (_summVal1_option - _summVal2_option);
    $("#summTotal1_option").text(addCommas(_summTotal1_option));

    // ---------- ค่าบริการรายเดือน
    var _summVal3_option = to_money($("#summVal3_option").text());
    var _lblSumFullHD_option = to_money($("#lblSumFullHD_option").text());
    var _lblInstallMonthPriceVas_option = to_money($("#lblInstallMonthPriceVas_option").text());
    var _summDiscountVas_option = to_money($("#summDiscountVas_option").text());

    var _MonthPriceVas_Result = 0;

    _MonthPriceVas_Result += _summVal3_option;
    if (document.getElementById("trFullHD_option").style.display == "" || document.getElementById("trFullHD_option").style.display == "block")
        _MonthPriceVas_Result += _lblSumFullHD_option;
    if (document.getElementById("trInstallMonthVas_option").style.display == "" || document.getElementById("trInstallMonthVas_option").style.display == "block")
        _MonthPriceVas_Result += _lblInstallMonthPriceVas_option;
    if (_is_Discount_flag == true)
        _MonthPriceVas_Result -= _summDiscountVas_option; // add new Discount //officer
    $("#summTotal2_option").text(addCommas(_MonthPriceVas_Result));

    if (_is_Discount_flag == true) $("#trDiscount_option").show();
    else $("#trDiscount_option").hide();

    // ---------- ค่าบริการเฉลี่ยรายวัน (เรียกเก็บในบิลแรกเท่านั้น)
    //var daysInMonth = new Date().getDaysInMonth();
    var thisDate = new Date();
    var thisYear = thisDate.getFullYear();
    var thisMonth = thisDate.getMonth();
    var daysInMonth = thisDate.getDaysInMonth(thisMonth, thisYear);

    var sumProrate = (_MonthPriceVas_Result / daysInMonth) * 1;
    //console.log("daysInMonth : " + daysInMonth);
    //console.log(_MonthPriceVas_Result + "/ : " + daysInMonth);
    //console.log("sumProrate : " + sumProrate);
    var sumTotalProrate = _summTotal1_option + _MonthPriceVas_Result + sumProrate;

    $("#sumProrate_option").text(addCommas(accounting.formatNumber(sumProrate, 2)));
    $("#sumTotalProrate_option").text(addCommas(accounting.formatNumber(sumTotalProrate, 2)));
    //console.log("end Calculate_package_SumTotal");
}

function to_money(Input) {
    var _result = 0;
    try {
        _result = ((Input.replace(",", "") - 1) + 1);
    }
    catch (ex) {
        console.log("function to_money Error !! : " + ex);
    }
    return _result;
}

function addCommas(Input) {
    return Input.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
}

function Generate_package_fixedline_VoipPage(Input) {
    //console.log(Input);
    var strBuilder = "";
    var picfixedline = "";
    if ($("#LanguagePage").val() == "1")
        picfixedline = "fixedlineTH.jpg";
    else
        picfixedline = "fixedlineEN.jpg";
    if (!document.getElementById("div_fixedline_VoipPage"))// if exists
    {
        strBuilder += "<div id='div_fixedline_VoipPage'>";
        strBuilder += "<p class='clearfix'></p>";
        strBuilder += "<div class='col-sm-12 col-xs-12 row add-rounded-green'>";
        strBuilder += "<div class='col-sm-4 col-xs-12'>";
        //strBuilder += "<img src='../img/" + picfixedline + "' class='img-responsive center-block'>";
        strBuilder += Sub_Generate_package_fixedline_VoipPage();
        strBuilder += "</div>";
        strBuilder += "<div class='col-sm-7 col-xs-12' style='margin-top: 30px'>";
        strBuilder += "<strong>"
        strBuilder += "</strong>"
        strBuilder += "</div>";

        strBuilder += "</div>";
        strBuilder += "<p class='clearfix'></p>";
        strBuilder += "<div class='col-sm-12 col-xs-12 row add-rounded-green'>";
        strBuilder += Sub_Generate_package_fixedline_VoipPage_Label();
        strBuilder += "</div>";
        strBuilder += "</div>";

        $("#div_package_option").append(strBuilder);
    }
    else if (document.getElementById("div_fixedline_VoipPage")) {
        if (Input == true) {
            $("#div_fixedline_VoipPage").show();
        }
        else {
            $("#div_fixedline_VoipPage").hide();
        }
    }
}

function Sub_Generate_package_fixedline_VoipPage() {
    var strBuilder = "";
    strBuilder += "<h4 class='tgreen' id='lblSelectVas'>" + $("#hdL_L_SELECT_VAS").val() + "</h4>";
    strBuilder += "<i class='fa fa-chevron-right tgreen'></i>" + $("#hdL_L_ADDED_SERVICE").val();
    strBuilder += "<p class='clearfix'></p>";
    strBuilder += "<div class='col-md-10 col-md-offset-1'>";
    strBuilder += "<div class='radio'>";
    strBuilder += "<label>";
    strBuilder += "<input type='radio' id='L_FIXED_REGISTER' name='L_FIXED_REGISTER' checked>";
    strBuilder += $("#hdL_L_FIXED_REGISTER").val() + "<br>";
    strBuilder += "&mdash; " + $("#hdL_L_TOTAL").val() + "&nbsp; " + $("#hdL_L_NUMBER").val();
    strBuilder += "</label>";
    strBuilder += "</div>";
    strBuilder += "<div class='checkbox'>";
    strBuilder += "<label>";
    strBuilder += "<input type='checkbox' id='L_IDD' name='L_IDD' value='N' />" + $("#hdL_L_IDD").val();
    strBuilder += "</label>";
    strBuilder += "<p class='clearfix'></p>";
    strBuilder += "<label>";
    strBuilder += "<input type='checkbox' id='L_Fax' name='L_Fax' value='N'";
    strBuilder += "onclick='return false;' onkeydown='return false;' checked='checked' />" + $("#hdL_L_FAX").val();
    strBuilder += "</label>";
    strBuilder += "</div>";
    strBuilder += "</div>";
    return strBuilder;
}


function Sub_Generate_package_fixedline_VoipPage_Label() {
    var _fixedline_Detail = $("#fixedline_Detail").html()
    var strBuilder = "";
    strBuilder += _fixedline_Detail.replace("maintainBath", "maintainBath_option");
    return strBuilder;
}

function onBindingSelectOptionInstallation(result) {
    var i = $("input[name=SelectOptionInstallation]:checked").val();
    if (i == "0") {

        $("#dynamicBody002").empty();
        getPackage(0, result);
        onBinding();
        $("#InstallationDetail").hide();
    }
    else {
        $("#dynamicBody002").empty();
        getPackage(1, result);
        onBinding();
        $("#InstallationDetail").show();
    }

}

function checkProcessAisAirnet() {
    $.ajax({
        url: "/CheckCoverage/CheckPrePostPaids",
        data: { msisdn: $("#AisAirNumber").val(), orderRef: $.trim($("#L_CARD_NOs").val()), cond: "" },
        dataType: "json",
        type: 'POST',
        async: false,
        success: function (data1) {
            if (data1.IsSuccess == "True" && data1.Chm == "0" && data1.State == "1") {//Postpaid

            }
        }
    });
}

function GetCategory(result) {
    $('#HdchkAC_Category').val("");

    var p_chargeType = result.CoveragePanelModel.ChargeType;
    var p_accountCat = result.CustomerRegisterPanelModel.AccountCategory;

    if (p_chargeType == "POSTPAID") {
        $.ajax({
            url: '/SelectPackage/GetACC_CATEGORY',
            data: { ACC_CATEGORY: p_accountCat },
            dataType: "json",
            type: 'POST',
            async: false,
            success: function (data) {
                if (data != "" && data != null) {
                    $('#HdchkAC_Category').val(data);
                }
            }
        });
    }
    else {
        $('#HdchkAC_Category').val("");
    }
}

function GetP_Region() {

    var zipcode = $("#ZipCodeSetup").val();
    $.ajax({
        url: '/ResendOrder/GetP_Region',
        data: { rowid: zipcode },
        dataType: "json",
        type: 'POST',
        async: false,
        success: function (data) {
            $("#P_Region").val(data);
        }
    });

}

function openMoreDetail() {
    clearPageScrollUp(".conditionCheck");
    $('#modal002').modal();
    $("#detail002").show();
}

var _temp_disEntranceFee = ""; // this funtion double run... why ??
function onBinding(e) {
    var i = $("input[name=SelectPackage]:checked").val();
    var mc = $("#MAPPING_CODE" + i).val();
    var packageGroup = $("#PACKAGE_GROUP" + i).val();
    var owner = $("#OWNER_PRODUCT" + i).val();
    var productCode = $("#PACKAGE_CODE" + i).val();
    var technology = $("#TECHNOLOGY" + i).val();
    var productSubType = $("#PRODUCT_SUBTYPE" + i).val();
    var packagetype = $("#PACKAGE_TYPE" + i).val();
    var PRODUCT_SUBTYPE3 = $("#PRODUCT_SUBTYPE3" + i).val();
    $("#HdPackage_Group_Name").val(packageGroup);

    if (packageGroup != "PowerHome Package (FTTB)") {
        $('#lbl_GOVERNMENT').show();
        $('#CustomerRegisterPanelModel_L_GOVERNMENT').show();
        $('#lbl_BUSINESS').show();
        $('#CustomerRegisterPanelModel_L_BUSINESS').show();

    } else {

        $('#lbl_GOVERNMENT').hide();
        $('#CustomerRegisterPanelModel_L_GOVERNMENT').hide();
        $('#lbl_BUSINESS').hide();
        $('#CustomerRegisterPanelModel_L_BUSINESS').hide();
    }

    var vas_flag = $('#SummaryPanelModel_VAS_FLAG').val();
    var type = $('input[name="typeselect"]').val();

    if ($('input[name="typeselect"]:checked').val() == "R") $('#divAddressVat').hide();
    $("#divSameAsAddrOnSendDoc").hide();

    if (type == "R") {

        //$("#CustomerRegisterPanelModel_L_RESIDENTIAL").prop("checked", true);

        //if (vas_flag == "6") {
        //    $('#TITLE_CODE').prop('disabled', true);
        //}
        //$('#textImage').show();
        //$("#divGovermentName").hide();
        //$("#divFill_Vat").hide();
        //$("#divFill_Vat_B").hide();
        //$("#divContactPerson").hide();
        //$("#divFirstName").show();
        //$("#divLastName").show();
        //$("#divBirthday").show();

        //$("#divUploadpicR").show();
        //if ($("#PACKAGE_NAME" + $("input[name=SelectPackage]:checked").val()).val().toUpperCase().indexOf("GREETING") > -1) {
        //    $("#divUploadpicBill").show();
        //    $("#RemarkGreeting").show();
        //} else {
        //    $("#divUploadpicBill").hide();
        //    $("#RemarkGreeting").hide();
        //}
        //$("#divUploadpicG1").hide();
        //$("#divUploadpicG2").hide();
        //$("#divUploadpicG3").hide();
        //$("#divUploadpicB1").hide();
        //$("#divUploadpicB2").hide();
        //$("#divUploadpicB3").hide();
        //$("#divUploadpicB4").hide();
        ////popRequireFieldR();
        ////pushRequireFieldR();

        $.ajax({
            type: "POST",
            url: "/Process/Remove_list_photo",
            data: { type: 'R' },
            dataType: "json",
            success: function (data) {

            }
        });
    } else if (type == "G") {

        //$("#CustomerRegisterPanelModel_L_GOVERNMENT").prop("checked", true);
        //$("#TITLE_CODE").val("");
        //$('#ID_CARD_NAME').val("");
        //if (vas_flag == "6") {
        //    $('#TITLE_CODE').prop('disabled', false);
        //}

        //$('#divAddressVat').show();
        //$("#divSameAsAddrOnSendDoc").show();

        //$("#divGovermentName").show();
        //$("#divFill_Vat").show();
        //$("#divFill_Vat_B").hide();
        //$("#divContactPerson").show();
        //$("#divFirstName").hide();
        //$("#divLastName").hide();

        //$('#textImage').hide();
        //$("#divUploadpicR").hide();
        //$("#divUploadpicBill").hide();
        //$("#divUploadpicG1").show();
        //$("#divUploadpicG2").show();
        //$("#divUploadpicG3").show();
        //$("#divUploadpicB1").hide();
        //$("#divUploadpicB2").hide();
        //$("#divUploadpicB3").hide();
        //$("#divUploadpicB4").hide();

        //$("#divBirthday").hide();
        ////popRequireFieldGB();
        ////pushRequireFieldGB();
        $("#L_GOVERNMENT_NAME").attr("placeholder", $("#HDlGOVERNMENT").val());
        $.ajax({
            type: "POST",
            url: "/Process/Remove_list_photo",
            data: { type: 'G' },
            dataType: "json",
            success: function (data) {

            }
        });
    } else if (type == "B") {
        //$("#CustomerRegisterPanelModel_L_BUSINESS").prop("checked", true);
        //$("#TITLE_CODE").val("");
        //$('#ID_CARD_NAME').val("");
        //if (vas_flag == "6") {
        //    $('#TITLE_CODE').prop('disabled', false);
        //}

        //$('#divAddressVat').show();
        //$("#divSameAsAddrOnSendDoc").show();
        //$("#divGovermentName").show();
        //$("#divFill_Vat_B").show();
        //$("#divFill_Vat").hide();
        //$("#divContactPerson").show();
        //$("#divFirstName").hide();
        //$("#divLastName").hide();

        //$('#textImage').hide();
        //$("#divUploadpicR").hide();
        //$("#divUploadpicBill").hide();
        //$("#divUploadpicG1").hide();
        //$("#divUploadpicG2").hide();
        //$("#divUploadpicG3").hide();
        //$("#divUploadpicB1").show();
        //$("#divUploadpicB2").show();
        //$("#divUploadpicB3").show();
        //$("#divUploadpicB4").show();

        //$("#divBirthday").hide();
        ////popRequireFieldGB();
        ////pushRequireFieldGB();
        //$("#L_GOVERNMENT_NAME").attr("placeholder", $("#HDlBUSINESS").val());

        $.ajax({
            type: "POST",
            url: "/Process/Remove_list_photo",
            data: { type: 'B' },
            dataType: "json",
            success: function (data) {

            }
        });
    }

    if (PRODUCT_SUBTYPE3 == "BUNDLE") {
        $("#GiftVoucher").val("");
        $("#checkGiftVoucher").text("");
        $("#hdGiftVoucher").val("");
        $("#GiftVoucher").hide();
        $("#checkGiftVoucher").hide();
    }
    else {
        $.ajax({
            url: '/SelectPackage/GetpackageGroup',
            data: { Package: packageGroup },
            dataType: "json",
            //async: false,
            type: 'POST',
            success: function (data) {

                if (data != null || data != undefined) {
                    var onCus_type = sessionStorage.getItem("type");

                    $("#GiftVoucher").show();

                    document.getElementById("GiftVoucher").style.borderColor = '';
                }
                else {
                    $("#GiftVoucher").val("");
                    $("#checkGiftVoucher").text("");
                    $("#hdShowSPOntopPopup").val("");
                    $("#hdGiftVoucher").val("");
                    $("#GiftVoucher").hide();
                    $("#checkGiftVoucher").hide();
                }
            }
        });
    }

    $("#SummaryPanelModel_PackageModel_PACKAGE_TYPE").val($("#PACKAGE_TYPE" + i).val())
    if (productSubType != undefined && productSubType != "undefined") {
        $("#HdFunctionSubProduct").val(productSubType);
        $('#CoveragePanelModel_PRODUCT_SUBTYPE').val(productSubType);
    }

    var key = "";
    var preInit = 0;
    var init = 0;
    var showEntranceFee = false;
    $("#showEntrancefee").val(false);
    var preInitEntranceFee = 0;
    var initEntranceFee = 0;
    if (owner == "SWiFi") {
        var yn = "Y";
        key = mc + yn;

        preInit = parseFloat($("#PRE_INITIATION_CHARGE" + key).val());
        init = parseFloat($("#INITIATION_CHARGE" + key).val());
    }
    else {
        key = mc;
        var findOntop = $("[name=SelectOntop" + mc + owner + "]");

        $.each(findOntop, function (i, e) {
            if ($("#PRODUCT_SUBTYPE" + key + e.value).val() !== "PBOX" && $("#PACKAGE_TYPE" + key + e.value).val() != "Order Fee") {
                preInit += parseFloat($("#PRE_INITIATION_CHARGE" + key + e.value).val());
                init += parseFloat($("#INITIATION_CHARGE" + key + e.value).val());
            }
            if ($("#PACKAGE_TYPE" + key + e.value).val() == "Order Fee") {
                showEntranceFee = true;
                $("#showEntrancefee").val(true);
                preInitEntranceFee += parseFloat($("#PRE_INITIATION_CHARGE" + key + e.value).val());
                initEntranceFee += parseFloat($("#INITIATION_CHARGE" + key + e.value).val());
            }
        });
    }

    var summVal1 = preInit;
    var summVal2 = preInit - init;
    var summTotal1 = init;

    $("#Entrancefee").val("");
    var summEntranceFee = Math.abs(preInitEntranceFee - initEntranceFee);

    var summLb3 = $("#PACKAGE_NAME" + i).val();
    var summVal3 = $("#RECURRING_CHARGE" + i).val();
    var summTotal2 = parseFloat(summVal3);
    var tempSummTotal2 = parseFloat(summVal3);
    var technologyDisplay = $("#TECHNOLOGY" + i).val();

    if (showEntranceFee) {
        $("#pageDotEntranceFee").show();
        $("#entranceFeeDetail").text(addCommas(summEntranceFee));
        $("#disDetail").html(getDisDetail());
        //alert($("#disEntranceFee").text() + " ---- " + summEntranceFee);
        if (_temp_disEntranceFee == "") _temp_disEntranceFee = $("#disEntranceFee").text();
        $("#disEntranceFee").text(_temp_disEntranceFee + " " + summEntranceFee + " " + " บาท");
        $("#Entrancefee").val(summEntranceFee);

    }
    else {
        $("#pageDotEntranceFee").hide();
        $("#disDetail").html(getDisDetail());
    }

    var cdt = "";
    if ($("#HdFunctionSubProduct").val() == "WireBB") {
        cdt = $('#HdL_SUMM_DETAIL_WireBB').val();
    }
    else if ($("#HdFunctionSubProduct").val() == "SWiFi") {
        cdt = $('#HdL_SUMM_DETAIL_SWiFi').val();
    }
    else if ($("#HdFunctionSubProduct").val() == "FTTx" || $("#HdFunctionSubProduct").val() == "SYMPHONY") {
        cdt = $('#HdL_SUMM_DETAIL_FTTx').val();
    }

    $("#summDetail").text(cdt);

    if ((summVal1 - summVal2) == 0) {
        var a = "<ul><li>" + $('#HdL_DISC_DETAIL_FREE').val() + "";
        a = a.replace("{%1}", toNumber(summVal1));
        a = a.replace("{%2}", toNumber(summVal2));
        a = a.replace("{%3}", $('#HdL_SUMM_DETAIL6').val());
        if ($("#HdFunctionSubProduct").val() != "FTTx" && $("#HdFunctionSubProduct").val() != "SYMPHONY") {
            a += "</li>" + "<li>" + cdt + "</li></ul>";
        }
        $("#disCondition1").html(a);
    }
    else {
        if (packageGroup == "Professional Package" || packageGroup == "Incredible Package") {
            if ($("input[name=WiFiCondition]:checked").val() == "Y") {
                var a = "<ul><li>" + $('#HdL_DISC_DETAIL_FREE').val() + "";
                a = a.replace("{%1}", toNumber(summVal1 - parseFloat($('#HdSWIFI_ROUTER_VALUE').val())));
                a = a.replace("{%2}", toNumber(summVal2));
                a = a.replace("{%3}", $('#HdL_SUMM_DETAIL6').val());
                //a += "<br>" + cdt;
                if ($("#HdFunctionSubProduct").val() != "FTTx" && $("#HdFunctionSubProduct").val() != "SYMPHONY") {
                    a += "</li>" + "<li>" + cdt + "</li></ul>";
                }
                $("#disCondition1").html(a);
            }
        }
        else {
            var a = $('#HdL_DISC_DETAIL_SOME').val();
            a = a.replace("{%1}", toNumber(summTotal1));
            a = a.replace("{%2}", toNumber(summVal1));
            a = a.replace("{%3}", toNumber(summVal2));
            a = a.replace("{%4}", toNumber(summVal2));
            var b = "<ul><li>" + a + "</li>";
            if ($("#HdFunctionSubProduct").val() != "FTTx" && $("#HdFunctionSubProduct").val() != "SYMPHONY") {
                b += "<li>" + cdt + "</li></ul>";
            }
            $("#disCondition1").html(b);
        }
    }

    $("#disConditionPmt").html();
    var pmt = $("#HdL_PROMOTION1").val().split(',');
    var cc = false;

    $.each(pmt, function (i, e) {
        if ((parseFloat(e.value) == parseFloat(productCode)) && !cc) {
            $("#disConditionPmt").html("<br>" + pmt + "");
            cc = true;
        }
        else
            $("#disConditionPmt").html("");
    });

    // begin prorate calculting.
    var sumProrate = 0;
    var sumTotalProrate = 0;
    var thisDate = new Date();
    var thisYear = thisDate.getFullYear();
    var thisMonth = thisDate.getMonth();
    var daysInMonth = thisDate.getDaysInMonth(thisMonth, thisYear);

    sumProrate = (summTotal2 / daysInMonth) * 1;
    sumTotalProrate = summTotal2 + sumProrate;
    var selectedTechnology = $("#SummaryPanelModel_PackageModel_TECHNOLOGY").val();
    //console.log(summTotal2 + " / " + daysInMonth);
    //console.log(sumTotalProrate);
    ////แสดงผลคำนวณฝั่งขวา
    if (cc) {
        summTotal1 -= parseFloat($("#HdL_PROMOTION2").val());
        summVal2 += parseFloat($("#HdL_PROMOTION2").val());
    }

    var preIniPrice = 0;
    var iniDiscount = 0;

    if (packagetype == "TRIPLE") {
        var tpPreIni = parseFloat($("#TP_PRE_INITIATION_PB" + i).val());
        var tpIni = parseFloat($("#TP_INITIATION_PB" + i).val());

        preIniPrice = tpPreIni;
        iniDiscount = tpPreIni - tpIni;

        //$("#trTriplePlaboxPreIni").show();
        //$("#trTriplePlayBoxDisCountIni").show();
    }
    else {
        //$("#trTriplePlaboxPreIni").hide();
        //$("#trTriplePlayBoxDisCountIni").hide();
    }

    summTotal1 = summTotal1 + preIniPrice - iniDiscount;
    sumTotalProrate += summTotal1;

    $("#summVal1").text(toNumber(summVal1));
    $("#summVal2").text(toNumber(summVal2));
    $("#lblPreIniPrice").text(toNumber(preIniPrice));
    $("#lblIniDiscount").text(toNumber(iniDiscount));
    $("#summTotal1").text(toNumber(summTotal1));

    var summLb1 = $('#HDL_ROUTER').val();
    $('#summLb1').html(summLb1);
    $("#summLb3").text(summLb3);

    $("#summVal3").text(toNumber(summVal3));
    $("#summTotal2").text(toNumber(summTotal2));

    $("#sumProrate").text(accounting.formatNumber(sumProrate, 2));
    $("#sumTotalProrate").text(accounting.formatNumber(sumTotalProrate, 2));

    if ($("#GiftVoucher").val() != "" && $("#checkGiftVoucher").text() == $('#HDL_MSG_PROMO_CORRECT').val()) {

        var num = $("#summVal3").text();
        var number = num.replace(',', '');
        var result = (50 / 100) * Number(number);
        $("#summVal3").text(toNumber(result));
        $("#summTotal2").text(toNumber(result));
        $("#hdGiftVoucher").val($("#summTotal2").text());



        summTotal2 = ($("#summTotal2").text()).replace(',', '');
        var summTotal1 = ($("#summTotal1").text()).replace(',', '');

        var thisDate = new Date();
        var thisYear = thisDate.getFullYear();
        var thisMonth = thisDate.getMonth();

        var daysInMonth = thisDate.getDaysInMonth();
        sumProrate = (summTotal2 / daysInMonth) * 1;
        $('#sumProrate').text(accounting.formatNumber(sumProrate, 2));

        sumTotalProrate = parseFloat(summTotal2) + parseFloat(sumProrate);
        $('#sumTotalProrate').text(accounting.formatNumber(sumTotalProrate, 2));
    }


    //สรุป wording กรอบเทาด้านล่าง
    if ($("#HdFunctionSubProduct").val() == "WireBB") {
        var sum_detail = $('#HdL_SUMM_DETAIL6').val()
        $("#summLb1").text(sum_detail);

        $("#disCondition21").html("<br>" + $('#HDL_WIFI_ROUTER_ONU').val() + "");
        $("#disCondition22").html($('#HDL_WIFI_DETAIL1').val());
    }
    else if ($("#HdFunctionSubProduct").val() == "SWiFi" || $("#HdFunctionSubProduct").val() == "FTTx" || $("#HdFunctionSubProduct").val() == "SYMPHONY") {

        if ($("#HdFunctionSubProduct").val() == "FTTx" || $("#HdFunctionSubProduct").val() == "SYMPHONY") {
            $(".conditionCheck").hide();
            $("#summLb1").text(sum_detail);

            $("#disCondition21").html("<br>" + $('#HDL_WIFI_ROUTER_ONU').val() + "");
            $("#disCondition22").html($('#HDL_WIFI_DETAIL1').val());

            $("input[name=WiFiCondition]").prop("checked", false);
        }
        else {
            $(".conditionCheck").show();
            $("#summLb1").text(sum_detail);

            if (($("input[name=WiFiCondition]:checked").val() == undefined || $("input[name=WiFiCondition]:checked").val() == "N") && productSubType != "SWiFi") {
                $("#disCondition21").html("");
                $("#disCondition22").html("");
            } else {
                $("#disCondition21").html($('#HDL_WIFI_ROUTER').val());
                $("#disCondition22").html($('#L_WIFI_DETAIL2').val() + "<br><br>");
                //$("#summLb1Router").html("@@L_ROUTER");
            }

            var pri1 = "@@Html.Raw(L_PRIVILAGE1)".replace("{%1}", toNumber($('#HdSWIFI_ROUTER_VALUE').val()));
            pri1 = pri1.replace("{%2}", toNumber($('#HdSWIFI_ROUTER_PRE_VALUE').val()));

            var pri2 = "@@Html.Raw(L_PRIVILAGE2)".replace("{%1}", toNumber($('#HdSWIFI_ROUTER_VALUE').val()));
            pri2 = pri2.replace("{%2}", toNumber($('#HdSWIFI_ROUTER_PRE_VALUE').val()));

            var pri3 = "@@Html.Raw(L_ROUTER_DETAIL2)".replace("{%1}", toNumber($('#HdSWIFI_ROUTER_VALUE').val()));
            pri3 = pri3.replace("{%2}", toNumber($('#HdSWIFI_ROUTER_PRE_VALUE').val()));

            $("#pri1").html(pri1);
            $("#pri2").html(pri2 + " <a href='#' class='basic' onclick='openMoreDetail()'>" + $("#HDL_MORE_DETAIL").val() + "</a>");
            $("#popDetail").html(pri3);
        }
    }
    else {
        $("#summLb1").text($('#HdL_SUMM_DETAIL6').val());
    }

    $("#DisplayPackagePanelModel_Prorate").val($("#sumProrate").text());
    $("#DisplayPackagePanelModel_TotalProrate").val($("#sumTotalProrate").text());

    $("#SummaryPanelModel_PackageModel_LABEL_SUMM_ROW1").val($("#summLb1").text() + $("#summLb1Router").text());

    $("#SummaryPanelModel_PackageModel_DISCOUNT_INITIATION_CHARGE").val(summVal2);

    if (productSubType == "SWiFi" || owner == "SWiFi")
        $("input[name=WiFiCondition][value=Y]").prop("checked", true);

    $(".conditionCheck").hide();

    //GetPackageCode();
    is_Discount();
    Generate_package_option(null)
    Calculate_forDisplay()
}

var _is_Discount_flag = false;
function is_Discount() {
    var ee = $("input[name=SelectPackage]:checked").val();
    var ee2 = $("input[name=SelectOntopRadioSP]:checked").val();
    var mc = $("#MAPPING_CODE" + ee).val();
    var ow = $("#OWNER_PRODUCT" + ee).val();
    var findOntopSP = $("[name=SelectOntopSP" + mc + ow + "]");
    var i = $("input[name=SelectPackage]:checked").val();
    if (FlagOntopSP && $("#hdL_TopUp").val() == "5") // officer
    {
        if (findOntopSP.length > 0) {
            _is_Discount_flag = true;
            var _SFF_PROMOTION_BILL_THA = findOntopSP.parent().children().get(8).value;
            var _discount_type = findOntopSP.parent().children().get(21).value;
            var _discount_value = findOntopSP.parent().children().get(22).value;

            var _result_dis = Calculate_Discount(_discount_type, _discount_value, i);
            console.log("result_dis : " + _result_dis);
            $("#summDiscountVas").text(addCommas(_result_dis));
        }
        else {
            _is_Discount_flag = false;
            $("#summDiscountVas").text(0);
        }
    }
}


function Calculate_Discount(type, value, keyMain) {
    console.log("Calculate_Discount");
    if (type == "PCT") {
        var dis = (parseInt($('#RECURRING_CHARGE' + keyMain).val()) * parseInt(value)) / 100;
        //var total = parseInt($('#RECURRING_CHARGE' + keyMain).val()) - dis;
        return dis;
    }
    else if (type == "MNY") {
        //var total = parseInt($('#RECURRING_CHARGE' + keyMain).val()) - value;
        return value;
    }
    else if (type == "PAID") {
        var total = parseInt(value);
        return value;
    }
}

function GetPackageCode() {
    $.ajax({
        type: "GET",
        url: "/SelectPackage/GetPromotionCode",
        dataType: "json",
        async: false,
        success: function (data) {

            if (data.length != 0) {
                var promotionCode = [];
                promotionCode = data;
                $('#hdPackageCode').val(promotionCode);
                console.log("promotionCode : " + promotionCode);
            }

        }
    });

}


function ToJavaScriptDate(value) {
    try {
        var pattern = /Date\(([^)]+)\)/;
        var results = pattern.exec(value);
        var dt = new Date(parseFloat(results[1]));
        return dt.getDate() + "/" + (dt.getMonth() + 1) + "/" + dt.getFullYear();
    }
    catch (ex) {
        console.log(ex);
        return "";
    }

}

var is_PlayBox_Serial = false;
function Calculate_forDisplay() {
    //var _trFullHD2_ishow = false;
    var radio_SelectPackage = $('input[name=SelectPackage]:checked');
    var table_data_name = [
        { "table_name": "tempOntopSEP" }
        , { "table_name": "tempOntop" }
        , { "table_name": "tempV" }
        , { "table_name": "tempPlayBox" }
        , { "table_name": "tempAutoMap" }

    ];
    var _PRE_INITIATION_CHARGE = 0;
    var _INITIATION_CHARGE = 0;
    var table_data_name_length = table_data_name.length;
    try {
        //console.log("----------------do");
        for (var i_table = 0; i_table < table_data_name.length; i_table++) {
            var table_data = null;
            if (document.getElementById(table_data_name[i_table].table_name).tBodies[0]) {
                table_data = document.getElementById(table_data_name[i_table].table_name).tBodies[0];
            }
            if (table_data != null) {
                for (var i = 0; i < table_data.rows.length; i++) {
                    if (table_data_name[i_table].table_name != "tempAutoMap") {
                        if (
                            radio_SelectPackage.parent().children(2).get(1).value == table_data.rows[i].cells[0].childNodes[1].value // MAPPING_PRODUCT
                            ) {
                            if (table_data.rows[i].cells[0].childNodes[16].value == "PBOX") {
                                //console.log(table_data.rows[i].cells[0].childNodes[14].value);
                                if (table_data.rows[i].cells[0].childNodes[14].value > 0) //PRE_INITIATION_CHARGE
                                {
                                    _PRE_INITIATION_CHARGE += ((table_data.rows[i].cells[0].childNodes[14].value - 1) + 1);
                                    _INITIATION_CHARGE += ((table_data.rows[i].cells[0].childNodes[13].value - 1) + 1);
                                }
                            }
                        }
                    }
                    //// ------------------ AutoTemp
                    if (table_data_name[i_table].table_name == "tempAutoMap") {
                        if (
                            radio_SelectPackage.parent().children(2).get(1).value == table_data.rows[i].cells[0].childNodes[1].value // MAPPING_PRODUCT
                            && radio_SelectPackage.parent().children(2).get(2).value == table_data.rows[i].cells[0].childNodes[2].value // MAPPING_PRODUCT
                            && radio_SelectPackage.parent().children(2).get(18).value == table_data.rows[i].cells[0].childNodes[18].value // OWNER_PRODUCT
                            && radio_SelectPackage.parent().children(2).get(25).value == "A"
                            ) {
                            //console.log(
                            //    table_data.rows[i].cells[0].childNodes[15].value
                            //    + " - " + table_data.rows[i].cells[0].childNodes[16].value
                            //    + " - " + table_data.rows[i].cells[0].childNodes[17].value
                            //    );
                            if (table_data.rows[i].cells[0].childNodes[15].value == "Ontop"
                                && table_data.rows[i].cells[0].childNodes[16].value == "PBOXT"
                                && (table_data.rows[i].cells[0].childNodes[17].value == "TOPUPPLATINUMTRIAL3"
                                || table_data.rows[i].cells[0].childNodes[17].value == "TOPUPPLATINUMTRIAL12"
                                )
                                ) {
                                $("#lblFullHD2").text(table_data.rows[i].cells[0].childNodes[8].value); // SFF_PROMOTION_BILL_THA
                                $("#lblSumFullHD2").text(addCommas(table_data.rows[i].cells[0].childNodes[6].value)); // SFF_PROMOTION_BILL_THA
                                $("#trFullHD2").show();
                            }
                        }
                        else {
                            $("#lblFullHD2").text(""); // SFF_PROMOTION_BILL_THA
                            $("#lblSumFullHD2").text(addCommas(0)); // SFF_PROMOTION_BILL_THA
                            $("#trFullHD2").hide();
                        }
                    }
                }
            }
        }
        $("#div_summary_package_option").empty();
        $("#div_summary_package_option").append($("#divFormSummarySelectPackage").html());
        $("#div_summary_package_option").find("span").each(function () {
            if (this.id != "") {
                this.id = (this.id.toString() + "_option");
            }
        });
        $("#div_summary_package_option").find("div").each(function () {
            if (this.id != "") {
                this.id = (this.id.toString() + "_option");
            }
        });

        if (_PRE_INITIATION_CHARGE > 0) {
            if (_GetAllowPopup == "Y") $("#trTriplePlaboxPreIni_option").show();
            $("#lblPreIniPrice_option").text(addCommas(_PRE_INITIATION_CHARGE));

            if (_GetAllowPopup == "Y") $("#trTriplePlayBoxDisCountIni_option").show();
            $("#lblIniDiscount_option").text(addCommas(_PRE_INITIATION_CHARGE - _INITIATION_CHARGE));

            $("#PlayBox_Serial").show(); // officer
            is_PlayBox_Serial = true;
        }
        else {
            $("#trTriplePlaboxPreIni_option").hide();
            $("#trTriplePlayBoxDisCountIni_option").hide();

            $("#PlayBox_Serial").hide(); // officer
            is_PlayBox_Serial = false;
        }
        if (_is_Discount_flag == true) $("#trDiscount_option").show();
        else $("#trDiscount_option").hide();
    }
    catch (ex) {
        console.log(ex);
    }
}

//14/02/2560 เพิ่มเรื่อง Date

function setTimeSlotConfigSelectDate(result) {

    //$(".k-window").css('z-index', 9999); // for display on popup
    //$("#date_test").css('z-index', 999999);
    //$("#date_test").datetimepicker({
    //    format: 'd/m/Y',
    //    lang: "th",
    //    timepicker: false,
    //    closeOnDateSelect: true,
    //    isBuddhist: true,
    //    onSelectDate: function (dateInput) {
    //        var _date = new Date(dateInput);
    //        var _temp_dd = _date.getDate();
    //        var _temp_mm = (_date.getMonth() + 1);
    //        var _temp_yyyy = _date.getFullYear().toString();
    //        var _temp_text_yyyy = _date.getFullYear().toString();

    //        if (((_date.getFullYear().toString() - 1) + 1) < 2500)
    //            _temp_yyyy = (((_date.getFullYear().toString() - 1) + 1) + 543);
    //        if (((_date.getFullYear().toString() - 1) + 1) > 2500) 
    //            _temp_text_yyyy = (((_date.getFullYear().toString() - 1) + 1) - 543);

    //        var _temp_date_result = _temp_dd + "/" + _temp_mm + "/" + _temp_yyyy;
    //        $("#date_test").val(_temp_dd + "/" + _temp_mm + "/" + _temp_text_yyyy);
    //        $("#date_test_text").val(_temp_date_result);
    //    },
    //});
    //$("#date_test_text").click(function () {
    //    $("#date_test").trigger('open.xdsoft');
    //});

    var modelAcessESRI = [];
    var accessModeModel = new FBSSAccessModeInfo();
    accessModeModel.AccessMode = result.CoveragePanelModel.AccessMode; //result.CoverageAreaResultModel.ACCESS_MODE_LIST
    accessModeModel.InserviceDate = '';
    modelAcessESRI.push(accessModeModel);
    var p_AccessMode = JSON.stringify(modelAcessESRI);

    var p_value_AccessMode = result.CoveragePanelModel.AccessMode;
    var appointmentDate = ToJavaScriptDate(result.CustomerRegisterPanelModel.FBSSTimeSlot.AppointmentDate);
    var timeSlot = result.CustomerRegisterPanelModel.FBSSTimeSlot.TimeSlot;
    //console.log(appointmentDate);
    //var i = $("input[name=SelectPackage]:checked").val();
    //console.log("p_value_AccessMode : " + p_value_AccessMode
    //    + "subtype : " + $("#CustomerRegisterPanelModel_outSubType").val()
    //    );
    $.ajax({
        type: "GET",
        url: "/CustomerRegister/GetTimeSlotConfigSelectDate",
        data: { 'technology': p_value_AccessMode, 'subtype': $("#CustomerRegisterPanelModel_outSubType").val() },
        dataType: "json",
        async: false,
        success: function (data) {
            //console.log(data);
            //console.log(data.length);
            //console.log(data);
            //        //onGenerate: function (ct) {
            //        //    //jQuery(this).find('.xdsoft_date')
            //        //    //  .toggleClass('xdsoft_disabled');
            //        //    jQuery(this).find('.xdsoft_disabled')
            //        //      .toggleClass('xdsoft_date');
            //        //},
            //        //minDate: '2558/07/29',
            //        //maxDate: '2558/08/10',

            var minDate = "";
            var maxDate = "";
            var currentDate = "";
            var currentDateTH = "";
            var tempSubtype = $("#CustomerRegisterPanelModel_outSubType").val();

            if (data != "" && data != null && data != undefined) {
                dayTimeslot = data.LovValue2;

                if (tempSubtype != "" && tempSubtype != null) {
                    if (data.LovValue5 == "PULL" || data.LovValue5 == "PUSH")
                        $("#CustomerRegisterPanelModel_ASSIGN_RULE").val(data.LovValue5);
                    else
                        $("#CustomerRegisterPanelModel_ASSIGN_RULE").val("PULL");
                }

                var minDayPlus = parseInt(data.LovValue1, 10) * 24;
                var maxDayPlus = parseInt(data.DefaultValue, 10) * 24;

                var calendar = new Date();
                var YearNow = calendar.getFullYear();
                var MonthNow = calendar.getMonth() + 1;
                var DateNow = calendar.getDate();

                //var defaultDate = new Date(new Date().getTime() + minDayPlus * 60 * 60 * 1000);
                var defaultDate = new Date(parseInt(YearNow), parseInt(MonthNow) - 1, parseInt(DateNow) + parseInt(data.LovValue1, 10));
                var month = defaultDate.getMonth() + 1;
                var day = defaultDate.getDate();

                var minDateTH = (defaultDate.getFullYear() + 543) + '/' +
                    (month < 10 ? '0' : '') + month + '/' +
                    (day < 10 ? '0' : '') + day;

                var minDateEN = defaultDate.getFullYear() + '/' +
                    (month < 10 ? '0' : '') + month + '/' +
                    (day < 10 ? '0' : '') + day;

                currentDateTH = (day < 10 ? '0' : '') + day + '/' +
                    (month < 10 ? '0' : '') + month + '/' +
                    (defaultDate.getFullYear() + 543);

                var currentDateEN = (day < 10 ? '0' : '') + day + '/' +
                    (month < 10 ? '0' : '') + month + '/' +
                    defaultDate.getFullYear();

                //var defaultDateMax = new Date(new Date().getTime() + maxDayPlus * 60 * 60 * 1000);

                var defaultDateMax = new Date(parseInt(YearNow), parseInt(MonthNow) - 1, parseInt(DateNow) + parseInt(data.DefaultValue, 10));
                var monthMax = defaultDateMax.getMonth() + 1;
                var dayMax = defaultDateMax.getDate();

                var maxDateTH = (defaultDateMax.getFullYear() + 543) + '/' +
                   (monthMax < 10 ? '0' : '') + monthMax + '/' +
                   (dayMax < 10 ? '0' : '') + dayMax;

                var maxDateEN = defaultDateMax.getFullYear() + '/' +
                    (monthMax < 10 ? '0' : '') + monthMax + '/' +
                    (dayMax < 10 ? '0' : '') + dayMax;


                minDate = minDateEN;
                maxDate = maxDateEN;
                currentDate = currentDateEN;
            }
            else {
                $("#CustomerRegisterPanelModel_ASSIGN_RULE").val("PULL");
                //var defaultDate = new Date();
                var defaultDate = new Date(parseInt(YearNow), parseInt(MonthNow) - 1, parseInt(DateNow));
                var month = defaultDate.getMonth() + 1;
                var day = defaultDate.getDate();

                var minDateTH = (defaultDate.getFullYear() + 543) + '/' +
                    (month < 10 ? '0' : '') + month + '/' +
                    (day < 10 ? '0' : '') + day;

                var minDateEN = defaultDate.getFullYear() + '/' +
                    (month < 10 ? '0' : '') + month + '/' +
                    (day < 10 ? '0' : '') + day;

                currentDateTH = (day < 10 ? '0' : '') + day + '/' +
                  (month < 10 ? '0' : '') + month + '/' +
                  (defaultDate.getFullYear() + 543);

                var currentDateEN = (day < 10 ? '0' : '') + day + '/' +
                    (month < 10 ? '0' : '') + month + '/' +
                    defaultDate.getFullYear();

                //var defaultDateMax = new Date(new Date().getTime() + 1200 * 60 * 60 * 1000);
                var defaultDateMax = new Date(parseInt(YearNow), parseInt(MonthNow) - 1, parseInt(DateNow) + 50);
                var monthMax = defaultDateMax.getMonth() + 1;
                var dayMax = defaultDateMax.getDate();

                var maxDateTH = (defaultDateMax.getFullYear() + 543) + '/' +
                   (monthMax < 10 ? '0' : '') + monthMax + '/' +
                   (dayMax < 10 ? '0' : '') + dayMax;

                var maxDateEN = defaultDateMax.getFullYear() + '/' +
                    (monthMax < 10 ? '0' : '') + monthMax + '/' +
                    (dayMax < 10 ? '0' : '') + dayMax;

                minDate = minDateEN;
                maxDate = maxDateEN;
                currentDate = currentDateEN;
            }

            var onSelectDate = function (ct, $i) {
                var value = this.value();
                var ctThmonth = value.getMonth() + 1;
                var ctThday = value.getDate();

                var ctTh = (ctThday < 10 ? '0' : '') + ctThday + '/' +
                   (ctThmonth < 10 ? '0' : '') + ctThmonth + '/' +
                   value.getFullYear();

                var datethai = convertToThaiDate(ctTh);
                $("#dtpInstallDateTH_text").val(ctTh);
                getAppointment(datethai, true, "divTimeSlot", timeSlot);
            };

            var onSelectDateEN = function (ct, $i) {
                var value = this.value();
                var ctEnmonth = value.getMonth() + 1;
                var ctEnday = value.getDate();

                var ctEn = (ctEnday < 10 ? '0' : '') + ctEnday + '/' +
                   (ctEnmonth < 10 ? '0' : '') + ctEnmonth + '/' +
                   value.getFullYear();
                getAppointment(ctEN, true, "divTimeSlot", timeSlot);
            };

            //$("#dtpInstallDateTH_text").kendoDatePicker({
            //    format: "dd/MM/yyyy",
            //    culture: "th-TH",
            //    animation: {
            //        close: {
            //            effects: "zoom:out",
            //            duration: 300
            //        }
            //    },
            //    minDate: minDate,
            //    maxDate: maxDate,
            //   // value: currentDate,
            //    change: onSelectDate
            //});

            $(".k-window").css('z-index', 9999); // for display on popup
            $("#dtpInstallDateTH").css('z-index', 99999);
            $("#dtpInstallDateTH_text").css('z-index', 99999);

            var _mindate = new Date();
            _mindate.setDate(_mindate.getDate() + 2);
            var _currentDate = new Date();
            _currentDate.setDate(_currentDate.getDate() + 2);
            var _maxdate = new Date();
            _maxdate.setDate(_maxdate.getDate() + 27);

            //console.log(_mindate);
            //console.log(_maxdate.toString());
            $("#dtpInstallDateTH").datetimepicker({
                minDate: _mindate,
                maxDate: _maxdate,
                value: _currentDate,
                format: 'd/m/Y',
                lang: "th",
                timepicker: false,
                closeOnDateSelect: true,
                isBuddhist: true,
                onGenerate: function (ct) {
                    jQuery(this).find('.xdsoft_disabled')
                      .toggleClass('xdsoft_date');
                },
                onSelectDate: function (dateInput) {
                    var _date = new Date(dateInput);
                    var _temp_dd = _date.getDate();
                    var _temp_mm = (_date.getMonth() + 1);
                    var _temp_yyyy = _date.getFullYear().toString();
                    var _temp_text_yyyy = _date.getFullYear().toString();
                    //console.log(_temp_text_yyyy);
                    if (((_date.getFullYear().toString() - 1) + 1) <= 2300)
                        _temp_yyyy = (((_date.getFullYear().toString() - 1) + 1) + 543);
                    if (((_date.getFullYear().toString() - 1) + 1) >= 2800)
                        _temp_text_yyyy = (((_date.getFullYear().toString() - 1) + 1) - 543);

                    if (_temp_dd.toString().length == 1) _temp_dd = "0" + _temp_dd.toString();
                    if (_temp_mm.toString().length == 1) _temp_mm = "0" + _temp_mm.toString();
                    var _temp_date_result = _temp_dd + "/" + _temp_mm + "/" + _temp_yyyy;
                    $("#dtpInstallDateTH").val(_temp_dd + "/" + _temp_mm + "/" + _temp_text_yyyy);

                    $("#dtpInstallDateTH_text").val(_temp_date_result);
                    //alert($("#dtpInstallDateTH_text").val());
                    getAppointment($("#dtpInstallDateTH_text").val(), true, "divTimeSlot");
                },
            });
            $("#dtpInstallDateTH_text").click(function () {
                $("#dtpInstallDateTH").trigger('open.xdsoft');
            });

            //  --------edit binding data from database
            //alert(appointmentDate);

            appointmentDate = appointmentDate.split("/")[1] + "/" + appointmentDate.split("/")[0] + "/" + ((((appointmentDate.split("/")[2]) - 1) + 1) + 543);
            //appointmentDate = "01/01/2556"
            //console.log(appointmentDate);
            //console.log(((((appointmentDate.split("/")[2]) - 1) + 1) + 543));
            var d = new Date(appointmentDate || Date.now()),
            month = '' + (d.getMonth() + 1),
            day = '' + d.getDate(),
            year = (((d.getFullYear() - 1) + 1) + 543);

            //console.log(appointmentDate);
            if (day.toUpperCase() == "NAN") {
                $("#dtpInstallDateTH_text").val(appointmentDate);
            } else {
                //alert(appointmentDate);
                var temp_appointment_dd = appointmentDate.split("/")[1];
                var temp_appointment_mm = appointmentDate.split("/")[0];
                var temp_appointment_yyyy = appointmentDate.split("/")[2];

                /// Effect from save with officer "resgister page"
                if (temp_appointment_yyyy >= 2800) {
                    temp_appointment_yyyy = ((((temp_appointment_yyyy) - 1) + 1) - (543));
                }
                else if (temp_appointment_yyyy <= 2300) {
                    temp_appointment_yyyy = ((((temp_appointment_yyyy) - 1) + 1) + (543));
                }

                if (temp_appointment_dd.length == 1) temp_appointment_dd = ("0" + temp_appointment_dd);
                if (temp_appointment_mm.length == 1) temp_appointment_mm = ("0" + temp_appointment_mm);

                $("#dtpInstallDateTH_text").val(temp_appointment_dd + "/" + temp_appointment_mm + "/" + temp_appointment_yyyy);
            }

            currentDateTH = $("#dtpInstallDateTH_text").val();//convertToThaiDate($("#dtpInstallDateTH_text").val());
            //alert($("#dtpInstallDateTH_text").val());
            //alert(currentDateTH);
            //  ----------end--------------------------
            var _dtpInstallDateTH_dd = currentDateTH.split("/")[0];
            var _dtpInstallDateTH_mm = currentDateTH.split("/")[1];
            var _dtpInstallDateTH_yyyy = currentDateTH.split("/")[2];
            if (((_dtpInstallDateTH_yyyy - 1) + 1) > 2700) _dtpInstallDateTH_yyyy = (_dtpInstallDateTH_yyyy + 543);
            var _dtpInstallDateTH_text = _dtpInstallDateTH_dd + "/" + _dtpInstallDateTH_mm + "/" + _dtpInstallDateTH_yyyy;
            //alert(_dtpInstallDateTH_text);

            if ($("#LanguagePage").val() == "1") {
                getAppointment(_dtpInstallDateTH_text, true, "divTimeSlot", timeSlot);
                //getAppointment(currentDateTH, true, "divTimeSlot");
            }
            else {
                getAppointment(currentDateEN, false, "divTimeSlot", timeSlot);
            }

        },
    });

}

function convertDateDDMMYYYY(date) {
    var d = new Date(date || Date.now()),
        month = '' + (d.getMonth() + 1),
        day = '' + d.getDate(),
        year = d.getFullYear();

    if (month.length < 2) month = '0' + month;
    if (day.length < 2) day = '0' + day;

    return [day, month, year].join('/');

    //var year = date.getFullYear();
    // alert(year);
    //var month = (1 + date.getMonth()).toString();
    //month = month.length > 1 ? month : '0' + month;

    //var day = date.getDate().toString();
    //day = day.length > 1 ? day : '0' + day;
    //return day + '/' + month + '/' + year;
}

function convertToThaiDate(englishDate) {
    var dd = englishDate.substring('0', '2');
    var MM = englishDate.substring('3', '5');
    var yyyy = englishDate.substring('6', '10');
    var year = parseInt(yyyy, 10) + 543;
    return dd + "/" + MM + "/" + year;
}

function convertToEnDate(englishDate) {
    var dd = englishDate.substring('0', '2');
    var MM = englishDate.substring('3', '5');
    var yyyy = englishDate.substring('6', '10');
    var year = parseInt(yyyy, 10);
    return dd + "/" + MM + "/" + year;
}

var Temp_Count_TimeSlot = 0;
function getAppointment(e, isThai, timeSlotId, timeSlot) {
    //console.log(" e : " + e + " isThai : " + e + " timeSlotId : " + e + " timeSlot : " + timeSlot);
    $("#divResponsiveTimeSLot").hide();
    var i = $("input[name=SelectPackage]:checked").val();

    var installDate = e;
    $("#L_INSTALL_DATE").val("");
    //console.log(Temp_EditResendOrder);
    var _params = {
        'installation_Date': installDate
        , "access_Mode": $("#ACCESS_MODE" + i).val()
        , "address_Id": $("#hdL_AddressId").val() //$("#ZTEAddressID").val(),
        , "serviceCode": $("#ACCESS_MODE" + i).val()
        , "district": $('#AmphurSetup :selected').text()
        , "subDistrict": $('#TumbonSetup :selected').text()
        , "province": $('#ProvinceSetup :selected').text()
        , "postalCode": $("#ZipCodeSetup :selected").text()
        , "lineSelect": 1
        , "days": dayTimeslot
        , "productSpecCode": $("#SERVICE_CODE" + i).val()
        , "isThai": isThai
        , "timeSlotId": timeSlotId
        , "smallSize": false
        , "timeSlot": timeSlot
        , "SubAccessMode": ""
    };
    //console.log(_params);

    $.ajax({
        type: "GET",
        url: "/CustomerRegister/GetAppointment",
        async: false,
        data: _params,
        dataType: "json",
        success: function (_data) {
            var data = _data;
            //console.log(data);
            setTimeout(function () {
                $("#" + timeSlotId).html(data.timeSlotData);
                $("#divTimeSlotRemark").html(data.timeSlotRemark);

                var dataCount = data.timeSlotData.toString().indexOf("List data = 0");
                var dataNull = data.timeSlotData.toString().indexOf(" Data null");
                var dataError = data.timeSlotData.toString().indexOf("Data error");

                $("#dataCount").val(dataCount);
                $("#dataNull").val(dataNull);
                $("#dataError").val(dataError);

                var SHOW_TIME_SLOT = data.timeDataflag;

                if (SHOW_TIME_SLOT == "N" || $("#ZTEAddressID").val() == "") {
                    $("#divInstallDate").hide();
                    $("#divResponsiveTimeSLot").hide();
                    $('#CustomerRegisterPanelModel_FBSSTimeSlot_AppointmentDate').val("");
                    $('#CustomerRegisterPanelModel_FBSSTimeSlot_InstallationCapacity').val("");
                    $('#CustomerRegisterPanelModel_FBSSTimeSlot_TimeSlot').val("");
                    $('#CustomerRegisterPanelModel_FBSSTimeSlot_TimeSlotId').val("");

                    $('#L_INSTALL_DATE').val("");
                    $("#L_EVENT_CODE").attr('disabled', true);
                    //console.log("no show");
                } else {
                    if (dataCount != "-1" || dataNull != "-1" || dataError != "-1") {
                        $('#CustomerRegisterPanelModel_FBSSTimeSlot_AppointmentDate').val($("#" + timeSlotId).find("input[name='FBSSAppointmentDate']").val());
                        $('#CustomerRegisterPanelModel_FBSSTimeSlot_InstallationCapacity').val($("#" + timeSlotId).find("input[name='FBSSInstallationCapacity']").val());
                        $('#CustomerRegisterPanelModel_FBSSTimeSlot_TimeSlot').val($("#" + timeSlotId).find("input[name='FBSSTimeSlot']").val());
                        $('#CustomerRegisterPanelModel_FBSSTimeSlot_TimeSlotId').val($("#" + timeSlotId).find("input[name='TimeSlotId']").val());
                        $('#L_INSTALL_DATE').val($("#" + timeSlotId).find("input[name='FBSSInstallDate']").val());
                        console.log("TimeSlot No Show : " + Temp_Count_TimeSlot);
                        Temp_Count_TimeSlot++;
                        if (Temp_Count_TimeSlot < 3) {
                            setTimeout(function () { getAppointment(e, isThai, timeSlotId, timeSlot); }, 5000)
                        }
                    } else {
                        $("#divResponsiveTimeSLot").show();
                        //console.log("TimeSlot Show");
                    }
                }
            }, 0);
        },
    });
}

function onDayItemClick(t, timeSlotId) {

    var parentDiv = $(t).parent();

    if ($(t).find(".color-red").length > 0) {
        return;
    }

    $("#" + timeSlotId).find(".select-header").hide();
    $("#" + timeSlotId).find(".day-item").removeClass("day-item-select");
    $("#" + timeSlotId).find(".day-footer").hide();
    $("#" + timeSlotId).find(".header-label").show();
    $("#" + timeSlotId).find(".header-label-hidden").hide();

    $('#CustomerRegisterPanelModel_FBSSTimeSlot_AppointmentDate').val("");
    $('#CustomerRegisterPanelModel_FBSSTimeSlot_InstallationCapacity').val("");
    $('#CustomerRegisterPanelModel_FBSSTimeSlot_TimeSlot').val("");
    $('#CustomerRegisterPanelModel_FBSSTimeSlot_TimeSlotId').val("");
    $('#L_INSTALL_DATE').val("");

    if ($(t).find(".color-green").length > 0) {

        $(t).find(".color-green").removeClass().addClass("fa fa-circle color-gray");
        return;
    }
    else if ($("#" + timeSlotId).find(".color-green").length > 0) {
        $("#" + timeSlotId).find(".color-green").removeClass().addClass("fa fa-circle color-gray");
    }

    if ($(t).find(".color-gray").length > 0) {

        $(parentDiv).find(".select-header").show();
        $(parentDiv).find(".day-item").addClass("day-item-select");
        $(parentDiv).find(".day-footer").show();

        $(parentDiv).find(".header-label").hide();
        $(parentDiv).find(".header-label-hidden").show();

        $(t).find(".color-gray").removeClass("color-gray").addClass("color-green");

        $('#CustomerRegisterPanelModel_FBSSTimeSlot_AppointmentDate').val($(t).find("input[name='FBSSAppointmentDate']").val());
        $('#CustomerRegisterPanelModel_FBSSTimeSlot_InstallationCapacity').val($(t).find("input[name='FBSSInstallationCapacity']").val());
        $('#CustomerRegisterPanelModel_FBSSTimeSlot_TimeSlot').val($(t).find("input[name='FBSSTimeSlot']").val());
        $('#CustomerRegisterPanelModel_FBSSTimeSlot_TimeSlotId').val($(t).find("input[name='TimeSlotId']").val());
        $('#L_INSTALL_DATE').val($(t).find("input[name='FBSSInstallDate']").val());

    }
}


//15/02/2560 เพิ่มเรื่อง uplodFile

function get_browser_info() {
    var ua = navigator.userAgent, tem, M = ua.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i) || [];
    if (/trident/i.test(M[1])) {
        tem = /\brv[ :]+(\d+)/g.exec(ua) || [];
        return { name: 'IE', version: (tem[1] || '') };
    }
    if (M[1] === 'Chrome') {
        tem = ua.match(/\bOPR\/(\d+)/)
        if (tem != null) { return { name: 'Opera', version: tem[1] }; }
    }
    M = M[2] ? [M[1], M[2]] : [navigator.appName, navigator.appVersion, '-?'];
    if ((tem = ua.match(/version\/(\d+)/i)) != null) { M.splice(1, 1, tem[1]); }
    return {
        name: M[0],
        version: M[1]
    };
}

function toastrErrorMessage(message) {
    toastr.options.positionClass = "toast-top-center";
    toastr.options.closeButton = true;
    toastr.error(message);
}

function toastrSuccessMessage(message) {
    toastr.options.positionClass = "toast-top-center";
    toastr.options.closeButton = true;
    toastr.success(message);
}

function validateUploadFile(maxSize, fileType, idTextPath, fileClient) {
    var browser = get_browser_info();
    if (browser.name != "MSIE") /// not IE
    {
        /// check file size

        //if (((fileClient.files[0].size) / 1024) > maxSize) {

        //    $("#" + idTextPath).removeClass('form-control').addClass('form-control errorinput');
        //    $("#err003").html("@lERR_FILE_SIZE");
        //    $("#" + idTextPath).val("");
        //    return;
        //}

        /// check file type
        var chk = false;
        var txt = "";
        fileType = fileType.split('|');
        for (var i = 0; i < fileType.length; i++) {
            if (fileType[i].toUpperCase() == fileClient.files[0].name.substr((fileClient.files[0].name.lastIndexOf('.') + 1)).toUpperCase()) {
                chk = true;
                break;
            }
        }

        if (!chk) {
            $("#" + idTextPath).removeClass('form-control').addClass('form-control errorinput');
            toastrErrorMessage($('#HDLERR_FILE_TYPE').val());
            $("#" + idTextPath).val("");

            return;
        }
        else {
            $("#" + idTextPath).removeClass('form-control errorinput').addClass('form-control');
            $("#" + idTextPath).val(fileClient.files[0].name);
        }
    }
    else {

        var objFSO = new ActiveXObject("Scripting.FileSystemObject");
        var file = $(fileClient)[0].value;
        var objFile = objFSO.getFile(file);
        var objFileName = objFSO.GetFileName(file)

        /// check file type
        //var fileSize = objFile.size; //size in kb

        //if ((fileSize / 1024) > maxSize) {
        //    $("#" + idTextPath).removeClass('form-control').addClass('form-control errorinput');
        //    $("#err003").html("@lERR_FILE_SIZE");
        //    $("#" + idTextPath).val("");
        //    return;
        //}
        /// check file type

        var chk = false;
        var txt = "";
        fileType = fileType.split('|');
        for (var i = 0; i < fileType.length; i++) {
            if (file.substr(file.lastIndexOf('.') + 1).toUpperCase() == fileType[i].toUpperCase()) {
                chk = true;
                break;
            }
        }
        if (!chk) {
            $("#" + idTextPath).removeClass('form-control').addClass('form-control errorinput');
            toastrErrorMessage($('#HDLERR_FILE_TYPE').val());
            $("#" + idTextPath).val("");
            return;
        }
        else {
            $("#" + idTextPath).removeClass('form-control errorinput').removeClass('textFieldFalse').addClass('form-control');
            $("#" + idTextPath).val(objFileName);
        }
    }

    $("#" + idTextPath).removeClass('form-control errorinput').removeClass('textFieldFalse').addClass('form-control');
}

var currentPhotoFileType = "";

function aisNativeTakePhoto(p_fileType) {
    currentPhotoFileType = p_fileType;
    aisNative.takePhotoFromCamera();
}

function readURLPic(input, type, type2) {
    if (input.files && input.files[0]) {
        var reader = new FileReader();
        //console.log(input.files[0]);
        reader.onload = function (e) {
            //console.log(e.target.result)
            if (input.files[0].type != "application/pdf") {
                $(type).attr('src', e.target.result);
                if (type == "#imgAtth1")
                    pic1dl = e.target.result;
                if (type == "#imgAtth2")
                    pic2dl = e.target.result;
                if (type == "#imgAtth3")
                    pic3dl = e.target.result;
                if (type == "#imgAtth4")
                    pic4dl = e.target.result;
                if (type == "#imgAtth5")
                    pic5dl = e.target.result;
                if (type == "#imgAtth6")
                    pic6dl = e.target.result;
                if (type == "#imgAtth7")
                    pic7dl = e.target.result;
                if (type == "#imgAtth8")
                    pic8dl = e.target.result;
                if (type == "#imgAtth9")
                    pic9dl = e.target.result;
                $(type).show();
                $(type2).hide();
            }
            else {
                showInCanvas(e.target.result, type2)
                $(type).hide();
                $(type2).show();

                if (type2 == "#canvasAtth1")
                    pic1dl = e.target.result;
                if (type2 == "#canvasAtth2")
                    pic2dl = e.target.result;
                if (type2 == "#canvasAtth3")
                    pic3dl = e.target.result;
                if (type2 == "#canvasAtth4")
                    pic4dl = e.target.result;
                if (type2 == "#canvasAtth5")
                    pic5dl = e.target.result;
                if (type2 == "#canvasAtth6")
                    pic6dl = e.target.result;
                if (type2 == "#canvasAtth7")
                    pic7dl = e.target.result;
                if (type2 == "#canvasAtth8")
                    pic8dl = e.target.result;
                if (type2 == "#canvasAtth9")
                    pic9dl = e.target.result;
            }
        }
        reader.readAsDataURL(input.files[0]);
    }
}

function onRemoveUpload_Click(e, idTextImege, idFile, fileTakePhoto, imgPhoto) {
    RemoveUpload(idTextImege, idFile, fileTakePhoto, imgPhoto);
}

function RemoveUpload(idTextImege, idFile, fileTakePhoto, imgPhoto) {
    $('#' + idTextImege).val("");
    try {
        $('#hidden_' + idTextImege).val("");
    }
    catch (ex) { }

    var img = document.getElementById(imgPhoto);
    img.setAttribute("src", 'data:image/jpg;base64,""');

    var control = $('#' + idFile);
    control.replaceWith(control = control.clone(true));
    if (typeof aisNative == "undefined" || typeof aisNative == "" || typeof aisNative == null) {

    }
    else {

        $.ajax({
            type: "POST",
            url: "/Process/RemovePhoto",
            data: { 'control_id': fileTakePhoto },
            dataType: "json",
            success: function (data) {

            }
        });

        $.ajax({
            type: "POST",
            url: "/Process/signature_flag",
            data: { 'status': 'N' },
            dataType: "json",
            success: function (data) {

            }
        });

    }

    //reload after remove file
    var iframe = document.getElementById('iframeCard');
    iframe.src = iframe.src;
}

//End เพิ่มเรื่อง uplodFile 20/02/2560

$('#divShowStaffSection').css("cursor", "pointer");
$('#divShowStaffSection').click(function () {
    $("#divStaffSection").slideToggle("fast");
    $('i.fa.fa-plus').toggleClass('fa-minus');
});

function closeModal() {
    $('.k-widget.k-window').hide();
}

var temp_Result_timeslot;
function Validate_Submit() {

    var _Result = true;
    var _Message = "";
    var _Message_Tab = "";

    var _divAddressVat = document.getElementById("divAddressVat").style.display.trim();
    var _L_MOBILE = $("#L_MOBILE").val().trim();
    var _L_OR = $("#L_OR").val().trim();
    var _L_EMAIL = $("#L_EMAIL").val().trim();
    var _L_FIRST_NAME = $("#L_FIRST_NAME").val().trim();
    var _L_LAST_NAME = $("#L_LAST_NAME").val().trim();
    var _L_CARD_NO = $("#L_CARD_NO").val().trim();
    var _txtHomePhone = $("#txtHomePhone").val().trim();
    var _AddressPanelModelSetup_L_HOME_NUMBER_2 = $("#AddressPanelModelSetup_L_HOME_NUMBER_2").val().trim();
    var _AddressPanelModelSendDoc_L_HOME_NUMBER_2 = $("#AddressPanelModelSendDoc_L_HOME_NUMBER_2").val().trim();
    var _AddressPanelModelVat_L_HOME_NUMBER_2 = $("#AddressPanelModelVat_L_HOME_NUMBER_2").val().trim();
    var _L_GOVERNMENT_NAME = $("#L_GOVERNMENT_NAME").val().trim();
    var _L_CONTACT_PERSON = $("#L_CONTACT_PERSON").val().trim();
    var _hdL_TopUp = $("#hdL_TopUp").val().trim();

    var _ddlGender = $("#ddlGender").data('kendoDropDownList').select();
    var _ddlDay = $("#ddlDay").data('kendoDropDownList').select();
    var _ddlMonth = $("#ddlMonth").data('kendoDropDownList').select();
    var _ddlYear = $("#ddlYear").data('kendoDropDownList').select();
    var _TITLE_CODE = $("#TITLE_CODE").data('kendoDropDownList').select();
    var _ID_CARD_NAME = $("#ID_CARD_NAME").data('kendoDropDownList').select();
    var _ID_CARD_NAME_text = $("#ID_CARD_NAME").data('kendoDropDownList').value();
    var _ContactTime = $("#ContactTime").data('kendoDropDownList').select();

    var _textImage = $("#textImage").val().trim();
    var _textImageG1 = $("#textImageG1").val().trim();
    var _textImageG2 = $("#textImageG2").val().trim();
    var _textImageB1 = $("#textImageB1").val().trim();
    var _textImageB2 = $("#textImageB2").val().trim();
    var _textImageB3 = $("#textImageB3").val().trim();

    var _divTimeSlot = $(".color-green").length; // Div
    var _TumbonSetup = $("#TumbonSetup").data('kendoDropDownList').select();
    var _AmphurSetup = $("#AmphurSetup").data('kendoDropDownList').select();
    var _ProvinceSetup = $("#ProvinceSetup").data('kendoDropDownList').select();
    var _ZipCodeSetup = $("#ZipCodeSetup").data('kendoDropDownList').select();
    var _TumbonSendDoc = $("#TumbonSendDoc").data('kendoDropDownList').select();
    var _AmphurSendDoc = $("#AmphurSendDoc").data('kendoDropDownList').select();
    var _ProvinceSendDoc = $("#ProvinceSendDoc").data('kendoDropDownList').select();
    var _ZipCodeSendDoc = $("#ZipCodeSendDoc").data('kendoDropDownList').select();

    var _TumbonVat = $("#TumbonVat").data('kendoDropDownList').select();
    var _AmphurVat = $("#AmphurVat").data('kendoDropDownList').select();
    var _ProvinceVat = $("#ProvinceVat").data('kendoDropDownList').select();
    var _ZipCodeVat = $("#ZipCodeVat").data('kendoDropDownList').select();

    Clear_Style_Validate();
    if (_L_MOBILE.length < 10) {
        $("#L_MOBILE").addClass("errorinput");
        if (_Result == true) _Result = false;
        if (_Message_Tab == "") _Message_Tab = "3";
    }
    if (_L_OR.length > 0 && _L_OR.length < 10) {
        $("#L_OR").addClass("errorinput");
        if (_Result == true) _Result = false;
        if (_Message_Tab == "") _Message_Tab = "3";
    }
    if (_L_EMAIL.length > 0) {
        if (validateEmail2(_L_EMAIL) == false) {
            $("#L_EMAIL").addClass("errorinput");
            if (_Result == true) _Result = false;
            if (_Message_Tab == "") _Message_Tab = "3";
        }
    }
    if (($('input[name="typeselect"]:checked').val() == "R")) {
        if (_L_FIRST_NAME == "") {
            $("#L_FIRST_NAME").addClass("errorinput");
            if (_Result == true) _Result = false;
            if (_Message_Tab == "") _Message_Tab = "3";
        }
        if (_L_LAST_NAME == "") {
            $("#L_LAST_NAME").addClass("errorinput");
            if (_Result == true) _Result = false;
            if (_Message_Tab == "") _Message_Tab = "3";
        }
        if (_ddlGender <= 0) {
            $("#ddlGender").parent().children().addClass("dropdown-validation-error");
            if (_Result == true) _Result = false;
            if (_Message_Tab == "") _Message_Tab = "3";
        }
        if (_ddlDay <= 0) {
            $("#ddlDay").parent().children().addClass("dropdown-validation-error");
            if (_Result == true) _Result = false;
            if (_Message_Tab == "") _Message_Tab = "3";
        }
        if (_ddlMonth <= 0) {
            $("#ddlMonth").parent().children().addClass("dropdown-validation-error");
            if (_Result == true) _Result = false;
            if (_Message_Tab == "") _Message_Tab = "3";
        }
        if (_ddlYear <= 0) {
            $("#ddlYear").parent().children().addClass("dropdown-validation-error");
            if (_Result == true) _Result = false;
            if (_Message_Tab == "") _Message_Tab = "3";
        }
        if (_textImage == "") {
            $("#textImage").addClass("errorinput");
            if (_Result == true) _Result = false;
            if (_Message_Tab == "") _Message_Tab = "3";
        }

    }
    else if (($('input[name="typeselect"]:checked').val() == "G")) {
        //if (_TITLE_CODE <= 0) {
        //    $("#TITLE_CODE").parent().children().addClass("dropdown-validation-error");
        //    if (_Result == true) _Result = false;
        //    if (_Message_Tab == "") _Message_Tab = "3";
        //}
        if (_L_GOVERNMENT_NAME == "") {
            $("#L_GOVERNMENT_NAME").addClass("errorinput");
            if (_Result == true) _Result = false;
            if (_Message_Tab == "") _Message_Tab = "3";
        }
        if (_L_CONTACT_PERSON == "") {
            $("#L_CONTACT_PERSON").addClass("errorinput");
            if (_Result == true) _Result = false;
            if (_Message_Tab == "") _Message_Tab = "3";
        }
        if (_textImageG1 == "") {
            $("#textImageG1").addClass("errorinput");
            if (_Result == true) _Result = false;
            if (_Message_Tab == "") _Message_Tab = "3";
        }
        if (_textImageG2 == "") {
            $("#textImageG2").addClass("errorinput");
            if (_Result == true) _Result = false;
            if (_Message_Tab == "") _Message_Tab = "3";
        }
    }
    else if (($('input[name="typeselect"]:checked').val() == "B")) {
        //if (_TITLE_CODE <= 0) {
        //    $("#TITLE_CODE").parent().children().addClass("dropdown-validation-error");
        //    if (_Result == true) _Result = false;
        //    if (_Message_Tab == "") _Message_Tab = "3";
        //}
        if (_L_GOVERNMENT_NAME == "") {
            $("#L_GOVERNMENT_NAME").addClass("errorinput");
            if (_Result == true) _Result = false;
            if (_Message_Tab == "") _Message_Tab = "3";
        }
        if (_L_CONTACT_PERSON == "") {
            $("#L_CONTACT_PERSON").addClass("errorinput");
            if (_Result == true) _Result = false;
            if (_Message_Tab == "") _Message_Tab = "3";
        }
        if (_textImageB1 == "") {
            $("#textImageB1").addClass("errorinput");
            if (_Result == true) _Result = false;
            if (_Message_Tab == "") _Message_Tab = "3";
        }
        if (_textImageB2 == "") {
            $("#textImageB2").addClass("errorinput");
            if (_Result == true) _Result = false;
            if (_Message_Tab == "") _Message_Tab = "3";
        }
        if (_textImageB3 == "") {
            $("#textImageB3").addClass("errorinput");
            if (_Result == true) _Result = false;
            if (_Message_Tab == "") _Message_Tab = "3";
        }
    }


    /// 
    if (_ID_CARD_NAME <= 0) {
        $("#ID_CARD_NAME").parent().children().addClass("dropdown-validation-error");
        if (_Result == true) _Result = false;
        if (_Message_Tab == "") _Message_Tab = "3";
    }
    if (_L_CARD_NO == "") {
        $("#L_CARD_NO").addClass("errorinput");
        if (_Result == true) _Result = false;
        if (_Message_Tab == "") _Message_Tab = "3";
    }
    //-------------------------------- 
    //console.log($("#ID_CARD_NAME").data('kendoDropDownList').value());
    //console.log($('#ID_CARD_NAME :selected').val());
    if (_ID_CARD_NAME_text == "PASSPORT" && _L_CARD_NO.length < 4) {
        $("#L_CARD_NO").addClass("errorinput");
        if (_Result == true) _Result = false;
        if (_Message_Tab == "") _Message_Tab = "3";
    }
    if (_ID_CARD_NAME_text == "GOV_LET" && _L_CARD_NO.length < 4) {
        $("#L_CARD_NO").addClass("errorinput");
        if (_Result == true) _Result = false;
        if (_Message_Tab == "") _Message_Tab = "3";
    }
    if (_ID_CARD_NAME_text == "EMB_LET" && _L_CARD_NO.length < 4) {
        $("#L_CARD_NO").addClass("errorinput");
        if (_Result == true) _Result = false;
        if (_Message_Tab == "") _Message_Tab = "3";
    }
    if (_ID_CARD_NAME_text == "STA_LET" && _L_CARD_NO.length < 4) {
        $("#L_CARD_NO").addClass("errorinput");
        if (_Result == true) _Result = false;
        if (_Message_Tab == "") _Message_Tab = "3";
    }
    if (_ID_CARD_NAME_text == "CERT_FOUND" && _L_CARD_NO.length < 4) {
        $("#L_CARD_NO").addClass("errorinput");
        if (_Result == true) _Result = false;
        if (_Message_Tab == "") _Message_Tab = "3";
    }
    if (_ID_CARD_NAME_text == "TAX_ID" && _L_CARD_NO.length < 4) {
        $("#L_CARD_NO").addClass("errorinput");
        if (_Result == true) _Result = false;
        if (_Message_Tab == "") _Message_Tab = "3";
    }
    //--------------------------------
    if (validateIdCard(_L_CARD_NO) == false) {
        $("#L_CARD_NO").addClass("errorinput");
        if (_Result == true) _Result = false;
        if (_Message_Tab == "") _Message_Tab = "3";
    }
    //if (_ContactTime <= 0) {
    //    $("#ContactTime").parent().children().addClass("dropdown-validation-error");
    //    if (_Result == true) _Result = false;
    //    if (_Message_Tab == "") _Message_Tab = "3";
    //}

    if ($('input[name=L_HAVE_FIXED_LINE]:checked').val() == "Y") { // Radio ?
        if (_txtHomePhone.length < 9) {
            $("#txtHomePhone").addClass("errorinput");
            if (_Result == true) _Result = false;
            if (_Message_Tab == "") _Message_Tab = "3";
        }
    }

    if (_divTimeSlot <= 0) {
        $("#divTimeSlot").addClass("dropdown-validation-error");
        $("#dtpInstallDateTH_text").addClass("errorinput");
        if (_Result == true) _Result = false;
        if (_Message_Tab == "") _Message_Tab = "3";
    }
    if (Validate_tabCustInfo_Maxlength() == false) {
        if (_Result == true) _Result = false;
        if (_Message_Tab == "") _Message_Tab = "3";
    }
    if (_hdL_TopUp == "5") { // Officer
        var _chkEventCode = $("#chkEventCode").prop("checked");
        var _L_LOC_CODE = $("#L_LOC_CODE").val().trim();
        var _CPE_Serial = $("#CPE_Serial").val().trim();
        var _PlayBox_Serial = $("#PlayBox_Serial").val().trim();

        if (_L_LOC_CODE == "") {
            $("#L_LOC_CODE").addClass("errorinput");
            if (_Result == true) _Result = false;
            if (_Message_Tab == "") _Message_Tab = "3";
        }
        if (_chkEventCode == true) {
            if (_CPE_Serial == "") {
                $("#CPE_Serial").addClass("errorinput");
                if (_Result == true) _Result = false;
                if (_Message_Tab == "") _Message_Tab = "3";
            }
            if (is_PlayBox_Serial == true) {
                if (_PlayBox_Serial == "") {
                    $("#PlayBox_Serial").addClass("errorinput");
                    if (_Result == true) _Result = false;
                    if (_Message_Tab == "") _Message_Tab = "3";
                }
            }
            if (_Result == true) { // first input data to textbox
                if (Validate_officer() == false) {
                    if (_Result == true) _Result = false;
                    if (_Message_Tab == "") _Message_Tab = "3";
                    return;

                }
            }
        }
    }

    ////#tabInstallPlace
    if (_AddressPanelModelSetup_L_HOME_NUMBER_2 == "") {
        $("#AddressPanelModelSetup_L_HOME_NUMBER_2").addClass("errorinput");
        if (_Result == true) _Result = false;
        if (_Message_Tab == "") _Message_Tab = "4";
    }
    if (_AddressPanelModelSendDoc_L_HOME_NUMBER_2 == "") {
        $("#AddressPanelModelSendDoc_L_HOME_NUMBER_2").addClass("errorinput");
        if (_Result == true) _Result = false;
        if (_Message_Tab == "") _Message_Tab = "4";
    }
    if (_TumbonSetup <= 0) {
        $("#TumbonSetup").parent().children().addClass("dropdown-validation-error");
        if (_Result == true) _Result = false;
        if (_Message_Tab == "") _Message_Tab = "4";
    }
    if (_AmphurSetup <= 0) {
        $("#AmphurSetup").parent().children().addClass("dropdown-validation-error");
        if (_Result == true) _Result = false;
        if (_Message_Tab == "") _Message_Tab = "4";
    }
    if (_ProvinceSetup <= 0) {
        $("#ProvinceSetup").parent().children().addClass("dropdown-validation-error");
        if (_Result == true) _Result = false;
        if (_Message_Tab == "") _Message_Tab = "4";
    }
    if (_ZipCodeSetup <= 0) {
        $("#ZipCodeSetup").parent().children().addClass("dropdown-validation-error");
        if (_Result == true) _Result = false;
        if (_Message_Tab == "") _Message_Tab = "4";
    }
    if (_TumbonSendDoc <= 0) {
        $("#TumbonSendDoc").parent().children().addClass("dropdown-validation-error");
        if (_Result == true) _Result = false;
        if (_Message_Tab == "") _Message_Tab = "4";
    }
    if (_AmphurSendDoc <= 0) {
        $("#AmphurSendDoc").parent().children().addClass("dropdown-validation-error");
        if (_Result == true) _Result = false;
        if (_Message_Tab == "") _Message_Tab = "4";
    }
    if (_ProvinceSendDoc <= 0) {
        $("#ProvinceSendDoc").parent().children().addClass("dropdown-validation-error");
        if (_Result == true) _Result = false;
        if (_Message_Tab == "") _Message_Tab = "4";
    }
    if (_ZipCodeSendDoc <= 0) {
        $("#ZipCodeSendDoc").parent().children().addClass("dropdown-validation-error");
        if (_Result == true) _Result = false;
        if (_Message_Tab == "") _Message_Tab = "4";
    }

    //alert(_divAddressVat);
    if (_divAddressVat == "" || _divAddressVat == "block") { //  ที่อยู่ตามภาษี 
        if (_AddressPanelModelVat_L_HOME_NUMBER_2 == "") {
            $("#AddressPanelModelVat_L_HOME_NUMBER_2").addClass("errorinput");
            if (_Result == true) _Result = false;
            if (_Message_Tab == "") _Message_Tab = "4";
        }
        if (_TumbonVat <= 0) {
            $("#TumbonVat").parent().children().addClass("dropdown-validation-error");
            if (_Result == true) _Result = false;
            if (_Message_Tab == "") _Message_Tab = "4";
        }
        if (_AmphurVat <= 0) {
            $("#AmphurVat").parent().children().addClass("dropdown-validation-error");
            if (_Result == true) _Result = false;
            if (_Message_Tab == "") _Message_Tab = "4";
        }
        if (_ProvinceVat <= 0) {
            $("#ProvinceVat").parent().children().addClass("dropdown-validation-error");
            if (_Result == true) _Result = false;
            if (_Message_Tab == "") _Message_Tab = "4";
        }
        if (_ZipCodeVat <= 0) {
            $("#ZipCodeVat").parent().children().addClass("dropdown-validation-error");
            if (_Result == true) _Result = false;
            if (_Message_Tab == "") _Message_Tab = "4";
        }
    }

    if (Validate_tabInstallPlace_Maxlength() == false) {
        if (_Result == true) _Result = false;
        if (_Message_Tab == "") _Message_Tab = "4";
    }
    //--------------------------------------- TimeSlot Validate
    var i = $("input[name=SelectPackage]:checked").val();
    var sentdata = {
        ACCESS_MODE: $("#ACCESS_MODE" + i).val(),
        PROD_SPEC_CODE: $("#SERVICE_CODE" + i).val(),
        ADDRESS_ID: $("#hdL_AddressId").val(),
        LOCATION_CODE: $("#P_L_LOC_CODE").val(), //
        SUBDISTRICT: $('#TumbonSetup :selected').text(),
        POSTAL_CODE: $("#ZipCodeSetup :selected").text(),
        ASSIGN_RULE: $("#hdL_ASSIGN_RULE").val(),
        AISAIRNUMBER: $("#L_MOBILE").val(),
        SUB_ACCESS_MODE: ""
    };
    if ($("#PlugAndPlayFlow").val() == "Y") {
        sentdata.APPOINTMENT_DATE = parseInt(datetemp.split('/')[0].toString()) + "-" + datetemp.split('/')[1] + "-" + datetemp.split('/')[2];
        sentdata.TIME_SLOT = $('#CustomerRegisterPanelModel_FBSSTimeSlot_TimeSlot').val();
    }
    else if ($("#divTimeSlot").find("i.color-green").closest("div").find("input[name='FBSSAppointmentDate']").val() != undefined
            && $("#divTimeSlot").find("i.color-green").closest("div").find("input[name='FBSSTimeSlot']").val() != undefined) {
        sentdata.APPOINTMENT_DATE = $("#divTimeSlot").find("i.color-green").closest("div").find("input[name='FBSSAppointmentDate']").val();
        sentdata.TIME_SLOT = $("#divTimeSlot").find("i.color-green").closest("div").find("input[name='FBSSTimeSlot']").val();
    }
    temp_Result_timeslot = null;
    $.ajax({
        type: "GET",
        url: "/CustomerRegister/ReservedTimeslot",
        data: sentdata,
        dataType: "json",
        async: false,
        success: function (data) {
            if (data.RESULT != "0") {
                $(".color-green").removeClass("color-green").addClass("color-red"); // set time checked to red color
                $("#divTimeSlot").addClass("dropdown-validation-error");
                $("#dtpInstallDateTH_text").addClass("errorinput");
                if (_Result == true) _Result = false;
                if (_Message_Tab == "") _Message_Tab = "3";
            }
            else {
                //console.log(data);
                temp_Result_timeslot = data;
            }
        },
        error: function () {
            console.log(data);
            $(".color-green").removeClass("color-green").addClass("color-red"); // set time checked to red color
            $("#divTimeSlot").addClass("dropdown-validation-error");
            $("#dtpInstallDateTH_text").addClass("errorinput");
            if (_Result == true) _Result = false;
            if (_Message_Tab == "") _Message_Tab = "3";
        }
    });
    //--------------------------------------- TimeSlot Validate

    //console.log(_Message_Tab);
    // Display Massage
    if ($("#LanguagePage").val() == "1") {
        if (_Message_Tab == "3") _Message = 'กรุณาระบุ "ข้อมูลผู้สมัคร" ให้ถูกต้องและครบถ้วน';
        else if (_Message_Tab == "4") _Message = 'กรุณาระบุ "ข้อมูลสถานที่ติดตั้ง" ให้ถูกต้องและครบถ้วน';
    }
    else {
        if (_Message_Tab == "3") _Message = 'Please Register Fill All Required Fields.';
        else if (_Message_Tab == "4") _Message = 'Please Install Address Fill All Required Fields.';
    }
    if (_Message_Tab != "") toastrErrorMessage(_Message);
    return _Result;

}

function Validate_tabCustInfo_Maxlength() {
    var _typeselect = $('input[name="typeselect"]:checked').val()
    var is_tabCustInfo = true;
    $('#tabCustInfo input[type="text"]').each(function (_div_tabCustInfo, el) {
        if (this.maxLength > 0) {
            if (this.maxLength < this.value.trim().length) {
                //console.log("id : " + this.id  + " maxlength : " + this.maxLength + " visible : " + $("#" + this.id).is(':visible') + " textlength : " + this.value.length);
                // do not validate some id by condition
                if (_typeselect == "R") {
                    if (this.id.trim() != "L_GOVERNMENT_NAME" && this.id.trim() != "L_CONTACT_PERSON") {
                        $("#" + this.id).addClass("errorinput");
                        is_tabCustInfo = false;
                    }
                }
                else if (_typeselect == "G" || _typeselect == "B") {
                    if (this.id.trim() != "L_FIRST_NAME" && this.id.trim() != "L_LAST_NAME") {
                        $("#" + this.id).addClass("errorinput");
                        is_tabCustInfo = false;
                    }
                }
            }
        }
    });
    return is_tabCustInfo;
}

var temp_Result_officer;
var temp_Result_officer_CheckSeibel;
function Validate_officer() {
    var _Result = true;
    var _chkEventCode = $("#chkEventCode").prop("checked");
    var _L_LOC_CODE = $("#L_LOC_CODE").val().trim();
    var _L_ASC_CODE = $("#L_ASC_CODE").val().trim();
    //var _L_EVENT_CODE = $("#L_EVENT_CODE").val().trim();
    //if (_L_ASC_CODE == "") {
    //    $("#L_ASC_CODE").addClass("errorinput");
    //    _Result = false;
    //}
    //if (_L_EVENT_CODE.length > 0) {
    //    $("#L_EVENT_CODE").addClass("errorinput");
    //    _Result = false;
    //}

    var chkRequireField = true;
    var CPESerialNo = "";
    var CPEErrorDes = "";
    var CPEStatusDev = "";
    var PBSerialNo = "";
    var PBErrorDes = "";
    var PBStatusDev = "";
    var chkErrorCPE = "";
    var chkErrorPB = "";

    temp_Result_officer = null; // clear
    temp_Result_officer_CheckSeibel = null; // clear
    $("#CPE_Serial").removeClass("errorinput");
    $("#PlayBox_Serial").removeClass("errorinput");
    $("#modal003_txtError").find("#txtCPEError").html("");
    $("#modal003_txtError").find("#txtPBError").html("");

    console.log("_chkEventCode : " + _chkEventCode);
    if (_chkEventCode == true) {
        $.ajax({
            url: '/CustomerRegister/GetCheckCPE',
            data: {
                CPECode: $("#CPE_Serial").val().trim(),
                playbox: $("#PlayBox_Serial").val().trim(),
                idcardNo: $("#L_CARD_NO").val().trim(),
                AisAirNumber: $("#L_MOBILE").val().trim()
            },
            dataType: "json",
            async: false,
            type: 'POST',
            success: function (data) {
                if (data != null || data != undefined) {
                    //console.log(data);
                    $.each(data, function (i, e) {
                        //debugger;
                        //check cpe type error
                        if (e.CPE_TYPE_ERR != "") {
                            if (e.cpe_type == "CPE") {
                                //  toastrErrorMessage(e.CPE_TYPE_ERR);
                                CPESerialNo = e.SN;
                                CPEErrorDes = e.Check_Result_Desc;
                                CPEStatusDev = e.STATUS_DESC;
                                $("#CPE_Serial").removeClass("form-control").addClass("form-control errorinput");
                                $("#modal003_txtError").find("#txtCPESerial").html(CPESerialNo);
                                $("#modal003_txtError").find("#txtCPEError").html(e.CPE_TYPE_ERR);
                                $("#modal003_txtError").find("#txtCPEStatusDes").html("");
                                chkErrorCPE = "CPEError";
                                if (chkErrorPB == "PBError") {
                                    $("#modal003_txtError").find("#PBError").show();
                                }
                                else {
                                    $("#modal003_txtError").find("#PBError").hide();
                                }
                                $("#modal003_txtError").find("#CPEError").show();
                                $("#CPE_Serial").removeClass("form-control").addClass("form-control errorinput");
                            }
                            else if (e.cpe_type == "PLAYBOX") {
                                //toastrErrorMessage(e.CPE_TYPE_ERR);
                                PBSerialNo = e.SN;
                                PBErrorDes = e.Check_Result_Desc;
                                PBStatusDev = e.STATUS_DESC;
                                $("#PlayBox_Serial").removeClass("form-control").addClass("form-control errorinput");
                                $("#modal003_txtError").find("#txtPESerial").html(PBSerialNo);
                                $("#modal003_txtError").find("#txtPBError").html(e.CPE_TYPE_ERR);
                                $("#modal003_txtError").find("#txtPBStatusDes").html("");
                                $("#modal003_txtError").find("#PlayBox_Serial").hide();
                                chkErrorPB = "PBError";
                                if (chkErrorCPE == "CPEError") {
                                    $("#modal003_txtError").find("#CPEError").show;
                                }
                                else {
                                    $("#modal003_txtError").find("#CPEError").hide();
                                }
                                $("#modal003_txtError").find("#PBError").show();
                                $("#PlayBox_Serial").removeClass("form-control").addClass("form-control errorinput");
                            }
                            chkRequireField = false;
                            // chkInstallDate = false;
                            return;
                        }
                        if (e.Check_Result_Code == "0" && e.STATUS_DESC == "Available") {
                            //ให้เก็บค่า CPE type, serial no, MAC ADDRESS ไว้เพื่อส่งให้ workflow และให้ผ่านไปหน้าถัดไปได้
                            if (e.SN == $("#CPE_Serial").val().trim()) {
                                if (e.CPE_MAC_ADDR == "" || e.CPE_MAC_ADDR == null) {
                                    _Result = false;
                                    toastrErrorMessage("ERROR : MAC ADDRESS Not Found");
                                    $("#CPE_Serial").removeClass("form-control").addClass("form-control errorinput");
                                    chkInstallDate = false;
                                }
                            }
                        }
                        else if ((e.Check_Result_Code == "0" || e.Check_Result_Code == "1" || e.Check_Result_Code == "2") && e.STATUS_DESC != "Available") {
                            chkRequireField = false;
                            //ให้แสดง error เช่น CPE SERIAL NO. XXXXX Error: XXXX จะ config ที่ LOV ให้ แล้วเอาค่ามา replace
                            if (e.SN == $("#CPE_Serial").val().trim()) {
                                CPESerialNo = e.SN;
                                CPEErrorDes = e.Check_Result_Desc;
                                CPEStatusDev = e.STATUS_DESC;
                                $("#CPE_Serial").removeClass("form-control").addClass("form-control errorinput");
                                $("#modal003_txtError").find("#txtCPESerial").html(CPESerialNo);
                                $("#modal003_txtError").find("#txtCPEError").html(CPEErrorDes);
                                $("#modal003_txtError").find("#txtCPEStatusDes").html(CPEStatusDev);
                                chkErrorCPE = "CPEError";
                                if (chkErrorPB == "PBError") {
                                    $("#modal003_txtError").find("#PBError").show();
                                }
                                else {
                                    $("#modal003_txtError").find("#PBError").hide();
                                }

                                $("#modal003_txtError").find("#CPEError").show();
                            }
                            else if (e.SN == $("#PlayBox_Serial").val().trim()) {
                                PBSerialNo = e.SN;
                                PBErrorDes = e.Check_Result_Desc;
                                PBStatusDev = e.STATUS_DESC;
                                $("#PlayBox_Serial").removeClass("form-control").addClass("form-control errorinput");
                                $("#modal003_txtError").find("#txtPESerial").html(PBSerialNo);
                                $("#modal003_txtError").find("#txtPBError").html(PBErrorDes);
                                $("#modal003_txtError").find("#txtPBStatusDes").html(PBStatusDev);
                                $("#modal003_txtError").find("#PlayBox_Serial").hide();
                                chkErrorPB = "PBError";
                                if (chkErrorCPE == "CPEError") {
                                    $("#modal003_txtError").find("#CPEError").show;
                                }
                                else {
                                    $("#modal003_txtError").find("#CPEError").hide();
                                }
                                $("#modal003_txtError").find("#PBError").show();
                            }
                        }
                    });
                    if (chkRequireField == false) {
                        $('#modal003_txtError').modal({ backdrop: false });
                        $('#modal003_txtError').show();
                        $("#modal003_txtError").css('z-index', 99999);
                        temp_Result_officer = null;
                        _Result = false;
                    }
                    else if (chkInstallDate) {
                        if (data != null || data != undefined) {
                            temp_Result_officer = data;
                            //_Result = true;
                        }
                    }
                }
            }
        });
        //alert("L_LOC_CODE : " + _L_LOC_CODE + " _L_ASC_CODE : " + _L_ASC_CODE);
        $.ajax({
            //D:\FBB1\FBB.Web-Branch-Dev\FBBConfig\Controllers\RegisterBulkCorpController.cs
            url: '/RegisterBulkCorp/CheckSeibel',
            data: { LocationCode: _L_LOC_CODE, ASCCode: _L_ASC_CODE },
            dataType: "json",
            async: false,
            type: 'POST',
            success: function (response) {
                console.log(response);
                if (response == null) {
                    $("#L_LOC_CODE").addClass("errorinput");
                    //$("#L_ASC_CODE").addClass("errorinput");
                    _Result = false;
                }
                else if (response.outStatus == "Error") {
                    _Result = false;
                    //console.log(response);
                    toastrErrorMessage(response.outErrorMessage);
                    $("#L_LOC_CODE").addClass("errorinput");
                    //$("#L_ASC_CODE").addClass("errorinput");
                    //$("#btn2").show();
                    //$('#btndis').hide();
                }

                else {
                    temp_Result_officer_CheckSeibel = response;
                    //$('#outType').val(response.outType);
                    //$('#outSubType').val(response.outSubType);
                    //$('#LcCode').val(response.outLocationCode);
                    //$("#test").submit();
                }
                //LockScreen(false);
            }
        });
    }
    //alert(_Result);
    return _Result;
}


function Validate_tabInstallPlace_Maxlength() {
    //$('#tabInstallPlace input[type="text"]').each(function (_div_clear_tabInstallPlace, el) {
    //    $("#" + this.id).removeClass("errorinput");
    //});
    var is_tabInstallPlace = true;
    $('#tabInstallPlace input[type="text"]').each(function (_div_tabInstallPlace, el) {
        if (this.maxLength > 0) {
            //if ($("#" + this.id).is(':visible') == true) {
            if (this.maxLength < this.value.trim().length) {
                //console.log("id : " + this.id  + " maxlength : " + this.maxLength + " visible : " + $("#" + this.id).is(':visible') + " textlength : " + this.value.length);
                $("#" + this.id).addClass("errorinput");
                is_tabInstallPlace = false;
            }
            //}
        }
    });
    return is_tabInstallPlace;
}


function validateEmail2(email) {
    var re = /^(([^<>()\[\]\\.,;:\s@@"]+(\.[^<>()\[\]\\.,;:\s@@"]+)*)|(".+"))@@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    //console.log(email.substr(0, 2));
    if (email.substr(0, 2) == "-@@" || email.substr(0, 2) == "_@@") {
        return false;
    }
    return re.test(email);
}

function onSubmit() {
    //// sample for mr.moo
    //$('#divTimeSlot input[type="text"]').each(function (_div_PBOXTi, el) {
    //    if(this.value == "2017/08/10")
    //    {
    //        console.log(this.parentNode.parentNode.children[0]);
    //        this.parentNode.parentNode.children[0].className = "fa fa-circle color-green";
    //        //.parent().children(2).children().get(1).value
    //    }
    //});
    //return;
    //Validate_Submit();
    //console.log(temp_Result_officer_CheckSeibel);
    //return;
    Check_Session();
    if (Validate_Submit() == true) {
        var formData = new FormData();
        // files na kup
        if ($('input[name="typeselect"]:checked').val() == "R") {
            formData.append("file_nakup", $("#file")[0].files[0]);
        }
        else if ($('input[name="typeselect"]:checked').val() == "G") // Government
        {
            formData.append("fileG1", $("#fileG1")[0].files[0]);
            formData.append("fileG2", $("#fileG2")[0].files[1]);
            formData.append("fileG3", $("#fileG3")[0].files[2]);
        }
        else if ($('input[name="typeselect"]:checked').val() == "B") { // Business
            formData.append("fileB1", $("#fileB1")[0].files[0]);
            formData.append("fileB2", $("#fileB2")[0].files[1]);
            formData.append("fileB3", $("#fileB3")[0].files[2]);
            formData.append("fileB4", $("#fileB4")[0].files[3]);
        }

        // param 
        formData.append("cateType", $('input[name="typeselect"]:checked').val());
        formData.append("cardNo", $("#L_CARD_NO").val());
        formData.append("cardType", $("#tCardType").val());
        formData.append("register_dv", "");
        formData.append("AisAirNumber", $("#L_MOBILE").val());

        $.ajax({
            type: "POST",
            data: formData,
            url: '/Process/UploadImage',
            //contentType: 'application/json; charset=utf-8',
            async: false,
            cache: false,
            contentType: false,
            processData: false,
            success: function (result) {
                onSubmit_Step2();
                toastrSuccessMessage("Save Success");
            }
        });
    }
    //
}

function onSubmit_Step2() {

    var birthday = "";
    if ($('input[name="typeselect"]:checked').val() == "R") {
        var _ddlDay = $("#ddlDay").val();
        var _ddlMonth = $("#ddlMonth").val();
        var _ddlYear = ($("#ddlYear").val() - 543);
        if (_ddlDay.length == 1) _ddlDay = "0" + _ddlDay;
        if (_ddlMonth.length == 1) _ddlMonth = "0" + _ddlMonth;
        birthday = _ddlDay + "/" + _ddlMonth + "/" + _ddlYear;
    }
    else {
        birthday = "01/01/0001";
    }
    //console.log(birthday);
    //var test_file = null;
    //if (document.getElementById("file").files.length > 0) {
    //    test_file = document.getElementById("file").files[0];
    //}

    if ($('input[name="typeselect"]:checked').val() == "R") {
        var UploadImages = [{
            "FileName": $("#textImage").val()
        }];

        //QuickWinPanelModel.SummaryPanelModel.PackageModelList.push({});
    }
    else if ($('input[name="typeselect"]:checked').val() == "G") // Government
    {
        var UploadImages = [{
            "FileName": $("#textImageG1").val()
        }, {
            "FileName": $("#textImageG2").val()
        }, {
            "FileName": $("#textImageG3").val()
        }];
    }
    else if ($('input[name="typeselect"]:checked').val() == "B") { // Business
        var UploadImages = [{
            "FileName": $("#textImageB1").val()
        }, {
            "FileName": $("#textImageB2").val()
        }, {
            "FileName": $("#textImageB3").val()
        }, {
            "FileName": $("#textImageB4").val()
        }];
    }

    var radio_SelectPackage = $('input[name=SelectPackage]:checked');
    var radio_SelectOptionInstallation = $('input[name=SelectOptionInstallation]:checked');

    var _divTimeSlot = $(".color-green"); // checked
    var _TimeSlotId = _divTimeSlot.parent().children(2).children().get(0).value;//TimeSlotId
    var _FBSSAppointmentDate = _divTimeSlot.parent().children(2).children().get(1).value;//FBSSAppointmentDate
    //console.log(_FBSSAppointmentDate);
    if ((_FBSSAppointmentDate.split("/")[0] - 1) + 1 >= 2800) {
        _FBSSAppointmentDate = ((((_FBSSAppointmentDate.split("/")[0]) - 1) + 1) - (543 * 2)) + "/" + _FBSSAppointmentDate.split("/")[1] + "/" + _FBSSAppointmentDate.split("/")[2];
    }
    else if ((_FBSSAppointmentDate.split("/")[0] - 1) + 1 >= 2300) {
        _FBSSAppointmentDate = ((((_FBSSAppointmentDate.split("/")[0]) - 1) + 1) - 543) + "/" + _FBSSAppointmentDate.split("/")[1] + "/" + _FBSSAppointmentDate.split("/")[2];
    }
    else if ((_FBSSAppointmentDate.split("/")[0] - 1) + 1 <= 1800) {
        _FBSSAppointmentDate = ((((_FBSSAppointmentDate.split("/")[0]) - 1) + 1) + 543) + "/" + _FBSSAppointmentDate.split("/")[1] + "/" + _FBSSAppointmentDate.split("/")[2];
    }
    else {
        _FBSSAppointmentDate = _FBSSAppointmentDate.split("/")[0] + "/" + _FBSSAppointmentDate.split("/")[1] + "/" + (_FBSSAppointmentDate.split("/")[2]);
    }
    //_FBSSAppointmentDate = _FBSSAppointmentDate.split("/")[2] + "/" + _FBSSAppointmentDate.split("/")[1] + "/" + ((((_FBSSAppointmentDate.split("/")[0]) - 1) + 1) - 543);
    var _FBSSTimeSlot = _divTimeSlot.parent().children(2).children().get(2).value;//FBSSTimeSlot
    var _FBSSInstallationCapacity = _divTimeSlot.parent().children(2).children().get(3).value;//FBSSInstallationCapacity
    var _FBSSInstallDate = _divTimeSlot.parent().children(2).children().get(4).value;//FBSSInstallDate
    var test_pass = "1";

    //if (data.RESULT == "0") {
    //    $("#SummaryPanelModel_RESERVED_ID").val(data.RESERVED_ID);
    //}
    //else if (data.RESULT == "-2") {
    //    $("#SummaryPanelModel_RESERVED_ID").val("");
    //    chkPass = false;
    //}
    //else {
    //    $("#SummaryPanelModel_RESERVED_ID").val("");
    //}

    var _L_FIRST_NAME = $("#L_FIRST_NAME").val();
    var _L_LAST_NAME = $("#L_LAST_NAME").val();
    var _L_GOVERNMENT_NAME = $("#L_GOVERNMENT_NAME").val();
    var _L_CONTACT_PERSON = $("#L_CONTACT_PERSON").val();

    if ($('input[name="typeselect"]:checked').val() == "R") {
        _L_GOVERNMENT_NAME = "";
        _L_CONTACT_PERSON = "";
    }
    else if ($('input[name="typeselect"]:checked').val() == "G" || $('input[name="typeselect"]:checked').val() == "B") {
        _L_FIRST_NAME = "";
        _L_LAST_NAME = "";
    }

    try {
        console.log("Main : " + radio_SelectPackage.parent().children(2).get(3).value);
        var QuickWinPanelModel =
        {
            "SplitterFlag": "xxxxxxxx",
            "TopUp": $("#hdL_TopUp").val(),
            CoveragePanelModel: {
                "L_HAVE_FIXED_LINE": $('input[name=L_HAVE_FIXED_LINE]:checked').val(),
                "RESULT_ID": $("#hdL_RESULT_ID").val(), //# error some step in c#
                "L_RESULT": $("#hdL_L_RESULT").val(),
                "L_FIRST_LAST": $("#hdL_L_FIRST_LAST").val(),
                "L_CONTACT_PHONE": $("#hdL_p_mobile").val(),
                "BuildingType": $("#hdL_buildingtype").val(),
                "CVRID": $("#hdL_cvrid").val(),
                "CVR_NODE": $("#hdL_cvr_node").val(),
                "CVR_TOWER": $("#hdL_cvr_tower").val(),
                "PRODUCT_SUBTYPE": $("#hdL_product_subtype").val(),
                "P_MOBILE": $("#hdL_p_mobile").val(),
                "SffServiceYear": $("#hdL_sffserviceyear").val(),
                "P_FTTX_VENDOR": $("#hdL_p_fttx_vendor").val(),
                "CoverageResult": $("#hdL_coverageresult").val(),
                "AccessMode": $("#hdL_accessmode").val(),
                "ServiceCode": $("#hdL_servicecode").val(),
                "Serenade_Flag": $("#hdL_serenade_flag").val(),
                Address: {
                    "L_HOME_NUMBER_1": $("#AddressPanelModelSetup_L_HOME_NUMBER_2").val(),
                    "L_MOO": $("#AddressPanelModelSetup_L_MOO").val(),
                    "L_SOI": $("#AddressPanelModelSetup_L_SOI").val(),
                    "L_ROAD": $("#AddressPanelModelSetup_L_ROAD").val(),
                    "L_FLOOR": $("#AddressPanelModelSetup_L_FLOOR").val(),
                    "L_BUILD_NAME_Hied": $("#AddressPanelModelSetup_L_BUILD_NAME").val(),
                    "ZIPCODE_ID": $("#ZipCodeSetup").val(),
                    "AddressId": $("#hdL_AddressId").val(),
                }
            },
            DisplayPackagePanelModel: {
                "Prorate": $("#sumProrate_option").text(),
                "TotalProrate": $("#sumTotalProrate_option").text(),
                "L_SPECIAL_DISCOUNT": $("#summDiscountVas_option").text(),
                "WIFIAccessPoint": $("#hd_WIFIAccessPoint").val(),
            },
            /// PackageModel
            SummaryPanelModel: {
                "RESERVED_ID": temp_Result_timeslot.RESERVED_ID,
                "PackageModel": {
                    PACKAGE_CLASS: radio_SelectPackage.parent().children(2).get(15).value
                    , LABEL_SUMM_ROW1: $("#summLb1").text()
                    , LABEL_PACKAGE_ONTOP: $("#summLb1").text()
                    , SelectVas_Flag: $("#hd_SelectVas_Flag").val()
                    , SelectPlayBox_Flag: $("#hd_SelectPlayBox_Flag").val()
                    , SelectPlayPBL_Flag: $("#hd_SelectPlayPBL_Flag").val()
                    , DISCOUNT_VALUE: $("#hd_DISCOUNT_VALUE").val()
                    , DISCOUNT_DAY: $("#hd_DISCOUNT_DAY").val()
                }
                , "PackageModelList": [{
                    PACKAGE_CODE: radio_SelectPackage.parent().children(2).get(3).value, //not null
                    PACKAGE_CLASS: radio_SelectPackage.parent().children(2).get(15).value, // Ontop // Bundle //not null
                    PACKAGE_GROUP: radio_SelectPackage.parent().children(2).get(5).value,
                    PRODUCT_SUBTYPE: radio_SelectPackage.parent().children(2).get(16).value, //not null
                    TECHNOLOGY: radio_SelectPackage.parent().children(2).get(10).value,
                    PACKAGE_NAME: radio_SelectPackage.parent().children(2).get(4).value, //not null
                    RECURRING_CHARGE: radio_SelectPackage.parent().children(2).get(6).value,
                    INITIATION_CHARGE: radio_SelectPackage.parent().children(2).get(13).value,
                    DISCOUNT_INITIATION_CHARGE: 0,
                    SFF_PROMOTION_BILL_THA: radio_SelectPackage.parent().children(2).get(8).value,
                    SFF_PROMOTION_BILL_ENG: radio_SelectPackage.parent().children(2).get(9).value,
                    DOWNLOAD_SPEED: radio_SelectPackage.parent().children(2).get(11).value,
                    UPLOAD_SPEED: radio_SelectPackage.parent().children(2).get(12).value,
                    OWNER_PRODUCT: radio_SelectPackage.parent().children(2).get(18).value, //not null
                    SFF_PROMOTION_CODE: radio_SelectPackage.parent().children(2).get(24).value,
                    DISCOUNT_TYPE: radio_SelectPackage.parent().children(2).get(21).value,
                    DISCOUNT_VALUE: radio_SelectPackage.parent().children(2).get(22).value,
                    DISCOUNT_DAY: radio_SelectPackage.parent().children(2).get(23).value,
                    TEMP_IA: radio_SelectPackage.parent().children(2).get(2).value,
                    VOIP_IP: "",
                    IDD_FLAG: "", // Y/N
                    FAX_FLAG: "", // Y/N
                }]
            },
            //custmer register
            CustomerRegisterPanelModel: {
                "L_FIRST_NAME": _L_FIRST_NAME,
                "L_LAST_NAME": _L_LAST_NAME,
                "L_TITLE": $("#TITLE_CODE").data('kendoDropDownList').text(),
                "L_TITLE_CODE": $("#TITLE_CODE").data('kendoDropDownList').value(),
                "L_CARD_TYPE": $("#ID_CARD_NAME").data('kendoDropDownList').text(),
                "L_CARD_NO": $("#L_CARD_NO").val(),
                "L_GENDER": $("#ddlGender").data("kendoDropDownList").text(),
                "L_BIRTHDAY": birthday,
                "L_HOME_PHONE": $("#txtHomePhone").val() + "Ext." + $("#txtHomePhoneTo").val(),
                "L_MOBILE": $("#L_MOBILE").val(),
                "L_OR": $("#L_OR").val(),
                "L_REMARK": $("#L_REMARK").val(),
                "L_GOVERNMENT_NAME": _L_GOVERNMENT_NAME,
                "L_CONTACT_PERSON": _L_CONTACT_PERSON,
                "L_SPECIFIC_TIME": $("#ContactTime").data('kendoDropDownList').text(),//$("#hdL_L_SPECIFIC_TIME").val(),
                //-------- Officer
                "L_LOC_CODE": $("#L_LOC_CODE").val(),
                "L_ASC_CODE": $("#L_ASC_CODE").val(),
                "L_STAFF_ID": $("#L_STAFF_ID").val(),
                "L_SALE_REP": $("#L_SALE_REP").val(),
                "L_FOR_CS_TEAM": $("#L_FOR_CS_TEAM").val(),
                //"L_EVENT_CODE": $("#L_EVENT_CODE").val(), // ถ้ามี L_EVENT_CODE ใน xml จะ auto create โพสเป็ก
                "L_VOUCHER_PIN": $("#L_VOUCHER_PIN").val(),
                "CPE_Serial": $("#CPE_Serial").val(),
                "PlayBox_Serial": $("#PlayBox_Serial").val(),
                "outType": temp_Result_officer_CheckSeibel != null ? temp_Result_officer_CheckSeibel.outType : "",
                "outSubType": temp_Result_officer_CheckSeibel != null ? temp_Result_officer_CheckSeibel.outSubType : "",
                "CPE_Info": temp_Result_officer,
                //-------- End Officer
                "L_EMAIL": $("#L_EMAIL").val(),
                "L_NATIONALITY": $("#hdL_L_NATIONALITY").val(),
                "L_TYPE_ADDR": $("#hdL_L_TYPE_ADDR").val(),
                "L_INSTALL_DATE": _FBSSAppointmentDate.split("/")[2] + "/" + _FBSSAppointmentDate.split("/")[1] + "/" + _FBSSAppointmentDate.split("/")[0],//$("#dtpInstallDateTH_text").val(),//"01/08/2017"
                "CateType": $('input[name="typeselect"]:checked').val(),
                "SubCateType": $("#hdL_SubCateType").val(),//$("#ID_CARD_NAME").val(),
                "DocType": $("#hdL_DocType").val(),
                "ASSIGN_RULE": $("#hdL_ASSIGN_RULE").val(),
                "EStatmentFlag": $("#hdL_EStatmentFlag").val(),
                "ReceiveEmailFlag": $("#hdL_ReceiveEmailFlag").val(),
                "RentalFlag": $("#hdL_RentalFlag").val(),
                "JOB_ORDER_TYPE": $("#hdL_JOB_ORDER_TYPE").val(),
                "ListImageFile": UploadImages,
                FBSSTimeSlot:
                    {
                        "AppointmentDate": _FBSSAppointmentDate,
                        //AppointmentDate : '2017-06-26',
                        "TimeSlot": _FBSSTimeSlot,
                        "InstallationCapacity": _FBSSInstallationCapacity
                    }
                ,
                AddressPanelModelSetup: {
                    "L_PROVINCE": $("#ProvinceSetup").val(),
                    "L_TUMBOL": $("#TumbonSetup").val(),
                    "L_AMPHUR": $("#AmphurSetup").val(),
                    "L_MOOBAN": $("#AddressPanelModelSetup_L_MOOBAN").val(),
                    "L_MOO": $("#AddressPanelModelSetup_L_MOO").val(),
                    "L_SOI": $("#AddressPanelModelSetup_L_SOI").val(),
                    "L_ROAD": $("#AddressPanelModelSetup_L_ROAD").val(),
                    "L_ZIPCODE": $("#ZipCodeSetup").data('kendoDropDownList').text(),
                    "L_HOME_NUMBER_2": $("#AddressPanelModelSetup_L_HOME_NUMBER_2").val(),
                    "L_FLOOR": $("#AddressPanelModelSetup_L_FLOOR").val(),
                    "L_ROOM": $("#AddressPanelModelSetup_L_ROOM").val(),
                    "L_BUILD_NAME": $("#AddressPanelModelSetup_L_BUILD_NAME").val(),
                    "ZIPCODE_ID": $("#ZipCodeSetup").val()
                },
                AddressPanelModelSendDoc: {
                    "L_PROVINCE": $("#ProvinceSendDoc").val(),
                    "L_TUMBOL": $("#TumbonSendDoc").val(),
                    "L_AMPHUR": $("#AmphurSendDoc").val(),
                    "L_MOOBAN": $("#AddressPanelModelSendDoc_L_MOOBAN").val(),
                    "L_MOO": $("#AddressPanelModelSendDoc_L_MOO").val(),
                    "L_SOI": $("#AddressPanelModelSendDoc_L_SOI").val(),
                    "L_ROAD": $("#AddressPanelModelSendDoc_L_ROAD").val(),
                    "L_ZIPCODE": $("#ZipCodeSendDoc").data('kendoDropDownList').text(),
                    "L_HOME_NUMBER_2": $("#AddressPanelModelSendDoc_L_HOME_NUMBER_2").val(),
                    "L_FLOOR": $("#AddressPanelModelSendDoc_L_FLOOR").val(),
                    "L_ROOM": $("#AddressPanelModelSendDoc_L_ROOM").val(),
                    "L_BUILD_NAME": $("#AddressPanelModelSendDoc_L_BUILD_NAME").val(),
                    "ZIPCODE_ID": $("#ZipCodeSendDoc").val()
                },
                AddressPanelModelVat: {
                    "L_PROVINCE": $("#ProvinceVat").val(),
                    "L_TUMBOL": $("#TumbonVat").val(),
                    "L_AMPHUR": $("#AmphurVat").val(),
                    "L_MOOBAN": $("#AddressPanelModelVat_L_MOOBAN").val(),
                    "L_MOO": $("#AddressPanelModelVat_L_MOO").val(),
                    "L_SOI": $("#AddressPanelModelVat_L_SOI").val(),
                    "L_ROAD": $("#AddressPanelModelVat_L_ROAD").val(),
                    "L_ZIPCODE": $("#ZipCodeVat").data('kendoDropDownList').text(),
                    "L_HOME_NUMBER_2": $("#AddressPanelModelVat_L_HOME_NUMBER_2").val(),
                    "L_FLOOR": $("#AddressPanelModelVat_L_FLOOR").val(),
                    "L_ROOM": $("#AddressPanelModelVat_L_ROOM").val(),
                    "L_BUILD_NAME": $("#AddressPanelModelVat_L_BUILD_NAME").val(),
                    "ZIPCODE_ID": $("#ZipCodeVat").val()
                },
            }
        };
        QuickWinPanelModel = GetPackage_ToModel_New(QuickWinPanelModel, radio_SelectPackage);
    }
    catch (err) {
        console.log(err);
    }
    if ($("#hdL_TopUp").val() == "5") {

        delete QuickWinPanelModel.CustomerRegisterPanelModel.CPE_Info;
        delete QuickWinPanelModel.CustomerRegisterPanelModel.outType;
        delete QuickWinPanelModel.CustomerRegisterPanelModel.outSubType;

        if (QuickWinPanelModel.CustomerRegisterPanelModel.L_LOC_CODE == "" || QuickWinPanelModel.CustomerRegisterPanelModel.L_LOC_CODE == undefined) {
            console.log("delete L_LOC_CODE");
            delete QuickWinPanelModel.CustomerRegisterPanelModel.L_LOC_CODE;
        }
        if (QuickWinPanelModel.CustomerRegisterPanelModel.L_ASC_CODE == "" || QuickWinPanelModel.CustomerRegisterPanelModel.L_ASC_CODE == undefined) {
            console.log("delete L_ASC_CODE");
            delete QuickWinPanelModel.CustomerRegisterPanelModel.L_ASC_CODE;
        }
        if (QuickWinPanelModel.CustomerRegisterPanelModel.L_STAFF_ID == "" || QuickWinPanelModel.CustomerRegisterPanelModel.L_STAFF_ID == undefined) {
            console.log("delete L_STAFF_ID");
            delete QuickWinPanelModel.CustomerRegisterPanelModel.L_STAFF_ID;
        }
        if (QuickWinPanelModel.CustomerRegisterPanelModel.L_SALE_REP == "" || QuickWinPanelModel.CustomerRegisterPanelModel.L_SALE_REP == undefined) {
            console.log("delete L_SALE_REP");
            delete QuickWinPanelModel.CustomerRegisterPanelModel.L_SALE_REP;
        }
        if (QuickWinPanelModel.CustomerRegisterPanelModel.L_FOR_CS_TEAM == "" || QuickWinPanelModel.CustomerRegisterPanelModel.L_FOR_CS_TEAM == undefined) {
            console.log("delete L_FOR_CS_TEAM");
            delete QuickWinPanelModel.CustomerRegisterPanelModel.L_FOR_CS_TEAM;
        }
        if (QuickWinPanelModel.CustomerRegisterPanelModel.L_EVENT_CODE == "" || QuickWinPanelModel.CustomerRegisterPanelModel.L_EVENT_CODE == undefined) {
            console.log("delete L_EVENT_CODE");
            delete QuickWinPanelModel.CustomerRegisterPanelModel.L_EVENT_CODE;
        }
        if (QuickWinPanelModel.CustomerRegisterPanelModel.L_VOUCHER_PIN == "" || QuickWinPanelModel.CustomerRegisterPanelModel.L_VOUCHER_PIN == undefined) {
            console.log("delete L_VOUCHER_PIN");
            delete QuickWinPanelModel.CustomerRegisterPanelModel.L_VOUCHER_PIN;
        }
        if (QuickWinPanelModel.CustomerRegisterPanelModel.CPE_Serial == "" || QuickWinPanelModel.CustomerRegisterPanelModel.CPE_Serial == undefined) {
            console.log("delete CPE_Serial");
            delete QuickWinPanelModel.CustomerRegisterPanelModel.CPE_Serial;
        }
        if (QuickWinPanelModel.CustomerRegisterPanelModel.PlayBox_Serial == "" || QuickWinPanelModel.CustomerRegisterPanelModel.PlayBox_Serial == undefined) {
            console.log("delete PlayBox_Serial");
            delete QuickWinPanelModel.CustomerRegisterPanelModel.PlayBox_Serial;
        }
        if (QuickWinPanelModel.CustomerRegisterPanelModel.outType == "" || QuickWinPanelModel.CustomerRegisterPanelModel.outType == undefined) {
            console.log("delete outType");
            delete QuickWinPanelModel.CustomerRegisterPanelModel.outType;
        }
        if (QuickWinPanelModel.CustomerRegisterPanelModel.outSubType == "" || QuickWinPanelModel.CustomerRegisterPanelModel.outSubType == undefined) {
            console.log("delete outSubType");
            delete QuickWinPanelModel.CustomerRegisterPanelModel.outSubType;
        }
        if (QuickWinPanelModel.CustomerRegisterPanelModel.CPE_Info == "" || QuickWinPanelModel.CustomerRegisterPanelModel.CPE_Info == undefined) {
            console.log("delete CPE_Info");
            delete QuickWinPanelModel.CustomerRegisterPanelModel.CPE_Info;
        }
    }
    if (_is_Discount_flag == false) {
        if (QuickWinPanelModel.DisplayPackagePanelModel.L_SPECIAL_DISCOUNT == "" || QuickWinPanelModel.DisplayPackagePanelModel.L_SPECIAL_DISCOUNT == undefined) {
            console.log("delete L_SPECIAL_DISCOUNT");
            delete QuickWinPanelModel.DisplayPackagePanelModel.L_SPECIAL_DISCOUNT;
        }
        if (QuickWinPanelModel.DisplayPackagePanelModel.WIFIAccessPoint == "" || QuickWinPanelModel.DisplayPackagePanelModel.WIFIAccessPoint == undefined) {
            console.log("delete WIFIAccessPoint");
            delete QuickWinPanelModel.DisplayPackagePanelModel.WIFIAccessPoint;
        }
    }
    //console.log(QuickWinPanelModel);
    //return;
    $.ajax({
        type: "POST",
        data: JSON.stringify(QuickWinPanelModel),
        url: '/ResendOrder/OnSave',
        contentType: 'application/json; charset=utf-8',
        success: function (result) {
            //console.log(result);
            if (result.Status == 'Success') {
                closeModal();
            }
            _Search();
        }
    });
}

function CheckKeyUp(id, RexStr) {
    var strKey = $("#" + id).val();
    var strBuilder = "";
    var filter = new RegExp(RexStr);
    for (var i = 0; i < strKey.length; i++) {
        if (filter.test(strKey.substr(i, 1))) {
            strBuilder += strKey.substr(i, 1);
        }
    }
    $("#" + id).val(strBuilder);
}


function CheckNumberKeyUp(id, RexStr) {
    var strKey = $("#" + id).val();
    var strBuilder = "";
    var filter = new RegExp(RexStr);
    console.log(strKey.substr(0, 1));
    for (var i = 0; i < strKey.length; i++) {
        if ((strKey.substr(0, 1)) != "0") {
            strBuilder += "";
        }
        else if (filter.test(strKey.substr(i, 1))) {
            strBuilder += strKey.substr(i, 1);
        }
    }
    $("#" + id).val(strBuilder);
}

function validateControlKeyUp() {
    $('#L_FIRST_NAME').keyup(function () {
        CheckKeyUp("L_FIRST_NAME", $("#hdlFBB_Con_CharNotonName").val());
    });

    $('#L_LAST_NAME').keyup(function () {
        CheckKeyUp("L_LAST_NAME", $("#hdlFBB_Con_CharNotOnNameLastName").val());
    });

    $('#L_GOVERNMENT_NAME').keyup(function () {
        CheckKeyUp("L_GOVERNMENT_NAME", $("#hdlFBB_InputCompanyName").val());
    });

    $('#txtHomePhone').keyup(function () {
        CheckNumberKeyUp("txtHomePhone", $("#hdlFBB_Con_Input_HomePhone").val());
    });

    $('#txtHomePhoneTo').keyup(function () {
        CheckKeyUp("txtHomePhoneTo", $("#hdlFBB_Con_Input_ExtNumber").val());
    });

    $("#L_MOBILE").keyup(function () {
        CheckNumberKeyUp("L_MOBILE", $("#hdlFBB_Input_MobileNo").val());
    });

    $("#L_OR").keyup(function () {
        CheckNumberKeyUp("L_OR", $("#hdlFBB_Input_MobileNo").val());
    });
    $("#txtIDCardNo").keyup(function () {
        CheckKeyUp("txtIDCardNo", $("#hdlFBB_InputCompanyName").val());
    });
    //$('#L_CARD_NO').keyup(function () {
    //    CheckKeyUp("L_CARD_NO", $("#hdlFBB_Con_Input_ID_CARD").val());
    //});
    $('#L_CONTACT_PERSON').keyup(function () {
        CheckKeyUp("L_CONTACT_PERSON", $("#hdlFBB_Con_CharNotonName").val());
    });


    //------------------ Setup
    $("#AddressPanelModelSetup_L_HOME_NUMBER_2").keyup(function () {
        CheckKeyUp("AddressPanelModelSetup_L_HOME_NUMBER_2", $("#hdlFBB_Con_Input_Home_Number").val());
    });
    $("#AddressPanelModelSetup_L_MOO").keyup(function () {
        CheckKeyUp("AddressPanelModelSetup_L_MOO", $("#hdlFBB_Con_Input_Moo").val());
    });
    $("#AddressPanelModelSetup_L_MOOBAN").keyup(function () {
        CheckKeyUp("AddressPanelModelSetup_L_MOOBAN", $("#hdlFBB_Con_Input_Mooban").val());
    });
    $("#AddressPanelModelSetup_L_BUILD_NAME").keyup(function () {
        CheckKeyUp("AddressPanelModelSetup_L_BUILD_NAME", $("#hdlFBB_Con_Input_Building").val());
    });
    $("#AddressPanelModelSetup_L_FLOOR").keyup(function () {
        CheckKeyUp("AddressPanelModelSetup_L_FLOOR", $("#hdlFBB_Con_Input_Floor").val());
    });
    $("#AddressPanelModelSetup_L_ROOM").keyup(function () {
        CheckKeyUp("AddressPanelModelSetup_L_ROOM", $("#hdlFBB_Con_Input_Room").val());
    });
    $("#AddressPanelModelSetup_L_SOI").keyup(function () {
        CheckKeyUp("AddressPanelModelSetup_L_SOI", $("#hdlFBB_Con_Input_Soi").val());
    });
    $("#AddressPanelModelSetup_L_ROAD").keyup(function () {
        CheckKeyUp("AddressPanelModelSetup_L_ROAD", $("#hdlFBB_Con_Input_Road").val());
    });

    //------- SendDoc
    $("#AddressPanelModelSendDoc_L_HOME_NUMBER_2").keyup(function () {
        CheckKeyUp("AddressPanelModelSendDoc_L_HOME_NUMBER_2", $("#hdlFBB_Con_Input_Home_Number").val());
    });
    $("#AddressPanelModelSendDoc_L_MOO").keyup(function () {
        CheckKeyUp("AddressPanelModelSendDoc_L_MOO", $("#hdlFBB_Con_Input_Moo").val());
    });
    $("#AddressPanelModelSendDoc_L_MOOBAN").keyup(function () {
        CheckKeyUp("AddressPanelModelSendDoc_L_MOOBAN", $("#hdlFBB_Con_Input_Mooban").val());
    });
    $("#AddressPanelModelSendDoc_L_BUILD_NAME").keyup(function () {
        CheckKeyUp("AddressPanelModelSendDoc_L_BUILD_NAME", $("#hdlFBB_Con_Input_Building").val());
    });
    $("#AddressPanelModelSendDoc_L_FLOOR").keyup(function () {
        CheckKeyUp("AddressPanelModelSendDoc_L_FLOOR", $("#hdlFBB_Con_Input_Floor").val());
    });
    $("#AddressPanelModelSendDoc_L_ROOM").keyup(function () {
        CheckKeyUp("AddressPanelModelSendDoc_L_ROOM", $("#hdlFBB_Con_Input_Room").val());
    });
    $("#AddressPanelModelSendDoc_L_SOI").keyup(function () {
        CheckKeyUp("AddressPanelModelSendDoc_L_SOI", $("#hdlFBB_Con_Input_Soi").val());
    });
    $("#AddressPanelModelSendDoc_L_ROAD").keyup(function () {
        CheckKeyUp("AddressPanelModelSendDoc_L_ROAD", $("#hdlFBB_Con_Input_Road").val());
    });

    //------- Vat
    $("#AddressPanelModelVat_L_HOME_NUMBER_2").keyup(function () {
        CheckKeyUp("AddressPanelModelVat_L_HOME_NUMBER_2", $("#hdlFBB_Con_Input_Home_Number").val());
    });
    $("#AddressPanelModelVat_L_MOO").keyup(function () {
        CheckKeyUp("AddressPanelModelVat_L_MOO", $("#hdlFBB_Con_Input_Moo").val());
    });
    $("#AddressPanelModelVat_L_MOOBAN").keyup(function () {
        CheckKeyUp("AddressPanelModelVat_L_MOOBAN", $("#hdlFBB_Con_Input_Mooban").val());
    });
    $("#AddressPanelModelVat_L_BUILD_NAME").keyup(function () {
        CheckKeyUp("AddressPanelModelVat_L_BUILD_NAME", $("#hdlFBB_Con_Input_Building").val());
    });
    $("#AddressPanelModelVat_L_FLOOR").keyup(function () {
        CheckKeyUp("AddressPanelModelVat_L_FLOOR", $("#hdlFBB_Con_Input_Floor").val());
    });
    $("#AddressPanelModelVat_L_ROOM").keyup(function () {
        CheckKeyUp("AddressPanelModelVat_L_ROOM", $("#hdlFBB_Con_Input_Room").val());
    });
    $("#AddressPanelModelVat_L_SOI").keyup(function () {
        CheckKeyUp("AddressPanelModelVat_L_SOI", $("#hdlFBB_Con_Input_Soi").val());
    });
    $("#AddressPanelModelVat_L_ROAD").keyup(function () {
        CheckKeyUp("AddressPanelModelVat_L_ROAD", $("#hdlFBB_Con_Input_Road").val());
    });

}

var chkRequireField = true;
var chkInstallDate = true;
var validateModel003R = new Array();
function ChkInputAndRequiredField() {
    chkRequireField = true;
    chkInstallDate = true;
    var msg = "กรุณาระบุข้อมูลให้ถูกต้องและครบถ้วน";

    $("#L_FIRST_NAME").removeClass("form-control errorinput").addClass("form-control");
    $("#L_LAST_NAME").removeClass("form-control errorinput").addClass("form-control");
    $("#L_CARD_NO").removeClass("form-control errorinput").addClass("form-control");
    $("#textImage").removeClass("form-control errorinput").addClass("form-control");
    $("#ddlGender").removeClass("dropdown-validation-error").addClass("form-control");
    $("#L_MOBILE").removeClass("form-control errorinput").addClass("form-control");
    $("#AddressPanelModelSetup_L_HOME_NUMBER_2").removeClass("form-control errorinput").addClass("form-control");
    $("#AddressPanelModelSendDoc_L_HOME_NUMBER_2").removeClass("form-control errorinput").addClass("form-control");
    $("#L_GOVERNMENT_NAME").removeClass("form-control errorinput").addClass("form-control");
    //$("#L_CARD_NO").removeClass("form-control errorinput").addClass("form-control");
    $("#L_CONTACT_PERSON").removeClass("form-control errorinput").addClass("form-control");
    $("#textImageG1").removeClass("form-control errorinput").addClass("form-control");
    $("#textImageG2").removeClass("form-control errorinput").addClass("form-control");
    $("#textImageG3").removeClass("form-control errorinput").addClass("form-control");

    $("#textImageB1").removeClass("form-control errorinput").addClass("form-control");
    $("#textImageB2").removeClass("form-control errorinput").addClass("form-control");
    $("#textImageB3").removeClass("form-control errorinput").addClass("form-control");
    $("#textImageB4").removeClass("form-control errorinput").addClass("form-control");

    if ($('input[name="typeselect"]:checked').val() == 'R') {
        if ($('#L_FIRST_NAME').val() == "") {
            $("#L_FIRST_NAME").removeClass("form-control").addClass("form-control errorinput");
            toastrErrorMessage(msg);
        }
        if ($('#L_LAST_NAME').val() == "") {
            $("#L_LAST_NAME").removeClass("form-control").addClass("form-control errorinput");
            toastrErrorMessage(msg);
            chkRequireField = false;
        }

        if ($('#L_CARD_NO').val() == "") {
            $("#L_CARD_NO").removeClass("form-control").addClass("form-control errorinput");
            toastrErrorMessage(msg);
            chkRequireField = false;
        }

        if ($('#textImage').val() == "") {
            $("#textImage").removeClass("form-control").addClass("form-control errorinput");
            toastrErrorMessage(msg);
            chkRequireField = false;
        }

        if ($('#ddlGender').val() == "") {
            $("#ddlGender").removeClass("form-control").addClass("dropdown-validation-error");
            toastrErrorMessage(msg);
            chkRequireField = false;
        }

        if ($('#L_MOBILE').val() == "") {
            $("#L_MOBILE").removeClass("form-control").addClass("form-control errorinput");
            toastrErrorMessage(msg);
            chkRequireField = false;
        }

        if ($('#AddressPanelModelSetup_L_HOME_NUMBER_2').val() == "") {
            $("#AddressPanelModelSetup_L_HOME_NUMBER_2").removeClass("form-control").addClass("form-control errorinput");
            toastrErrorMessage(msg);
            chkRequireField = false;
        }

        if ($('#AddressPanelModelSendDoc_L_HOME_NUMBER_2').val() == "") {
            $("#AddressPanelModelSendDoc_L_HOME_NUMBER_2").removeClass("form-control").addClass("form-control errorinput");
            toastrErrorMessage(msg);
            chkRequireField = false;
        }


        popRequireFieldR();
        pushRequireFieldR();

        //if ($('#ddlDay').val() == null) {
        //    $("#ddlDay").removeClass("form-control").addClass("form-control errorinput");
        //    toastrErrorMessage(msg);
        //}

        //if ($('#ddlMonth').val() == null) {
        //    $("#ddlMonth").removeClass("form-control").addClass("form-control errorinput");
        //    toastrErrorMessage(msg);
        //}

        //if ($('#ddlYear').val() == null) {
        //    $("#ddlYear").removeClass("form-control").addClass("form-control errorinput");
        //    toastrErrorMessage(msg);
        //}

        //chkRequireField = $('input[name="typeselect"]:checked').val() == 'R' ? ValidationProcessing(validateModel003R, "err003") : ValidationProcessing(validateModel003GB, "err003");
        //aler(chkRequireField);

        if (chkRequireField == false) {
            return false;
        }
    }
    else if ($('input[name="typeselect"]:checked').val() == 'G') {

        if ($('#L_GOVERNMENT_NAME').val() == "") {
            $("#L_GOVERNMENT_NAME").removeClass("form-control").addClass("form-control errorinput");
            toastrErrorMessage(msg);
            chkRequireField = false;
        }
        if ($('#L_CARD_NO').val() == "") {
            $("#L_CARD_NO").removeClass("form-control").addClass("form-control errorinput");
            toastrErrorMessage(msg);
            chkRequireField = false;
        }
        if ($('#L_CONTACT_PERSON').val() == "") {
            $("#L_CONTACT_PERSON").removeClass("form-control").addClass("form-control errorinput");
            toastrErrorMessage(msg);
            chkRequireField = false;
        }
        if ($('#textImageG1').val() == "") {
            $("#textImageG1").removeClass("form-control").addClass("form-control errorinput");
            toastrErrorMessage(msg);
            chkRequireField = false;
        }
        if ($('#textImageG2').val() == "") {
            $("#textImageG2").removeClass("form-control").addClass("form-control errorinput");
            toastrErrorMessage(msg);
            chkRequireField = false;
        }
        if ($('#textImageG3').val() == "") {
            $("#textImageG3").removeClass("form-control").addClass("form-control errorinput");
            toastrErrorMessage(msg);
            chkRequireField = false;
        }

        if (chkRequireField == false) {
            return false;
        }
    }
    else if ($('input[name="typeselect"]:checked').val() == 'B') {

        if ($('#L_GOVERNMENT_NAME').val() == "") {
            $("#L_GOVERNMENT_NAME").removeClass("form-control").addClass("form-control errorinput");
            toastrErrorMessage(msg);
            chkRequireField = false;
        }
        if ($('#L_CARD_NO').val() == "") {
            $("#L_CARD_NO").removeClass("form-control").addClass("form-control errorinput");
            toastrErrorMessage(msg);
            chkRequireField = false;
        }
        if ($('#L_CONTACT_PERSON').val() == "") {
            $("#L_CONTACT_PERSON").removeClass("form-control").addClass("form-control errorinput");
            toastrErrorMessage(msg);
            chkRequireField = false;
        }
        if ($('#textImageB1').val() == "") {
            $("#textImageB1").removeClass("form-control").addClass("form-control errorinput");
            toastrErrorMessage(msg);
            chkRequireField = false;
        }
        if ($('#textImageB2').val() == "") {
            $("#textImageB2").removeClass("form-control").addClass("form-control errorinput");
            toastrErrorMessage(msg);
            chkRequireField = false;
        }
        if ($('#textImageB3').val() == "") {
            $("#textImageB3").removeClass("form-control").addClass("form-control errorinput");
            toastrErrorMessage(msg);
            chkRequireField = false;
        }
        if ($('#textImageB4').val() == "") {
            $("#textImageB4").removeClass("form-control").addClass("form-control errorinput");
            toastrErrorMessage(msg);
            chkRequireField = false;
        }

        if (chkRequireField == false) {
            return false;
        }
    }
    return true;
}

function popRequireFieldR() {
    validateModel003R.pop({ id: "L_FIRST_NAME" });
    //validateModel003R.pop({ id: "L_LAST_NAME" });
    //validateModel003R.pop({ id: "ID_CARD_NAME" });
    //validateModel003R.pop({ id: "L_CARD_NO" });
    //validateModel003R.pop({ id: "L_MOBILE" });
    //validateModel003R.pop({ id: "textImage" });
    //validateModel003R.pop({ id: "textImageBill" });
    //validateModel003R.pop({ id: "L_EMAIL" });
    validateModel003R.pop({ id: "ddlGender" });

    validateModel003R.pop({ id: "ddlDay" });
    validateModel003R.pop({ id: "ddlMonth" });
    validateModel003R.pop({ id: "ddlYear" });


    //validateModel003R.pop({ id: "ddlBillBrand" });

    //if ($('input[name=L_HAVE_FIXED_LINE]:checked').val() == "Y") {
    //    validateModel003R.pop({ id: "txtHomePhone" });
    //}
}

function pushRequireFieldR() {
    //validateModel003R.push({ id: "L_FIRST_NAME" });
    //validateModel003R.push({ id: "L_LAST_NAME" });
    //validateModel003R.push({ id: "ID_CARD_NAME" });
    //validateModel003R.push({ id: "L_CARD_NO", condition: "IDCard" });
    //validateModel003R.push({ id: "L_MOBILE", condition: "MobileNumber" });

    //var result = $("input[name=SelectPackage]:checked").val();

    //if ($("#PRODUCT_SUBTYPE" + result).val() != "SWiFi") {
    //    validateModel003R.push({ id: "textImage" });
    //    if ($("#PACKAGE_NAME" + $("input[name=SelectPackage]:checked").val()).val().toUpperCase().indexOf("GREETING") > -1) {
    //        validateModel003R.push({ id: "textImageBill" })
    //        if (isp != "") { $('#ddlBillBrand').val(isp); }
    //        validateModel003R.push({ id: "ddlBillBrand" });
    //    }
    //}

    validateModel003R.push({ id: "ddlGender" });

    //if ($('input[name=L_HAVE_FIXED_LINE]:checked').val() == "Y") {
    //    validateModel003R.push({ id: "txtHomePhone" });
    //}
    //else {
    //    $("#txtHomePhone").removeClass("textFieldFalse").removeClass("form-control errorinput ").addClass("form-control");
    //}

    //if ($("#L_EMAIL").val() != "") {
    //    validateModel003R.push({ id: "L_EMAIL", condition: "Email" });
    //}
    //else {
    //    $("#L_EMAIL").removeClass("textFieldFalse").removeClass("form-control errorinput ").addClass("form-control");
    //}

    validateModel003R.push({ id: "ddlDay" });
    validateModel003R.push({ id: "ddlMonth" });
    validateModel003R.push({ id: "ddlYear" });
}

function ValidationProcessing(validateModel, err) {
    var chk = true;
    var error = "#" + err;
    var temp = "";
    $(error).html(temp);
    $(validateModel).each(function (index, e) {
        if (e.id == undefined) {
            var vgroup = e.vgroup;
            if (vgroup != undefined) {
                var tempkid = "";
                var vchk = false;
                $.each(vgroup, function (j, k) {
                    var kid = "#" + k.id;
                    var kvalue = $(kid).val();
                    if (j == 0) tempkid = $(kid);

                    if ($.trim(kvalue) != "")
                        vchk = true;
                });
                if (vchk) {
                    $(tempkid)[0].className = "form-control";
                } else {
                    chk = false;
                    $(tempkid)[0].className = "form-control errorinput";
                    temp = "Please Fill In All Required Fields."
                }
            }
        } else {
            var id = "#" + e.id;
            var value = $(id).val();
            var lb = $(id)[0].placeholder;
            var cond = e.condition;
            var required = e.required;
            if (required == undefined) required = true;
            if ($.trim(value) == "" && required) {
                if ($(id)[0].className.indexOf("select") > -1) {
                    $($(id)[0]).select2({
                        theme: "classic"
                    });
                } else if ($(id)[0].className == "form-control" || $(id)[0].className.indexOf("errorinput") > -1) {
                    $(id)[0].className = "form-control errorinput";
                    $("#VALIDATE_" + e.id).show();
                } else {
                    $(id)[0].className = "form-control errorinput";
                    $("#VALIDATE_" + e.id).show();
                }

                temp = "Please Fill In All Required Fields."

                chk = false;
            } else if (cond != undefined) {
                var cchk = true;
                if ((!required && value != "") || required) {
                    if (cond == "IDCard")
                        cchk = validateIdCard(value);
                    else if (cond == "Email")
                        cchk = validateEmail(value);
                    else if (cond == "Birthday")
                        cchk = validateBirthDay(value);
                    else if (cond == "Place")
                        cchk = validatePlace(value);
                    else if (cond == "HomeNo")
                        cchk = validateHomeNumber(value);
                    else if (cond == "LatLong")
                        cchk = validateLatLong(value);
                    else if (cond == "Number")
                        cchk = validateNumber(value);
                    else if (cond == "Name")
                        cchk = validateName(value);
                    else if (cond == "FreePhone")
                        cchk = validateFreePhone(value);
                    else if (cond == "MobileNumber")
                        cchk = validateMobileNumber(value);
                }

                if (!cchk) {
                    $(id)[0].className = "form-control errorinput";
                    chk = false;
                    temp = "Please Fill In All Required Fields."
                } else {
                    if ($(id)[0].className == "form-control"
                            || $(id)[0].className.indexOf("errorinput") > -1) {
                        $(id)[0].className = "form-control";
                    } else
                        $(id)[0].className = "form-control";
                }
            } else {
                if ($(id)[0].className.indexOf("select") > -1) {
                    $($(id)[0]).select2({
                    });
                } else if ($(id)[0].className == "form-control errorinput") {
                    $(id)[0].className = "form-control";
                } else if ($(id)[0].className.indexOf("errorinput") > -1) {
                    $(id)[0].className = "form-control";
                }
            }
        }
    });
    //$(error).html(temp);
    if (temp) {
        toastrErrorMessage(temp);
    }
    return chk;
}

function validateEmail(email) {
    var filter = /^(((([a-zA-Z0-9\_\-]{1,50})+(([\.]{1,50}[a-zA-Z0-9\_\-]{1,50}){0,50})){1,95})+@@([\w-]+\.)+[\w-]{2,4})?$/;
    if (email.substr(0, 2) == "-@@" || email.substr(0, 2) == "_@@") {
        return false;
    }
    if (filter.test(email)) {
        return true;
    }
    else {
        return false;
    }
}

function validateHomeNumber(value) {
    var rex = /^[0-9/\-]+$/;
    if (rex.test(value)) {
        return true;
    }
    else {
        return false;
    }
}

function validateMobileNumber(value) {
    if (value.length < 10) {
        return false
    }
    else {
        return true;
    }
}

function validatePlace(value) {
    var rex = /^[ก-๙a-zA-Z0-9\.\-\,\/\(\)\s]+$/;
    if (rex.test(value)) {
        return true;
    }
    else {
        return false;
    }
}

function validateLatLong(value) {
    var rex = /^(-)?[0-9]*[.]{1}[0-9]{6}$/;
    if (rex.test(value)) {
        return true;
    }
    else {
        return false;
    }
}

function validateNumber(value) {
    var rex = /^[0-9]+$/;
    if (rex.test(value)) {
        return true;
    }
    else {
        return false;
    }
}

function validateName(value) {
    var rex = /^[ก-๙a-zA-Z\.\s]+$/;
    if (rex.test(value)) {
        return true;
    }
    else {
        return false;
    }
}

function validateFreePhone(value) {
    var rex = /^[ก-๙a-zA-Z0-9\.\-\,\(\)\s]+$/;
    if (rex.test(value)) {
        return true;
    }
    else {
        return false;
    }
}

function validateMobileNumberOR(id, error) {

    var temp = "";
    var iid = "#" + id;
    if ($(iid).val() != "") {
        if ($(iid).val().length < 10) {

            $(iid)[0].className = "form-control errorinput";

            temp = "<li>Please fill in all required fields.</li>"

            $("#" + error).html(temp);
            return false;
        }
        else {
            $(iid)[0].className = "form-control";
            $("#" + error).html(temp);
            return true;
        }
    }
    else {
        $(iid)[0].className = "form-control";
        $("#" + error).html(temp);
        return true;
    }
}

function onClickSameAsAddrSetUp() {
    if ($('#chkSameAsAddrSetUp').is(':checked')) {
        var proviceId = $("#ProvinceSetup").val();
        var amphurId = $("#AmphurSetup").val();
        var tumbonId = $("#TumbonSetup").val();
        var zipcode = $("#ZipCodeSetup").data('kendoDropDownList').text();

        $('#AddressPanelModelSendDoc_L_HOME_NUMBER_2').val($("#AddressPanelModelSetup_L_HOME_NUMBER_2").val());
        $('#AddressPanelModelSendDoc_L_MOO').val($("#AddressPanelModelSetup_L_MOO").val());
        $('#AddressPanelModelSendDoc_L_MOOBAN').val($("#AddressPanelModelSetup_L_MOOBAN").val());
        $('#AddressPanelModelSendDoc_L_BUILD_NAME').val($("#AddressPanelModelSetup_L_BUILD_NAME").val());
        $('#AddressPanelModelSendDoc_L_FLOOR').val($("#AddressPanelModelSetup_L_FLOOR").val());
        $('#AddressPanelModelSendDoc_L_ROOM').val($("#AddressPanelModelSetup_L_ROOM").val());
        $('#AddressPanelModelSendDoc_L_SOI').val($("#AddressPanelModelSetup_L_SOI").val());
        $('#AddressPanelModelSendDoc_L_ROAD').val($("#AddressPanelModelSetup_L_ROAD").val());

        //$("#ProvinceSendDoc").data("kendoDropDownList").select($("#ProvinceSetup").data("kendoDropDownList").select());
        //$("#AmphurSendDoc").data("kendoDropDownList").select($("#AmphurSetup").data("kendoDropDownList").select());
        //$("#TumbonSendDoc").data("kendoDropDownList").select($("#TumbonSetup").data("kendoDropDownList").select());
        //$("#ZipCodeSendDoc").data("kendoDropDownList").select($("#ZipCodeSetup").data("kendoDropDownList").select());

        getAddressToSendDoc(proviceId, amphurId, tumbonId, zipcode);
    }
    else {

        SetDefaultAddressPage("SendDoc");
    }
}

function onClickSameAsAddrSetUp2() {
    if ($('#chkSameAsAddrSetUp2').is(':checked')) {
        var proviceId = $("#ProvinceSetup").val();
        var amphurId = $("#AmphurSetup").val();
        var tumbonId = $("#TumbonSetup").val();
        var zipcode = $("#ZipCodeSetup").data('kendoDropDownList').text();

        $('#AddressPanelModelVat_L_HOME_NUMBER_2').val($("#AddressPanelModelSetup_L_HOME_NUMBER_2").val());
        $('#AddressPanelModelVat_L_MOO').val($("#AddressPanelModelSetup_L_MOO").val());
        $('#AddressPanelModelVat_L_MOOBAN').val($("#AddressPanelModelSetup_L_MOOBAN").val());
        $('#AddressPanelModelVat_L_BUILD_NAME').val($("#AddressPanelModelSetup_L_BUILD_NAME").val());
        $('#AddressPanelModelVat_L_FLOOR').val($("#AddressPanelModelSetup_L_FLOOR").val());
        $('#AddressPanelModelVat_L_ROOM').val($("#AddressPanelModelSetup_L_ROOM").val());
        $('#AddressPanelModelVat_L_SOI').val($("#AddressPanelModelSetup_L_SOI").val());
        $('#AddressPanelModelVat_L_ROAD').val($("#AddressPanelModelSetup_L_ROAD").val());

        //$("#ProvinceVat").data("kendoDropDownList").select($("#ProvinceSetup").data("kendoDropDownList").select());
        //$("#AmphurSAmphurVatendDoc").data("kendoDropDownList").select($("#AmphurSetup").data("kendoDropDownList").select());
        //$("#TumbonVat").data("kendoDropDownList").select($("#TumbonSetup").data("kendoDropDownList").select());
        //$("#ZipCodeVat").data("kendoDropDownList").select($("#ZipCodeSetup").data("kendoDropDownList").select());
        getAddressToVat(proviceId, amphurId, tumbonId, zipcode);
    }
    else {

        SetDefaultAddressPage2("Vat");
    }
}

function onClickSameAsAddrSendDoc() {
    if ($('#chkSameAsAddrSendDoc').is(':checked')) {
        var proviceId = $("#ProvinceSetup").val();
        var amphurId = $("#AmphurSetup").val();
        var tumbonId = $("#TumbonSetup").val();
        var zipcode = $("#ZipCodeSetup").data('kendoDropDownList').text();

        $('#AddressPanelModelVat_L_HOME_NUMBER_2').val($("#AddressPanelModelSetup_L_HOME_NUMBER_2").val());
        $('#AddressPanelModelVat_L_MOO').val($("#AddressPanelModelSetup_L_MOO").val());
        $('#AddressPanelModelVat_L_MOOBAN').val($("#AddressPanelModelSetup_L_MOOBAN").val());
        $('#AddressPanelModelVat_L_BUILD_NAME').val($("#AddressPanelModelSetup_L_BUILD_NAME").val());
        $('#AddressPanelModelVat_L_FLOOR').val($("#AddressPanelModelSetup_L_FLOOR").val());
        $('#AddressPanelModelVat_L_ROOM').val($("#AddressPanelModelSetup_L_ROOM").val());
        $('#AddressPanelModelVat_L_SOI').val($("#AddressPanelModelSetup_L_SOI").val());
        $('#AddressPanelModelVat_L_ROAD').val($("#AddressPanelModelSetup_L_ROAD").val());

        getAddressToVat(proviceId, amphurId, tumbonId, zipcode);

    }
    else {
        var proviceId = '';
        var amphurId = '';
        var tumbonId = '';
        var zipcode = '';

        $('#AddressPanelModelVat_L_HOME_NUMBER_2').val('');
        $('#AddressPanelModelVat_L_MOO').val('');
        $('#AddressPanelModelVat_L_MOOBAN').val('');
        $('#AddressPanelModelVat_L_BUILD_NAME').val('');
        $('#AddressPanelModelVat_L_FLOOR').val('');
        $('#AddressPanelModelVat_L_ROOM').val('');
        $('#AddressPanelModelVat_L_SOI').val('');
        $('#AddressPanelModelVat_L_ROAD').val('');

        getAddressToVat(proviceId, amphurId, tumbonId, zipcode);

    }
}

//function Validate_Number(e) {
//    var keyCode = e.which ? e.which : e.keyCode
//    //console.log(e);
//    //console.log(e.originalTarget.value);
//    //console.log(keyCode);
//    var result = false
//    if (
//        (keyCode >= 48 && keyCode <= 57)
//        || (keyCode == 8 || keyCode == 99 || keyCode == 118 // (ctrl + v)
//        || (keyCode >= 35 && keyCode <= 40)) // key special
//        )
//    {
//        result = true;
//    }
//    else
//    {
//        result = false;
//    }
//    return result;
//}

function validateIdCard(idCardNo) {
    //console.log($('#ID_CARD_NAME :selected').val());
    var idcard = idCardNo;
    var firstIdCard = idcard.substr(0, 1);
    var flagResult = true;


    if (firstIdCard == "1") {
        if (idcard == $("#hdL_FBB_Exc_1").val()) {
            return true;
        }
    }
    else {
        if (firstIdCard.toUpperCase() == $("#hdL_FBB_Exc_D").val().substr(0, 1).toUpperCase()
            || firstIdCard.toUpperCase() == $("#hdL_FBB_Exc_F").val().substr(0, 1).toUpperCase()
            || firstIdCard.toUpperCase() == $("#hdL_FBB_Exc_I").val().substr(0, 1).toUpperCase()
            || firstIdCard.toUpperCase() == $("#hdL_FBB_Exc_S").val().substr(0, 1).toUpperCase()) {
            return true;
        }
    }

    if (flagResult == true) {
        if ($('#ID_CARD_NAME :selected').val() == "HILL_CARD") {
            if (idcard.length != parseInt($("#hdlFBB_Con_LengthIDCardNumberHILL_CARD").val(), 10)) {
                flagResult = false;
            }
            else {
                flagResult = true;
            }
        }
        else if ($('#ID_CARD_NAME :selected').val() == "IMM_CARD") {
            if (idcard.length != parseInt($("#hdlFBB_Con_LengthIDCardNumberIMM_CARD").val(), 10)) {
                flagResult = false;
            }
            else {
                flagResult = true;
            }
        }
        else if ($('#ID_CARD_NAME :selected').val() == "ID_CARD") {
            if (idcard.length != parseInt($("#hdlFBB_Con_LengthIDCardNumberID_CARD").val(), 10)) {
                flagResult = false;
            }
            else {
                flagResult = checkIdCard(idcard);

            }
        }
            /*
        else if ($('#ID_CARD_NAME :selected').val() == "TAX_ID") {
            if (idcard.length != parseInt($("#hdlFBB_Con_Length_ID_Card_Number_TAX_ID").val(), 10)) {
                flagResult = false;
            }
            else {
                flagResult = true;
            }
        }*/
        else if ($('#ID_CARD_NAME :selected').val() == "MONK_CERT") {
            if (idcard.length != parseInt($("#hdlFBB_Con_LengthIDCardNumberMONK_CERT").val(), 10)) {
                flagResult = false;
            }
            else {
                flagResult = checkIdCard(idcard);
            }
        }
    }
    return flagResult;
}

function checkIdCard(idcard) {
    //console.log(idcard);
    var num = strSplit(idcard); // function เพิ่มเติม
    var sum = 0;
    var total = 0;
    var digi = 13;
    for (i = 0; i < 12; i++) {
        sum = sum + (num[i] * digi);
        digi--;
    }
    total = ((11 - (sum % 11)) % 10);

    if (total != num[12]) {
        //console.log("if");
        return false;
    }
    else {
        //console.log("else");
        return true;
    }
}

function strSplit(f_string, f_split_length) {

    f_string += '';
    if (f_split_length == undefined) {
        f_split_length = 1;
    }
    if (f_split_length > 0) {
        var result = [];
        while (f_string.length > f_split_length) {
            result[result.length] = f_string.substring(0, f_split_length);
            f_string = f_string.substring(f_split_length);
        }
        result[result.length] = f_string;
        return result;
    }
    return false;
}

function onchangeEvent() {
    //var _L_EVENT_CODE = $("#L_EVENT_CODE").val().trim();
    //if(_L_EVENT_CODE.length == 0)
    //{
    //    $("#dtpPeriodDateTH_text").val("");
    //}
}
</script>


<link href="~/Content/responsivefibre.css" rel="stylesheet" />

<link href="~/Content/jquery.datetimepicker.css" rel="stylesheet" />
<script src="~/Scripts/js/cultures/kendo.culture.th.min.js"></script>
<script src="~/Scripts/js/cultures/kendo.culture.th-TH.min.js"></script>

<script src="~/Scripts/jquery.datetimepicker.js"></script>
<script src="~/Scripts/jquery.datetimepicker.min.js"></script>
@*<script src="~/Scripts/resendOrder.js" type="text/javascript"></script>*@
@*<script src="~/Scripts/toast.js"></script>*@
<link href="~/Content/toastr.css" rel="stylesheet" />
<script src="~/Scripts/js/toastr.js"></script>