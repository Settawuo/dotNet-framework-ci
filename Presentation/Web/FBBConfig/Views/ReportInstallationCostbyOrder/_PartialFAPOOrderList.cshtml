@using WBBEntity.PanelModels;
@{
    string L_STATUS = "";
    string L_INTERNET_NO = "";
    string L_SUBCONTRACT_NAME = "";
    string L_DISTANCE_APP = "";
    string L_DISTANCE_ESRI = "";
    string L_DISTANCE_MAP = "";
    string L_DISTANCE_REAL = "";
    string L_DISTANCE_VALIDATE = "";
    string L_TOTAL_DISTANCE = "";
    string L_OVER_DISTANCE = "";
    string L_LASTMILE_PRICE = "";
    string L_ORDER_FEE = "";
    string L_TOTAL_PAID = "";
    string L_LAST_UPDATE_DATE = "";
    string L_LAST_UPDATE_BY = "";
    string L_DISTANCE_PAID = "";
    string L_REMARK = "";
    //Phase III  03/01/2019
    string L_Request_Distance = "";
    string L_Approve_Distance = "";
    string L_Approve_STAFF = "";
    string L_Approve_STATUS = "";
    string L_Reuse_Flag = "";
    string L_Maping_Cost = "";
    string L_Over_Length = "";
    string L_Over_Cost = "";
    string L_Rule_ID = "";
    string L_SUB_CONTRACT_TYPE = "";
    string L_SUB_CONTRACT_SUB_TYPE = "";
    string L_REQUEST_SUB_FLAG = "";
    string L_DISPUTE_DISTANCE = "";
    string L_PRODUCT_OWNER = "";// L_PRODUCT_OWNER
    string L_PRIORITY = "";
    string L_LOOKUP_ID = "";
    string L_TOPUP_LOOKUP_ID = "";
    // R19.03
    string L_ORDER_NO = "ORDER_NO";
    // End R19.03
    string L_APPROVE_FLAG = "APPROVE FLAG";
    string L_DIFF_DISTANCE = "DIFF DISTANCE";
    string L_RECAL_DIS = "RECAL DISTANCE";
    string L_RECAL_RATE = "RECAL RATE";
    string L_RECAL_OVER_LENGTH = "RECAL OVER LENGTH";
    string L_RECAL_OVER_COST = "RECAL OVER COST";
    string L_TOTAL_COST = "TOTAL FOA";
    string L_INDOOR_COST = "INDOOR COST";
    string L_OUTDOOR_COST = "OUTDOOR COST";
    string L_OM_ORDER_STATUS = "ORDER STATUS";
    string L_RECAL_MAPPING_COST = "L_RECAL_MAPPING_COST";
    string L_ENTRY_FEE = "L_ENTRY_FEE";
    string L_USER_ID = "USER_ID";
    string L_SUBCONTRACT_LOCATION = "L_SUBCONTRACT_LOCATION";

    string L_SOA_SUBMIT_DATE = "";
    string L_ORDER_TYPE = "";
    string L_COMPLETE_DATE = "";
    string L_LOOKUP_NAME = "";
    string L_LOOKUP_COST = "";
    string L_ONTOP_LOOKUP_ID = "";
    string L_ONTOP_LOOKUP_NAME = "";
    string L_ONTOP_COST = "";
    string L_BASE_COST = "";
    string L_TOTAL_SOA = "";
    string L_RECAL_LOOKUP_ID = "";
    string L_RECAL_ONTOP_LOOKUP_ID = "";
    string L_RECAL_COST = "";
    string L_TOTAL_RECAL = "";
    string L_TOTAL_FEE = "";
    string L_SYMPTOM_GROUP = "";
    string L_SYMPTOM_NAME = "";
    string L_MODIFY_BY = "";
    string L_MODIFY_DATE = "";
    string L_TEAM_ID = "";
    string L_MAIN_PROMO_CODE = "";
    string L_REGION = "";
    string L_PRODUCT_NAME = "";
    string L_VENDOR_CODE = "";
    string L_IR_DOC = "";
    string L_INVOICE_NO = "";
    string L_ORDER_STATUS = "";
    string L_PERIOD_DATE = "";
    string L_TRANSFER_DATE = "";
    if (ViewBag.FAPOOrderListScreen != null)
    {
        var configscreen = (List<LovValueModel>)ViewBag.FAPOOrderListScreen;

        L_STATUS = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_STATUS").LovValue1 : "";
        L_INTERNET_NO = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_INTERNET_NO").LovValue1 : "";
        L_SUBCONTRACT_NAME = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_SUBCONTRACT_NAME").LovValue1 : "";
        L_DISTANCE_APP = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_DISTANCE_APP").LovValue1 : "";
        L_PRODUCT_OWNER = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_PRODUCT_OWNER").LovValue1 : "";//L_PRODUCT_OWNER
        L_PRIORITY = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_PRIORITY").LovValue1 : "";//L_PRIORITY
        L_LOOKUP_ID = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_LOOKUP_ID").LovValue1 : "";//L_LOOKUP_ID
        L_TOPUP_LOOKUP_ID = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_TOPUP_LOOKUP_ID").LovValue1 : "";//L_TOPUP_LOOKUP_ID
        L_DISTANCE_ESRI = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_DISTANCE_ESRI").LovValue1 : "";
        L_DISTANCE_MAP = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_DISTANCE_MAP").LovValue1 : "";
        L_DISTANCE_REAL = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_DISTANCE_REAL").LovValue1 : "";
        L_DISTANCE_VALIDATE = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_DISTANCE_VALIDATE").LovValue1 : "";
        L_TOTAL_DISTANCE = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_DISTANCE_TOTAL").LovValue1 : "";
        L_OVER_DISTANCE = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_DISTANCE_MORE_325").LovValue1 : "";
        L_DISTANCE_PAID = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_DISTANCE_PAID").LovValue1 : "";

        L_LASTMILE_PRICE = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_LASTMILE_PRICE").LovValue1 : "";
        L_ORDER_FEE = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_ORDER_FEE").LovValue1 : "";
        L_TOTAL_PAID = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_TOTAL_PAID").LovValue1 : "";
        L_LAST_UPDATE_DATE = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_LAST_UPDATE_DATE").LovValue1 : "";
        L_LAST_UPDATE_BY = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_LAST_UPDATE_BY").LovValue1 : "";
        L_REMARK = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_REMARK").LovValue1 : "";
        L_Request_Distance = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_Request_Distance").LovValue1 : "";
        L_Approve_Distance = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_Approve_Distance").LovValue1 : "";
        L_Approve_STAFF = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_Approve_STAFF").LovValue1 : "";
        L_Approve_STATUS = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_Approve_STATUS").LovValue1 : "";
        L_Reuse_Flag = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_Reuse_Flag").LovValue1 : "";
        L_Maping_Cost = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_Maping_Cost").LovValue1 : "";
        L_Over_Length = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_Over_Length").LovValue1 : "";
        L_Over_Cost = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_Over_Cost").LovValue1 : "";
        L_Rule_ID = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_Rule_ID").LovValue1 : "";
        L_SUB_CONTRACT_TYPE = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_SUB_CONTRACT_TYPE").LovValue1 : "";
        L_SUB_CONTRACT_SUB_TYPE = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_SUB_CONTRACT_SUB_TYPE").LovValue1 : "";
        L_REQUEST_SUB_FLAG = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_REQUEST_SUB_FLAG").LovValue1 : "";
        L_DISPUTE_DISTANCE = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_DISPUTE_DISTANCE").LovValue1 : "";
        L_RECAL_MAPPING_COST = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_RECAL_MAPPING_COST").LovValue1 : "";
        L_ENTRY_FEE = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_ENTRY_FEE").LovValue1 : "";
        L_USER_ID = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_USER_ID").LovValue1 : "";
        L_ORDER_NO = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_ORDER_NO").LovValue1 : "";
        L_OM_ORDER_STATUS = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_OM_ORDER_STATUS").LovValue1 : "";
        L_SUBCONTRACT_LOCATION = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_SUBCONTRACT_LOCATION").LovValue1 : "";



        L_SOA_SUBMIT_DATE = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_SOA_SUBMIT_DATE").LovValue1 : "";
        L_ORDER_TYPE = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_ORDER_TYPE").LovValue1 : "";
        L_COMPLETE_DATE = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_COMPLETE_DATE").LovValue1 : "";
        L_LOOKUP_NAME = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_LOOKUP_NAME").LovValue1 : "";
        L_LOOKUP_COST = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_LOOKUP_COST").LovValue1 : "";
        L_ONTOP_LOOKUP_ID = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_ONTOP_LOOKUP_ID").LovValue1 : "";
        L_ONTOP_LOOKUP_NAME = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_ONTOP_LOOKUP_NAME").LovValue1 : "";
        L_ONTOP_COST = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_ONTOP_COST").LovValue1 : "";
        L_BASE_COST = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_BASE_COST").LovValue1 : "";
        L_TOTAL_SOA = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_TOTAL_SOA").LovValue1 : "";
        L_RECAL_LOOKUP_ID = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_RECAL_LOOKUP_ID").LovValue1 : "";
        L_RECAL_ONTOP_LOOKUP_ID = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_RECAL_ONTOP_LOOKUP_ID").LovValue1 : "";
        L_RECAL_COST = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_RECAL_COST").LovValue1 : "";
        L_TOTAL_RECAL = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_TOTAL_RECAL").LovValue1 : "";
        L_TOTAL_FEE = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_TOTAL_FEE").LovValue1 : "";
        L_SYMPTOM_GROUP = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_SYMPTOM_GROUP").LovValue1 : "";
        L_SYMPTOM_NAME = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_SYMPTOM_NAME").LovValue1 : "";
        L_MODIFY_BY = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_MODIFY_BY").LovValue1 : "";
        L_MODIFY_DATE = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_MODIFY_DATE").LovValue1 : "";

        L_TEAM_ID = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_TEAM_ID").LovValue1 : "";
        L_MAIN_PROMO_CODE = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_MAIN_PROMO_CODE").LovValue1 : "";
        L_REGION = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_REGION").LovValue1 : "";
        L_PRODUCT_NAME = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_PRODUCT_NAME").LovValue1 : "";
        L_VENDOR_CODE = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_VENDOR_CODE").LovValue1 : "";
        L_IR_DOC = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_IR_DOC").LovValue1 : "";
        L_INVOICE_NO = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_INVOICE_NO").LovValue1 : "";
        L_ORDER_STATUS = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_ORDER_STATUS").LovValue1 : "";
        L_PERIOD_DATE = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_PERIOD_DATE").LovValue1 : "";
        L_TRANSFER_DATE = configscreen.Any(f => f.Type == "L_ORD_LIST_FAPO_REPORT_INSTALLATION") ? configscreen.FirstOrDefault(f => f.Name == "L_TRANSFER_DATE").LovValue1 : "";


        //priority
        //look up id
        //topup look up id
    }

}

<div id="FAPOGridResult" class="row">
    @{
        int counter = 1;
    }
    @(Html.Kendo().TabStrip()
                                                                                                                                .Name("SoftwareTabStrip")
                                                                                                                                .Events(events => events
                                                                                                                                        .Select("onSelect")
                                                                                                                                    )
                                                                                                                                .Animation(animation => animation.Open(effect => effect.Fade(FadeDirection.In)))
                                                                                                                                .Items(tabstrip =>
                                                                                                                                {
                                                                                                                                tabstrip.Add()
                                                                                                                                            .Text("INSTALLATION")
                                                                                                                                            .Selected(true)
                                                                                                                                            .Content(@<text>
                                                                                                                                                    @(Html.Kendo().Grid<WBBEntity.PanelModels.FBBWebConfigModels.ReportInstallationCostbyOrderListModel_Binding>()
                                                                                                                                                                                      .Name("FAPOView")
                                                                                                                                                                               .Selectable(selectable => selectable.Enabled(true).Mode(GridSelectionMode.Single).Type(GridSelectionType.Row))
                                                                                                                                                                      .Columns(columns =>
                                                                                                                                                                      {
                                                                                                                                                                          //columns.Bound(p => p.ORDER_STATUS)//.ClientTemplate("<input type='checkbox' class='k-cb FAPOViewRow-checkbox' />")
                                                                                                                                                                          //    .ClientTemplate("# if (ORDER_STATUS=='Re Check' || ORDER_STATUS === 'Dispute'|| ORDER_STATUS === 'Completed' ){ #<input type='checkbox' class='k-cb FAPOViewRow-checkbox' /># }else{# <input type='checkbox' class='k-cb FAPOViewRow-checkbox hidden' disabled= 'disabled' />#}#")
                                                                                                                                                                          //    .HeaderTemplate("<input type='checkbox' id='FAPOViewheader-chb' class='h-cb k-cb' />").HtmlAttributes(new { style = "text-align:center;" })
                                                                                                                                                                          //    .HeaderHtmlAttributes(new { style = "text-align:center" }).Width(50);

                                                                                                                                                                          columns.Command(command =>
                                                                                                                                                                          {
                                                                                                                                                                              command.Custom("Edit").Click("EditConfig").Text("<i class='fa fa-pencil-square-o fa-lg'></i>");

                                                                                                                                                                          }).Title("ACTION").Width(80);

                                                                                                                                                                          //columns.Bound(p => p.RowNumber).Title("No").HtmlAttributes(new { style = "text-align:center;" }).Width(40).Template(t => { }).ClientTemplate("#= renderNumber(data) #");
                                                                                                                                                                          columns.Bound(p => p.WORK_STATUS).Title(@L_STATUS).HtmlAttributes(new { style = "text-align:left;" }).Width(170);//WORKFLOW STATUS
                                                                                                                                                                          columns.Bound(p => p.ACCESS_NUMBER_MASKING).Title(@L_INTERNET_NO).HtmlAttributes(new { style = "text-align:left;" }).Width(110);//InternetNO
                                                                                                                                                                          columns.Bound(p => p.ACCESS_NO).Title(@L_INTERNET_NO).HtmlAttributes(new { style = "text-align:left;" }).Width(120).Hidden();//InternetNO
                                                                                                                                                                                                                                                                                                       //columns.Bound(p => p.PAY_PERIOD).Title(@L_PERIOD).HtmlAttributes(new { style = "text-align:left;" }).Width(120);//รอบการเบิก
                                                                                                                                                                                                                                                                                                       //columns.Bound(p => p.ORDER_STATUS_DT).Title(@L_ORDER_STATUS_DATE).HtmlAttributes(new { style = "text-align:center;" }).Width(160).ClientTemplate("# if ( ORDER_STATUS_DT === '' || ORDER_STATUS_DT === null ){ # - # }else{# #= kendo.toString(kendo.parseDate(ORDER_STATUS_DT,'dd/MM/yyyy'), '" + "dd/MM/yyyy" + "') # #}#").Encoded(true).Format("{0: dd/MM/yyyy}");


                                                                                                                                                                          //columns.Bound(p => p.ACCOUNT_NAME).Title(@L_PRODUCT_OWNER).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);//PRODUCT OWNER

                                                                                                                                                                          columns.Bound(p => p.ORDER_NO).Title(@L_ORDER_NO).HtmlAttributes(new { style = "text-align:left;" }).Width(220).Hidden();//Order No.
                                                                                                                                                                          columns.Bound(p => p.ORDER_NO_SFF).Title(@L_ORDER_NO).HtmlAttributes(new { style = "text-align:left;" }).Width(220);//Order No.
                                                                                                                                                                          columns.Bound(p => p.ORDER_TYPE).Title(L_ORDER_TYPE).HtmlAttributes(new { style = "text-align:left;" }).Width(220);//Order Type.
                                                                                                                                                                          columns.Bound(p => p.COMPLETE_DATE_TEXT).Title(L_COMPLETE_DATE).HtmlAttributes(new { style = "text-align:left;" }).Width(220);//Complete date
                                                                                                                                                                          columns.Bound(p => p.SOA_SUBMIT_DATE_TEXT).Title(L_SOA_SUBMIT_DATE).HtmlAttributes(new { style = "text-align:left;" }).Width(220);//SOA Submit Date

                                                                                                                                                                          columns.Bound(p => p.SUBCONTRACT_NAME).Title(L_SUBCONTRACT_NAME).HtmlAttributes(new { style = "text-align:left;" }).Width(180);//Subcontract

                                                                                                                                                                          columns.Bound(p => p.SUBCONTRACT_TYPE).Title(L_SUB_CONTRACT_TYPE).HtmlAttributes(new { style = "text-align:left;" }).Width(200);//Subcontract type
                                                                                                                                                                          columns.Bound(p => p.SUBCONTRACT_SUB_TYPE).Title(L_SUB_CONTRACT_SUB_TYPE).HtmlAttributes(new { style = "text-align:left;" }).Width(200);//Subcontract sub type
                                                                                                                                                                          //New Required ment
                                                                                                                                                                          columns.Bound(p => p.TEAM_ID).Title(L_TEAM_ID).HtmlAttributes(new { style = "text-align:center;" }).Format("{0:n}").Width(150);//Team Id
                                                                                                                                                                          columns.Bound(p => p.MAIN_PROMO_CODE).Title(L_MAIN_PROMO_CODE).HtmlAttributes(new { style = "text-align:center;" }).Format("{0:n}").Width(150).Hidden();//Main Promo Code
                                                                                                                                                                          columns.Bound(p => p.REGION).Title(L_REGION).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);//Region
                                                                                                                                                                          columns.Bound(p => p.PRODUCT_NAME).Title(L_PRODUCT_NAME).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);//Product Name
                                                                                                                                                                          columns.Bound(p => p.SUBCONTRACT_CODE).Title(L_VENDOR_CODE).HtmlAttributes(new { style = "text-align:center;" }).Format("{0:n}").Width(150);//Vendor Code
                                                                                                                                                                          columns.Bound(p => p.IR_DOC).Title(L_IR_DOC).HtmlAttributes(new { style = "text-align:center;" }).Format("{0:n}").Width(150);//Ir Doc
                                                                                                                                                                          columns.Bound(p => p.INVOICE_NO).Title(L_INVOICE_NO).HtmlAttributes(new { style = "text-align:center;" }).Format("{0:n}").Width(150);//Invoice No
                                                                                                                                                                          columns.Bound(p => p.PRODUCT_OWNER).Title(L_PRODUCT_OWNER).HtmlAttributes(new { style = "text-align:left;" }).Format("{0:n}").Width(150);//Product Owner
                                                                                                                                                                          columns.Bound(p => p.ORDER_STATUS).Title(L_ORDER_STATUS).HtmlAttributes(new { style = "text-align:left;" }).Format("{0:n}").Width(150);//Order Status
                                                                                                                                                                          columns.Bound(p => p.PERIOD_DATE_TEXT).Title(L_PERIOD_DATE).HtmlAttributes(new { style = "text-align:center;" }).Format("{0:n}").Width(150);//Period Date
                                                                                                                                                                          columns.Bound(p => p.TRANSFER_DATE_TEXT).Title(L_TRANSFER_DATE).HtmlAttributes(new { style = "text-align:center;" }).Format("{0:n}").Width(150);//Transfer Date

                                                                                                                                                                          columns.Bound(p => p.LOOKUP_ID).Title(@L_LOOKUP_ID).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);//Lookup ID
                                                                                                                                                                          columns.Bound(p => p.LOOKUP_NAME).Title(L_LOOKUP_NAME).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);//Lookup Name
                                                                                                                                                                          columns.Bound(p => p.LOOKUP_COST).Title(L_LOOKUP_COST).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);//Lookup Cost

                                                                                                                                                                          columns.Bound(p => p.ONTOP_LOOKUP_ID).Title(L_ONTOP_LOOKUP_ID).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);//TOPUP LOOKUP ID|| ONTOP LOOKUP ID
                                                                                                                                                                          columns.Bound(p => p.ONTOP_LOOKUP_NAME).Title(L_ONTOP_LOOKUP_NAME).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);//TOPUP LOOKUP ID|| ONTOP LOOKUP ID
                                                                                                                                                                          columns.Bound(p => p.ONTOP_COST).Title(L_ONTOP_COST).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);//ONTOP COST
                                                                                                                                                                          columns.Bound(p => p.TOTAL_DISTANCE).Title(@L_TOTAL_DISTANCE).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);//Total Distance
                                                                                                                                                                          columns.Bound(p => p.BASE_COST).Title(L_BASE_COST).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);//Base Cost
                                                                                                                                                                          columns.Bound(p => p.OVER_LENGTH).Title(L_Over_Length).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);//Over lenght
                                                                                                                                                                          columns.Bound(p => p.OVER_COST).Title(L_Over_Cost).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);//Over cost
                                                                                                                                                                          columns.Bound(p => p.TOTAL_SOA).Title(L_TOTAL_SOA).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);//Total Soa
                                                                                                                                                                          columns.Bound(p => p.RECAL_LOOKUP_ID).Title(L_RECAL_LOOKUP_ID).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);//Recal Lookup ID
                                                                                                                                                                          columns.Bound(p => p.RECAL_ONTOP_LOOKUP_ID).Title(L_RECAL_ONTOP_LOOKUP_ID).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);//Recal Ontop Lookup ID
                                                                                                                                                                          columns.Bound(p => p.RECAL_DISTANCE).Title(L_RECAL_DIS).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);//Recal Distance
                                                                                                                                                                          columns.Bound(p => p.RECAL_COST).Title(L_RECAL_COST).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);//Recal Cost
                                                                                                                                                                          columns.Bound(p => p.RECAL_OVER_LENGTH).Title(L_RECAL_OVER_LENGTH).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);//Recal over lenght
                                                                                                                                                                          columns.Bound(p => p.RECAL_OVER_COST).Title(L_RECAL_OVER_COST).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);//Recal Over Cost
                                                                                                                                                                          columns.Bound(p => p.TOTAL_RECAL).Title(L_TOTAL_RECAL).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);//Total Recal
                                                                                                                                                                                                                                                                                                                //columns.Bound(p => p.TOTAL_DISPUTE).Title("Total Dispute").HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);//Total Dispute
                                                                                                                                                                          columns.Bound(p => p.REUSED_FLAG).Title(L_Reuse_Flag).HtmlAttributes(new { style = "text-align:left;" }).Width(200);//Reuse Flag
                                                                                                                                                                          columns.Bound(p => p.REQUEST_SUB_FLAG).Title(L_REQUEST_SUB_FLAG).HtmlAttributes(new { style = "text-align:left;" }).Width(200);//Request Sub Flag
                                                                                                                                                                          columns.Bound(p => p.TOTAL_FEE).Title(L_TOTAL_FEE).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);//Total Fee
                                                                                                                                                                          columns.Bound(p => p.LAST_UPDATE_DATE_TEXT).Title(@L_LAST_UPDATE_DATE).HtmlAttributes(new { style = "text-align:center;" }).Width(150);//Last Update Date
                                                                                                                                                                          columns.Bound(p => p.LAST_UPDATE_BY).Title(@L_LAST_UPDATE_BY).HtmlAttributes(new { style = "text-align:center;" }).Width(150);//Last Update By



                                                                                                                                                                      })
                                                                                                                                                                            //.ToolBar(toolBar => toolBar.Save()).HtmlAttributes(new { style = "text-align:right;" })
                                                                                                                                                                            .Scrollable(scrollable => scrollable.Height("auto"))
                                                                                                                                                                            //  .Editable(editable => editable.Mode(GridEditMode.InCell))
                                                                                                                                                                            .Resizable(resize => resize.Columns(true))
                                                                                                                                                                            .Sortable()
                                                                                                                                                                            .Pageable(pageable => pageable.Numeric(true).PageSizes(new int[] { 20, 50, 100 }))
                                                                                                                                                                            .AutoBind(false)
                                                                                                                                                                            .DataSource(dataSource => dataSource
                                                                                                                                                                                .Ajax()
                                                                                                                                                                                    .Aggregates(aggregates =>
                                                                                                                                                                                    {

                                                                                                                                                                                        aggregates.Add(p => p.TOTAL_PAID).Sum();

                                                                                                                                                                                    })
                                                                                                                                                                                .PageSize(20)
                                                                                                                                                                                .Read(read => read.Action("SearchReportInstallationCostbyOrderList", "ReportInstallationCostbyOrder").Data("bindingValue"))
                                                                                                                                                                                .Update(update => update.Action("UpdateSCMOrderList", "ReportInstallationCostbyOrder"))
                                                                                                                                                                            )
                                                                                                                                                                            .Events(e => e.DataBound("onFAPOViewDataBound"))
                                                                                                                                                                       ) </text>);
                                                                                                                                  tabstrip.Add()
                                                                                                                                     .Text("MA")
                                                                                                                                     .Content(@<text>
                                                                                                                                           @(Html.Kendo().Grid<WBBEntity.PanelModels.FBBWebConfigModels.ReportInstallationCostbyOrderListModel_Binding>()
                                                                                                                                              .Name("FAPOView2")
                                                                                                                                              .Selectable(selectable => selectable.Enabled(true).Mode(GridSelectionMode.Single).Type(GridSelectionType.Row))
                                                                                                                                                                      .Columns(columns =>
                                                                                                                                                                      {
                                                                                                                                                                          //columns.Bound(p => p.ORDER_STATUS)//.ClientTemplate("<input type='checkbox' class='k-cb FAPOViewRow-checkbox' />")
                                                                                                                                                                          //    .ClientTemplate("# if (ORDER_STATUS=='Re Check' || ORDER_STATUS === 'Dispute'|| ORDER_STATUS === 'Completed' ){ #<input type='checkbox' class='k-cb FAPOViewRow-checkbox' /># }else{# <input type='checkbox' class='k-cb FAPOViewRow-checkbox hidden' disabled= 'disabled' />#}#")
                                                                                                                                                                          //    .HeaderTemplate("<input type='checkbox' id='FAPOViewheader-chb' class='h-cb k-cb' />").HtmlAttributes(new { style = "text-align:center;" })
                                                                                                                                                                          //    .HeaderHtmlAttributes(new { style = "text-align:center" }).Width(50);

                                                                                                                                                                          columns.Command(command =>
                                                                                                                                                                          {
                                                                                                                                                                              command.Custom("Edit").Click("EditConfig").Text("<i class='fa fa-pencil-square-o fa-lg'></i>");

                                                                                                                                                                          }).Title("ACTION").Width(80);

                                                                                                                                                                          columns.Bound(p => p.ORDER_STATUS).Title(@L_STATUS).HtmlAttributes(new { style = "text-align:left;" }).Width(170);//WORKFLOW STATUS
                                                                                                                                                                          columns.Bound(p => p.ACCESS_NO).Title(@L_INTERNET_NO).HtmlAttributes(new { style = "text-align:left;" }).Width(110);//InternetNO
                                                                                                                                                                          columns.Bound(p => p.ACCESS_NUMBER).Title(@L_INTERNET_NO).HtmlAttributes(new { style = "text-align:left;" }).Width(120).Hidden();//InternetNO
                                                                                                                                                                          columns.Bound(p => p.ORDER_NO).Title(@L_ORDER_NO).HtmlAttributes(new { style = "text-align:left;" }).Width(220).Hidden();//Order No.
                                                                                                                                                                          columns.Bound(p => p.ORDER_NO_SFF).Title(@L_ORDER_NO).HtmlAttributes(new { style = "text-align:left;" }).Width(220);//Order No.
                                                                                                                                                                          columns.Bound(p => p.ORDER_TYPE).Title(L_ORDER_TYPE).HtmlAttributes(new { style = "text-align:left;" }).Width(220);//Order Type.
                                                                                                                                                                          columns.Bound(p => p.SOA_SUBMIT_DATE_TEXT).Title(L_SOA_SUBMIT_DATE).HtmlAttributes(new { style = "text-align:left;" }).Width(220);//SOA Submit Date
                                                                                                                                                                          columns.Bound(p => p.SYMPTOM_GROUP).Title(L_SYMPTOM_GROUP).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);//Symptom Group
                                                                                                                                                                          columns.Bound(p => p.SYMPTOM_NAME).Title(L_SYMPTOM_NAME).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);//Symptom Name
                                                                                                                                                                          columns.Bound(p => p.SUBCONTRACT_NAME).Title(L_SUBCONTRACT_NAME).HtmlAttributes(new { style = "text-align:left;" }).Width(180);//Subcontract

                                                                                                                                                                          columns.Bound(p => p.SUBCONTRACT_TYPE).Title(L_SUB_CONTRACT_TYPE).HtmlAttributes(new { style = "text-align:left;" }).Width(200);//Subcontract type
                                                                                                                                                                          columns.Bound(p => p.SUBCONTRACT_SUB_TYPE).Title(L_SUB_CONTRACT_SUB_TYPE).HtmlAttributes(new { style = "text-align:left;" }).Width(200);//Subcontract sub type
                                                                                                                                                                          //Team ID
                                                                                                                                                                          columns.Bound(p => p.TEAM_ID).Title(L_TEAM_ID).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);//Team Id
                                                                                                                                                                          columns.Bound(p => p.MAIN_PROMO_CODE).Title(L_MAIN_PROMO_CODE).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150).Hidden();//Main Promo Code
                                                                                                                                                                          columns.Bound(p => p.REGION).Title(L_REGION).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);//Region
                                                                                                                                                                          columns.Bound(p => p.PRODUCT_NAME).Title(L_PRODUCT_NAME).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);//Product Name
                                                                                                                                                                          columns.Bound(p => p.SUBCONTRACT_CODE).Title(L_VENDOR_CODE).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);//Vendor Code
                                                                                                                                                                          //columns.Bound(p => p.IR_DOC).Title(L_IR_DOC).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);//Ir Doc
                                                                                                                                                                          columns.Bound(p => p.PRODUCT_OWNER).Title(L_PRODUCT_OWNER).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);//Product Owner

                                                                                                                                                                          columns.Bound(p => p.LOOKUP_ID).Title(@L_LOOKUP_ID).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);//Lookup ID
                                                                                                                                                                          columns.Bound(p => p.LOOKUP_NAME).Title(L_LOOKUP_NAME).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);//Lookup Name
                                                                                                                                                                          columns.Bound(p => p.LOOKUP_COST).Title(L_LOOKUP_COST).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);//Lookup Cost
                                                                                                                                                                          columns.Bound(p => p.ONTOP_LOOKUP_ID).Title(L_ONTOP_LOOKUP_ID).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);//ONTOP LOOKUP ID
                                                                                                                                                                          columns.Bound(p => p.ONTOP_LOOKUP_NAME).Title(L_ONTOP_LOOKUP_NAME).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);// ONTOP LOOKUP NAME
                                                                                                                                                                          columns.Bound(p => p.ONTOP_COST).Title(L_ONTOP_COST).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);//ONTOP COST

                                                                                                                                                                          columns.Bound(p => p.BASE_COST).Title(L_BASE_COST).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);//Base Cost
                                                                                                                                                                          columns.Bound(p => p.RECAL_COST).Title(L_RECAL_COST).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);//Recal Cost
                                                                                                                                                                          columns.Bound(p => p.MODIFY_DATE_TEXT).Title(L_MODIFY_DATE).HtmlAttributes(new { style = "text-align:right;" }).Format("{0:n}").Width(150);//Modify Date
                                                                                                                                                                          columns.Bound(p => p.MODIFY_BY).Title(L_MODIFY_BY).HtmlAttributes(new { style = "text-align:center;" }).Format("{0:n}").Width(150);//Modify By



                                                                                                                                                                      })
                                                                                                                                                                                .Scrollable(scrollable => scrollable.Height("auto"))
                                                                                                                                                                                // .Editable(editable => editable.Mode(GridEditMode.InCell))
                                                                                                                                                                                .Resizable(resize => resize.Columns(true))
                                                                                                                                                                                .Pageable(pageable => pageable.Numeric(true).PageSizes(new int[] { 5, 20, 50, 100 }))
                                                                                                                                                                                .AutoBind(false)
                                                                                                                                                                                .Sortable()
                                                                                                                                                                                .DataSource(dataSource => dataSource
                                                                                                                                                                                    .Ajax()
                                                                                                                                                                                    .Aggregates(aggregates =>
                                                                                                                                                                                    {

                                                                                                                                                                                        aggregates.Add(p => p.TOTAL_PAID).Sum();

                                                                                                                                                                                    })
                                                                                                                                                                                    .PageSize(20)
                                                                                                                                                                                    .Read(read => read.Action("SearchReportInstallationCostbyOrderList", "ReportInstallationCostbyOrder").Data("bindingValue"))
                                                                                                                                                                                )
                                                                                                                                                                               .Events(e => e.DataBound("onFAPOViewDataBoundMA"))
                                                                                                                                                                       ) </text>);
                                                                                                                                    }))
</div>


<script>
    var AccessList = function () {
        ACCESS_NUMBER = "";
    }

    function _Clear() {
        console.log("CLEAR");
        //Search Panel
        $("#ORDER_NO").val("");
        $("#ACCESS_NO").val("");
        $("#txtSearchAccessNo").val("");
        $("#txtSearchOrderNo").val("");
        $("#txtSearchERRMSG").val("");
        //$("#ddlStatus").data('kendoDropDownList').text("-- Select All --");
        $("#ddlRegion").data('kendoDropDownList').text("SELECT ALL");
        var ddlProductName = $("#ddlProductName").data('kendoMultiSelect');
        ddlProductName.value("");
        ddlProductName.trigger("change");
        $("#ddlSubContract").data('kendoDropDownList').value("ALL");
        $("#ddlRegion").data('kendoDropDownList').value("ALL");
        $("#ddlVendorcode").data('kendoDropDownList').value("ALL");
        $("#ddlIrDoc").data('kendoDropDownList').value("ALL");
        $("#ddlSubContracttype").data('kendoDropDownList').value("ALL");
        $("#ddlSubContractsubtype").data('kendoDropDownList').value("ALL");
        $("#ddlProductOwner").data('kendoDropDownList').value("ALL");
        $("#ddlOrdStatus").data('kendoDropDownList').value("ALL");
        $("#ddlOrdertype").data('kendoDropDownList').value("ALL");
        var ddlWorkflowStatus = $("#ddlWorkflowStatus").data('kendoMultiSelect');
        ddlWorkflowStatus.value("");
        ddlWorkflowStatus.trigger("change");
        $("#INVOICE_NO").val("");
        //$("#ddlProductName").data('kendoMultiSelect').text("SELECT ALL");
        //$("#ddlSubContract").data('kendoDropDownList').text("-- Select All --");
        $("#dtpFoaDateFrom").data("kendoDatePicker").value(new Date());
        $("#dtpFoaDateTo").data("kendoDatePicker").value(new Date());
        $("#dtpCsApproveDateFrom").data("kendoDatePicker").value(new Date());
        $("#dtpCsApproveDateTo").data("kendoDatePicker").value(new Date());
        $("#dtpWithdrawalDateFrom").data("kendoDatePicker").value(new Date());
        $("#dtpWithdrawalDateTo").data("kendoDatePicker").value(new Date());
        $("#dtpTransferDateFrom").data("kendoDatePicker").value(new Date());
        $("#dtpTransferDateTo").data("kendoDatePicker").value(new Date());
        $("#dtpCsApproveDateFrom").val("");
        $("#dtpCsApproveDateTo").val("");
        $("#dtpWithdrawalDateFrom").val("");
        $("#dtpWithdrawalDateTo").val("");
        $("#dtpTransferDateFrom").val("");
        $("#dtpTransferDateTo").val("");
        $("#dtpFoaDateFrom").val("");
        $("#dtpFoaDateTo").val("");
        $("#dtpFoaDateTo").data("kendoDatePicker").enable(false);
        $("#dtpCsApproveDateTo").data("kendoDatePicker").enable(false);
        $("#dtpWithdrawalDateTo").data("kendoDatePicker").enable(false);
        $("#dtpTransferDateTo").data("kendoDatePicker").enable(false);
        $("#validatefor-" + "dtpCsApproveDateFrom").html("");
        $("#validatefor-" + "dtpCsApproveDateTo").html("");

        $("#validatefor-" + "dtpWithdrawalDateFrom").html("");
        $("#validatefor-" + "dtpWithdrawalDateTo").html("");

        $("#validatefor-" + "dtpTransferDateFrom").html("");
        $("#validatefor-" + "dtpTransferDateTo").html("");


        $("#validatefor-" + "dtpFoaDateFrom").html("");
        $("#validatefor-" + "dtpFoaDateTo").html("");


        $("#FAPOView").data("kendoGrid").dataSource.data([]);
        $("#FAPOView2").data("kendoGrid").dataSource.data([]);

        $('#_orderListPanel').hide();
        $('#_orderListHistory').hide();
        $('#_DistanceDetail').hide();
        $('#_SapDetail').hide();
    }

    //function onSelect(e) {
    //    _Clear();


    //}


    $(document).ready(function () {
        $('#btnReCalByFileByDistance').attr("disabled", true);
        var grid1 = $("#FAPOView").data("kendoGrid");
        var grid2 = $("#FAPOView2").data("kendoGrid");
        grid1.table.on("click", ".FAPOViewRow-checkbox", selectRow);
        grid2.table.on("click", ".FAPOView2Row-checkbox", selectRow);


        $('#FAPOViewheader-chb').change(function (ev) {
            handleCheckAllFAPO(ev, grid1, '.FAPOViewRow-checkbox');
        });
        $('#FAPOView2header-chb').change(function (ev) {
            handleCheckAllFAPO(ev, grid2, '.FAPOViewRow2-checkbox');
        });
        $("#saveAllChkFapoRecalDistance").bind("click", function () {
            saveCheckedItemsFAPO();
        });

    });

    function handleCheckAllFAPO(ev, grid, headerCheckboxId) {
        var checked = ev.target.checked;
        var count = 0;

        // Iterate through each checkbox in the grid
        $(headerCheckboxId + ':enabled').each(function (idx, item) {
            count++;
            if (checked) {
                if ($(item).prop("checked", false)) {
                    $(item).click();  // Check the box
                }
            } else {
                if ($(item).prop("checked", true)) {
                    $(item).click();  // Uncheck the box
                    checkedIds = {};   // Clear the checked IDs
                }
            }
        });

        if (checked) {
            $("#chk").val("True");
            $("#chkall").val("True");
            //$("#updateall").prop("disabled", false);
            if ($('#ddlWorkflowStatus').val() != '' && $('#ddlWorkflowStatus').val() != null) {
                if ($('#ddlWorkflowStatus').val().length == 1 && count > 2) {
                    $("#updateall").prop("disabled", false);
                }
            } else {
                $("#chk").val("False");
                $("#chkall").val("False");
            }
            $(".h-cb").prop('checked', true);
        } else {
            $("#chkall").val("False");
            $("#chk").val("False");
            $("#updateall").prop("disabled", true);
            $(".h-cb").prop('checked', false);
        }
    }



    function saveCheckedItemsFAPO() {
        var checked = [];
        var checkeds = [];

        // Loop through checkedIds to gather the selected items
        for (var i in checkedIds) {
            var ListModel = new AccessList();
            if (checkedIds[i]) {
                ListModel.ACCESS_NUMBER = i;
                checked.push(i);
                checkeds.push(ListModel);
                $("#accNo").val("000000000");  // Example value for testing
            }
        }

        // Perform actions based on "Check All" state
        if ($("#chkall").val() === "False") {
            CheckBoxACCTConfirmPaid(checkeds);  // Action for individually checked rows
        } else {
            CheckBoxALLACCTConfirmPaid();  // Action for "Check All"
        }
    }
    // R19.03 FAPO Re-Cal
    //$("#saveAllChkFapoRecalDistance").bind("click", function () {
    //    var checked = [];
    //    var checkeds = [];


    //    for (var i in checkedIds) {
    //        var ListModel = new AccessList();
    //        if (checkedIds[i]) {
    //            ListModel.ACCESS_NUMBER = i;
    //            checked.push(i);
    //            checkeds.push(ListModel);
    //            $("#accNo").val("000000000");
    //        }

    //    }
    //    if ($("#chkall").val() === "False") {
    //        // CheckBoxFAPOConfirmPaid(checkeds);
    //        FAPOConfirmRecalDistance(checkeds);
    //        //alert("NotCheckAll");
    //    }
    //    else {
    //        // alert("CheckAll");
    //        // CheckBoxAllFAPOConfirmPaid();
    //        CheckBoxAllFAPOConfirmRecalDistance(checkeds);
    //    }
    //});
    //End R19.03

    //var checkedIds = {};

    //on click of the checkbox:
    function selectRow() {
        var checked = this.checked,
            row = $(this).closest("tr"),
            gridId = $(this).closest("[data-role='grid']").attr("id"),
            grid = $("#" + gridId).data("kendoGrid"),
            dataItem = grid.dataItem(row);

        checkedIds[dataItem.ACCESS_NUMBER] = checked;

        if (checked) {
            //-select the row
            row.addClass("k-state-selected");
            $("#chk").val("True");
            if ($('#ddlWorkflowStatus').val() != '' && $('#ddlWorkflowStatus').val() != null) {
                if ($('#ddlWorkflowStatus').val().length == 1) {
                    $("#updateall").prop("disabled", false);
                    $("#chk").val("False");
                    $("#chkall").val("False");
                }
            } else {
                $("#chk").val("False");
                $("#chkall").val("False");
            }
        } else {
            $("#chkall").val("False");
            $("#chk").val("False");
            //-remove selection
            row.removeClass("k-state-selected");
            $("#" + gridId + "header-chb").prop("checked", false);
            //$("#FAPOViewheader-chb")[0].checked = false;
        }

        checkUpdateAllButton();
    }

    function onFAPOViewDataBound() {
        Loading(0);

        var grid = this;
        //fix kendo grid width
        if (this.dataSource.view().length === 0) {
            $('#export').attr("disabled", true);
            //   $("#updateall").prop("disabled", true);
            // $('#updatebyfile').attr("disabled", true);
            //insert empty row
            //var colspan = this.thead.find("th").length;
            //var emptyRow = "<tr style='height:auto; text-align:center' ><td colspan='" + colspan + "'>  </td></tr>";

            //this.tbody.html(emptyRow);

            //$("#noData").data("kendoWindow").open();
            //$("#noData").data("kendoWindow").center();
            ////workarounds for IE lt 9
            //this.table.width(800);
            //$(".k-grid-content").height(2 * kendo.support.scrollbar());

            //insert empty row
            var colspan = this.thead.find("th").length;



            var emptyRow = "<tr style='height:auto; text-align:Left' ><td colspan='" + colspan + "'>&nbsp;&nbsp;&nbsp;&nbsp;No Data Found  </td></tr>";

            this.tbody.html(emptyRow);

            //   $("#noData").data("kendoWindow").open();
            //    $("#noData").data("kendoWindow").center();
            //workarounds for IE lt 9
            this.table.width(800);
            //$(".k-grid-content").height(2 * kendo.support.scrollbar());
            $(".k-grid-content").height(50);
        }
        else {
            grid.tbody.find("tr[role='row']").each(function () {
                var model = grid.dataItem(this);

                var approveflag = model.APPROVE_FLAG;
                //var status = model.WORK_STATUS;
                var status = '';
                if (model.WORK_STATUS != null) {
                    status = model.WORK_STATUS
                } else if (model.ORDER_STATUS != null) {
                    status = model.ORDER_STATUS
                }

                var checkStatustFAPO = status;
                var chkStsFAPO = checkStatustFAPO.toUpperCase().trim().replace(" ", "");
                //if ((chkStsFAPO == "RECHECK" || chkStsFAPO == "COMPLETED") && (approveflag === "Approved") && (model.action_flag == "show")) {
                if ((chkStsFAPO == "RECHECK" || chkStsFAPO == "COMPLETED" || chkStsFAPO == "NODATA") && (approveflag === "Approved") && (model.action_flag == "show")) {
                    $(this).find(".k-grid-Edit").show();
                    $(this).find(".FAPOViewRow-checkbox").hide();

                } else {
                    $(this).find(".k-grid-Edit").hide();
                    $(this).find(".FAPOViewRow-checkbox").hide();
                }
            });
            $('#export').attr("disabled", false);
            //  $('#updatebyfile').attr("disabled", false);
            // $('#btnReCalByFileByDistance').attr("disabled", false);
            $('.k-grid-content').height("auto");
            $('.k-grid-content').css("max-height", "300px");
        }

        //show order list detail panel
        if (this.dataSource.view().length === 1) {

            $('.k-grid-content').height("auto");
            $('.k-grid-content').css("max-height", "150px");
            var accNo = $("#FAPOView").data("kendoGrid").dataSource.view()[0].ACCESS_NO;
            var ordNo = $("#FAPOView").data("kendoGrid").dataSource.view()[0].ORDER_NO_SFF;
            $("#dbk_ACC_NO").val(accNo);
            $("#dbk_ORD_NO").val(ordNo);
            CallListDetail(accNo, ordNo);
        }

        //reset checklist
        //$('#FAPOViewheader-chb').removeAttr('checked');

        var view = this.dataSource.view();
        for (var i = 0; i < view.length; i++) {
            if (checkedIds[view[i].id]) {
                this.tbody.find("tr[data-uid='" + view[i].uid + "']")
                    .addClass("k-state-selected")
                    .find(".FAPOViewRow-checkbox")
                    .attr("checked", "checked");
            }
        }

        //when header checkbox is checked
        if ($("#FAPOViewheader-chb").prop("checked")) {
            $('.FAPOViewRow-checkbox:enabled').each(function (idx, item) {
                if ($(item).prop("checked", false)) {
                    $(item).click();
                }
            });
        }
    }


    function onFAPOViewDataBoundMA() {
        Loading(0);
        var grid = this;
        //fix kendo grid width
        if (this.dataSource.view().length === 0) {
            $('#export').attr("disabled", true);
            //   $("#updateall").prop("disabled", true);
            // $('#updatebyfile').attr("disabled", true);
            //insert empty row
            //var colspan = this.thead.find("th").length;
            //var emptyRow = "<tr style='height:auto; text-align:center' ><td colspan='" + colspan + "'>  </td></tr>";

            //this.tbody.html(emptyRow);

            //$("#noData").data("kendoWindow").open();
            //$("#noData").data("kendoWindow").center();
            ////workarounds for IE lt 9
            //this.table.width(800);
            //$(".k-grid-content").height(2 * kendo.support.scrollbar());

            //insert empty row
            var colspan = this.thead.find("th").length;



            var emptyRow = "<tr style='height:auto; text-align:Left' ><td colspan='" + colspan + "'>&nbsp;&nbsp;&nbsp;&nbsp;No Data Found  </td></tr>";

            this.tbody.html(emptyRow);

            //   $("#noData").data("kendoWindow").open();
            //    $("#noData").data("kendoWindow").center();
            //workarounds for IE lt 9
            this.table.width(800);
            //$(".k-grid-content").height(2 * kendo.support.scrollbar());
            $(".k-grid-content").height(50);
        }
        else {
            grid.tbody.find("tr[role='row']").each(function () {
                var model = grid.dataItem(this);

                var approveflag = model.APPROVE_FLAG;
                //var status = model.WORK_STATUS;
                var status = '';
                if (model.WORK_STATUS != null) {
                    status = model.WORK_STATUS
                } else if (model.ORDER_STATUS != null) {
                    status = model.ORDER_STATUS
                }

                var checkStatustFAPO = status;
                var chkStsFAPO = checkStatustFAPO.toUpperCase().trim().replace(" ", "");

                if ((chkStsFAPO == "RECHECK" || chkStsFAPO == "COMPLETED") && (approveflag === "Approved") && (model.action_flag == "show")) {
                //if ((chkStsFAPO == "RECHECK" || chkStsFAPO == "COMPLETED" || chkStsFAPO == "NODATA") && (approveflag === "Approved") && (model.action_flag == "show")) {
                    $(this).find(".k-grid-Edit").show();
                    $(this).find(".FAPOView2Row-checkbox").hide();

                } else {
                    $(this).find(".k-grid-Edit").hide();
                    $(this).find(".FAPOView2Row-checkbox").hide();
                }
            });
            $('#export').attr("disabled", false);
            //  $('#updatebyfile').attr("disabled", false);
            // $('#btnReCalByFileByDistance').attr("disabled", false);
            $('.k-grid-content').height("auto");
            $('.k-grid-content').css("max-height", "300px");
        }

        //show order list detail panel
        if (this.dataSource.view().length === 1) {

            $('.k-grid-content').height("auto");
            $('.k-grid-content').css("max-height", "150px");
            var accNo = $("#FAPOView2").data("kendoGrid").dataSource.view()[0].ACCESS_NUMBER;
            var ordNo = $("#FAPOView2").data("kendoGrid").dataSource.view()[0].ORDER_NO_SFF;
            $("#dbk_ACC_NO").val(accNo);
            $("#dbk_ORD_NO").val(ordNo);
            CallListDetail(accNo, ordNo);
        }

        //reset checklist
        //$('#FAPOViewheader-chb').removeAttr('checked');

        var view = this.dataSource.view();
        for (var i = 0; i < view.length; i++) {
            if (checkedIds[view[i].id]) {
                this.tbody.find("tr[data-uid='" + view[i].uid + "']")
                    .addClass("k-state-selected")
                    .find(".FAPOView2Row-checkbox")
                    .attr("checked", "checked");
            }
        }

        //when header checkbox is checked
        if ($("#FAPOView2header-chb").prop("checked")) {
            $('.FAPOView2Row-checkbox:enabled').each(function (idx, item) {
                if ($(item).prop("checked", false)) {
                    $(item).click();
                }
            });
        }
    }
</script>