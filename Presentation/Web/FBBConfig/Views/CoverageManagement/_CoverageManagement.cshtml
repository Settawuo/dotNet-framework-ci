@model WBBEntity.PanelModels.CoverageSitePanelModel
@using WBBEntity.PanelModels.FBBWebConfigModels;
@using WBBEntity.Models;


@{
    ViewBag.Title = "CoverageManagement";
}
<style>
    .breadcrumb {
    background:none;
    }
    .breadcrumb > li + li:before {
    content: ">>";
}
       
   .table > thead > tr > th,
   .table > tbody > tr > th, 
   .table > tfoot > tr > th, 
   .table > thead > tr > td, 
   .table > tbody > tr > td, 
   .table > tfoot > tr > td {
        border:none;
    }
    .col-md-10 {
        width:84%;
        }

    @@media
     only screen and (max-width: 875px), 
     only screen and (max-width: 320px),
     only screen and (max-width: 360px),
     only screen and (max-width: 768px),
     only screen and (max-width: 800px),
     only screen and (max-width: 980px){
        .col-md-10 {
        width:98.5%;
        }
       

    }
   
</style>
<script>
    function onGridDataBound() {
        var total = $("#GridMyReport").data("kendoGrid").dataSource.total();        
        $("#totalMyReport").text(total);
    }

    function customCommand1() {
        window.location.href = "/CoverageManagement/download";

        //$.ajax({
        //    url: "/CoverageManagement/Download",
        //    type: 'post',
        //    data: $("#grid").serialize(),
        //    success: function (data) {
        //       alert('Export to Excel1');
        //    },
        //    error: function () {
        //        alert("error");
        //    }
        //});
       
     }

    function showDetails(e) {
        e.preventDefault();
     
        var dataItem = this.dataItem($(e.currentTarget).closest("tr"));
        alert(dataItem.REPORT_NAME);

    }

    function SubmitInfo(formContainer) {
        debugger;
	    $.ajax({
	        url: "/CoverageManagement/SubmitInfo",
	        type: 'post',
	        data: $("#infoForm").serialize(),
	        success: function (data) {
	            //if (data.IsSuccess) {
	            //    // Clear the input tags
	            //    formContainer.find("input[type='text']").each(function (i, element) {
	            //        $(this).val('');
	            //    });
	           // }
	            $("#txtTest").val(data.Active);
	            alert(data.Active);
	        },
	        error: function () {
	            alert("error");
	        }
	    }); 
	
    }

    $(function () {
	    var submitButton = $("#submitButton");
	    var infoForm = $("#infoForm");
	     
	    //  Attach event handler to submit button
	    submitButton.click(function () {
	        SubmitInfo(infoForm);
	    });
	});
</script>




@*<div id="infoForm"> 
    <div>
        @Html.TextBoxFor(model => model.Active)
        @Html.TextBoxFor(model => model.AmphurEN)
        @Html.TextBoxFor(model => model.AmphurTH)
        @Html.TextBoxFor(model => model.Available)
        <input type="text" id="txtTest" />
        <input id="submitButton" type="button" value="Submit Info"  />
    </div>
</div>*@

<div class="i-gap-top-1 i-gap-left-1  i-gap-right-1 " >
    <div class="row" >


        <div class="col-md-5 panel panel-default i-gap-top-1 i-gap-left-1" style="height:200px;">
       
             <table class="table">
            <tr>
                <td> @(Html.Kendo().DropDownList()
                      .Name("CC")
                      .DataTextField("Text")
                      .DataValueField("Value")
                      .HtmlAttributes(new { @class = "form-control i-form-control-extend" })
                      .BindTo(new List<SelectListItem>() {
                          new SelectListItem() {
                              Text = "ภาค",
                              Value = ""
                          },
                          new SelectListItem() {
                              Text = "ภาคกลาง",
                              Value = "1"
                          },
                          new SelectListItem() {
                              Text = "ภาคเหนือ",
                              Value = "2"
                          },
                          new SelectListItem() {
                              Text = "ภาคใต้",
                              Value = "2"
                          }
                      })
                )</td>
                <td>@(Html.Kendo().DropDownList()
                      .Name("CC1")
                      .DataTextField("Text")
                      .DataValueField("Value")
                      .HtmlAttributes(new { @class = "form-control i-form-control-extend" })
                      .BindTo(new List<SelectListItem>() {
                           new SelectListItem() {
                              Text = "จังหวัด",
                              Value = ""
                          },
                          new SelectListItem() {
                              Text = "กรุงเทพ",
                              Value = "1"
                          }
                       
                      })
                )</td>

            </tr>
            <tr>
                <td>@(Html.Kendo().DropDownList()
                      .Name("CC3")
                      .DataTextField("Text")
                      .DataValueField("Value")
                      .HtmlAttributes(new { @class = "form-control i-form-control-extend" })
                      .BindTo(new List<SelectListItem>() {
                          new SelectListItem() {
                              Text = "อำเภอ",
                              Value = ""
                          },
                          new SelectListItem() {
                              Text = "พระขโนง",
                              Value = "1"
                          }
                      })
                )</td>
                <td> @(Html.Kendo().DropDownList()
                      .Name("CC4")
                      .DataTextField("Text")
                      .DataValueField("Value")
                      .HtmlAttributes(new { @class = "form-control i-form-control-extend" })
                      .BindTo(new List<SelectListItem>() {
                          new SelectListItem() {
                              Text = "สถานะ",
                              Value = ""
                          },
                          new SelectListItem() {
                              Text = "ภาคกลาง",
                              Value = "1"
                          }
                      })
                )</td>

            </tr>
            <tr>
                <td>
                    <input type="text" id="SendTo1" class="k-textbox form-control" />

                </td>
                <td>@(Html.Kendo().DropDownList()
                      .Name("CC5")
                      .DataTextField("Text")
                      .DataValueField("Value")
                      .HtmlAttributes(new { @class = "form-control i-form-control-extend" })
                      .BindTo(new List<SelectListItem>() {
                          new SelectListItem() {
                              Text = "Port Utilization < 30%",
                              Value = ""
                          },
                          new SelectListItem() {
                              Text = "Port Utilization < 20%",
                              Value = "1"
                          },
                          new SelectListItem() {
                              Text = "Port Utilization < 10%",
                              Value = "2"
                          }
                      })
                )</td>

            </tr>
            <tr>
                <td>
                    <input type="text" id="SendTo2" class="k-textbox form-control" />

                </td>
                <td>
                   <a class="btn btn-info i-width-sm" onclick="Reset();"><i class="fa fa-undo fa-lg"></i>&nbsp;Reset&nbsp;</a>
                   <a class="btn btn-primary i-width-sm" onclick="Save();"><i class="fa fa-search fa-lg"></i>&nbsp;Search&nbsp;</a>
                </td>
            </tr>
           
        </table>

        </div>

        <div class="col-md-5 panel panel-default i-gap-top-1 i-gap-left-1" style="height:200px;">
        <table class="table">
            <tr>
                <td>Total Site : 10</td>
                <td>Total Coverage : 16</td>
            </tr>
             <tr>
                <td>Total Port : 1536</td>
                <td>Port Available : 600</td>
            </tr>
             <tr>
                <td>Port Active : 700</td>
                <td>Port Reserve : 200</td>
            </tr>
             <tr>
                <td>Port out of Service : 6</td>
                <td>Port Pending Terminate : 30</td>
            </tr>
             <tr>
                <td></td>
                <td></td>
            </tr>

        </table>
    </div>

        <div class="col-md-10 panel panel-default i-gap-left-1">
            
            <div class="i-gap-top-1 " style="margin-bottom:15px;" >
              @(Html.Kendo().Grid<WBBEntity.Models.FBB_RPT_LOG>()
        .Name("grid")
        .Columns(columns =>
        {
            columns.Bound(p => p.CREATED_DATE).Title("Created Date").Format("{0:dd/MM/yyyy HH:mm:ss}");
            columns.Bound(p => p.CREATED_BY).Title("Created By");
            columns.Bound(p => p.REPORT_NAME).Title("Report Name");
            columns.Bound(p => p.REPORT_STATUS).Title("Status");
            columns.Bound(p => p.REPORT_DESC).Title("Status").Hidden();
            columns.Command(command => command.Custom("Edit").Click("showDetails"));
        })
         .ToolBar(toolBar => toolBar.Template("<a class='k-button k-button-icontext' onclick='customCommand1()' href='#'></span>Export to Excel</a>"))
            .Pageable()
            .Sortable()
            .Scrollable()
            .DataSource(dataSource => dataSource
                .Ajax()
                .PageSize(10)
                .Model(model => model.Id(p => p.REPORT_ID))
                .Read(read => read.Action("ReadMyReport", "Report"))  
                           
             )
            .Events(e => e.DataBound("onGridDataBound"))
        
        
    )
                </div>
        </div>
        
</div>

    </div>