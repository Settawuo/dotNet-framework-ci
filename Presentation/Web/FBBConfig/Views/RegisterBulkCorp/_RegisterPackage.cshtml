@model WBBEntity.PanelModels.FBBWebConfigModels.RegisterBulkCorpInstallModel
@using System.Collections.Generic;
@using WBBEntity.PanelModels;
@using FBBConfig.Extensions
@{

    var Version = "";
    if (ViewBag.Version != null)
    {
        Version = Version + "-" + ViewBag.Version;
    }

    string B_BROWSE = "";
    string B_NEXT = "";
    string B_BACK = "";
    string B_REMOVE = "";
    string B_SEARCH = "";
    string B_CLEAR = "";
    string B_ADD_PROMTION = "";
    string B_POP_UP_ADD = "";
    string B_POP_UP_CANCEL = "";

    string E_MESSAGE_01 = "";
    string E_MESSAGE_02 = "";
    string E_MESSAGE_03 = "";
    
    string T_HEADER_DETAIL = "";

    string FILE_TYPE_EXCEL = "";
    
    string H_TITLE_07 = "";

    string LENGTH_MIN_CA_MAIN_MOBILE = "";
    string LENGTH_MAX_CA_MAIN_MOBILE ="";
    string LENGTH_MIN_ID_CARD_NUMBER = ""; 
    string LENGTH_MAX_CA_PHONE = "";
    
    string L_INSTALL_TYPE = "";
    string L_ADDRESS_ID = "";
    string L_EX_DOCUMENT = "";
    string L_INSTALL_ADDRESS = "";
    string L_SELECT_MAIN_PACKAGE = "";
    string L_SELECT_ONTOP_DISCOUNT = "";
    string L_REMARK_01 = "";
    string L_REMARK_02 = "";
    string L_PACKAGE_CODE = "";
    string L_PACKAGE_NAME = "";
    string L_PACKAGE_DESCRIPTION = "";
    string L_PROMOTION_CODE = "";
    string L_INSTALL_DATE = "";
    string L_EVENT_CODE = "";
    string L_CONTACT_PERSON = "";
    string L_CONTACT_MOBILE = "";
    string L_CONTACT_OFFICE_PHONE = "";
    string L_EMAIL = "";

    string P_ALERT_DETAIL_01 = "";
    string P_ALERT_DETAIL_02 = "";
    string P_ALERT_HEAD = "";
    
    string V_CA_MAIN_MOBILE = "";
    string V_CA_PHONE = "";
    string V_ADDRESS_ID = "";
    string V_PACKAGE_CODE = "";
    string V_ACCOUNT_NAME = "";

    if (ViewBag.configscreen != null)
    {
        var configscreen = (List<LovValueModel>)ViewBag.configscreen;

        B_NEXT = configscreen.Any(f => f.Name == "B_NEXT") ? configscreen.FirstOrDefault(f => f.Name == "B_NEXT").LovValue1 : "";
        B_BACK = configscreen.Any(f => f.Name == "EXISTING_BUTTON_BACK") ? configscreen.FirstOrDefault(f => f.Name == "EXISTING_BUTTON_BACK").LovValue1 : "";
        B_REMOVE = configscreen.Any(f => f.Name == "B_REMOVE") ? configscreen.FirstOrDefault(f => f.Name == "B_REMOVE").LovValue1 : "";
        B_BROWSE = configscreen.Any(f => f.Name == "B_BROWSE") ? configscreen.FirstOrDefault(f => f.Name == "B_BROWSE").LovValue1 : "";
        B_SEARCH = configscreen.Any(f => f.Name == "SEARCH_SEARCH_BUTTON") ? configscreen.FirstOrDefault(f => f.Name == "SEARCH_SEARCH_BUTTON").LovValue1 : "";
        B_CLEAR = configscreen.Any(f => f.Name == "SEARCH_CLEAR_BUTTON") ? configscreen.FirstOrDefault(f => f.Name == "SEARCH_CLEAR_BUTTON").LovValue1 : "";
        B_ADD_PROMTION = configscreen.Any(f => f.Name == "B_ADD_PROMTION") ? configscreen.FirstOrDefault(f => f.Name == "B_ADD_PROMTION").LovValue1 : "";
        B_POP_UP_ADD = configscreen.Any(f => f.Name == "B_POP_UP_ADD") ? configscreen.FirstOrDefault(f => f.Name == "B_POP_UP_ADD").LovValue1 : "";
        B_POP_UP_CANCEL = configscreen.Any(f => f.Name == "B_POP_UP_CANCEL") ? configscreen.FirstOrDefault(f => f.Name == "B_POP_UP_CANCEL").LovValue1 : "";

        E_MESSAGE_01 = configscreen.Any(f => f.Name == "E_MESSAGE_01") ? configscreen.FirstOrDefault(f => f.Name == "E_MESSAGE_01").LovValue1 : "";
        E_MESSAGE_02 = configscreen.Any(f => f.Name == "E_MESSAGE_02") ? configscreen.FirstOrDefault(f => f.Name == "E_MESSAGE_02").LovValue1 : "";
        E_MESSAGE_03 = configscreen.Any(f => f.Name == "E_MESSAGE_03") ? configscreen.FirstOrDefault(f => f.Name == "E_MESSAGE_03").LovValue1 : "";
        
        T_HEADER_DETAIL = configscreen.Any(f => f.Name == "T_HEADER_DETAIL") ? configscreen.FirstOrDefault(f => f.Name == "T_HEADER_DETAIL").LovValue1 : "";
        
        FILE_TYPE_EXCEL = configscreen.Any(f => f.Name == "FILE_TYPE_EXCEL") ? configscreen.FirstOrDefault(f => f.Name == "FILE_TYPE_EXCEL").LovValue1 : "";
        
        H_TITLE_07 = configscreen.Any(f => f.Name == "H_TITLE_07") ? configscreen.FirstOrDefault(f => f.Name == "H_TITLE_07").LovValue1 : "";

        LENGTH_MIN_CA_MAIN_MOBILE = configscreen.Any(f => f.Name == "LENGTH_MIN_CA_MAIN_MOBILE") ? configscreen.FirstOrDefault(f => f.Name == "LENGTH_MIN_CA_MAIN_MOBILE").LovValue1 : "";
        LENGTH_MAX_CA_MAIN_MOBILE = configscreen.Any(f => f.Name == "LENGTH_MAX_CA_MAIN_MOBILE") ? configscreen.FirstOrDefault(f => f.Name == "LENGTH_MAX_CA_MAIN_MOBILE").LovValue1 : "";
        LENGTH_MIN_ID_CARD_NUMBER = configscreen.Any(f => f.Name == "LENGTH_MIN_ID_CARD_NUMBER") ? configscreen.FirstOrDefault(f => f.Name == "LENGTH_MIN_ID_CARD_NUMBER").LovValue1 : "";
        LENGTH_MAX_CA_PHONE = configscreen.Any(f => f.Name == "LENGTH_MAX_CA_PHONE") ? configscreen.FirstOrDefault(f => f.Name == "LENGTH_MAX_CA_PHONE").LovValue1 : "";
        
        L_INSTALL_TYPE = configscreen.Any(f => f.Name == "L_INSTALL_TYPE") ? configscreen.FirstOrDefault(f => f.Name == "L_INSTALL_TYPE").LovValue1 : "";
        L_ADDRESS_ID = configscreen.Any(f => f.Name == "L_ADDRESS_ID") ? configscreen.FirstOrDefault(f => f.Name == "L_ADDRESS_ID").LovValue1 : "";
        L_EX_DOCUMENT = configscreen.Any(f => f.Name == "L_EX_DOCUMENT") ? configscreen.FirstOrDefault(f => f.Name == "L_EX_DOCUMENT").LovValue1 : "";
        L_INSTALL_ADDRESS = configscreen.Any(f => f.Name == "L_INSTALL_ADDRESS") ? configscreen.FirstOrDefault(f => f.Name == "L_INSTALL_ADDRESS").LovValue1 : "";
        L_SELECT_MAIN_PACKAGE = configscreen.Any(f => f.Name == "L_SELECT_MAIN_PACKAGE") ? configscreen.FirstOrDefault(f => f.Name == "L_SELECT_MAIN_PACKAGE").LovValue1 : "";
        L_SELECT_ONTOP_DISCOUNT = configscreen.Any(f => f.Name == "L_SELECT_ONTOP_DISCOUNT") ? configscreen.FirstOrDefault(f => f.Name == "L_SELECT_ONTOP_DISCOUNT").LovValue1 : "";
        L_REMARK_01 = configscreen.Any(f => f.Name == "L_REMARK_01") ? configscreen.FirstOrDefault(f => f.Name == "L_REMARK_01").LovValue1 : "";
        L_REMARK_02 = configscreen.Any(f => f.Name == "L_REMARK_02") ? configscreen.FirstOrDefault(f => f.Name == "L_REMARK_02").LovValue1 : "";
        L_PACKAGE_CODE = configscreen.Any(f => f.Name == "L_PACKAGE_CODE") ? configscreen.FirstOrDefault(f => f.Name == "L_PACKAGE_CODE").LovValue1 : "";
        L_PACKAGE_NAME = configscreen.Any(f => f.Name == "L_PACKAGE_NAME") ? configscreen.FirstOrDefault(f => f.Name == "L_PACKAGE_NAME").LovValue1 : "";
        L_PACKAGE_DESCRIPTION = configscreen.Any(f => f.Name == "L_PACKAGE_DESCRIPTION") ? configscreen.FirstOrDefault(f => f.Name == "L_PACKAGE_DESCRIPTION").LovValue1 : "";
        L_PROMOTION_CODE = configscreen.Any(f => f.Name == "L_PROMOTION_CODE") ? configscreen.FirstOrDefault(f => f.Name == "L_PROMOTION_CODE").LovValue1 : "";
        L_INSTALL_DATE = configscreen.Any(f => f.Name == "L_INSTALL_DATE") ? configscreen.FirstOrDefault(f => f.Name == "L_INSTALL_DATE").LovValue1 : "";
        L_EVENT_CODE = configscreen.Any(f => f.Name == "L_EVENT_CODE") ? configscreen.FirstOrDefault(f => f.Name == "L_EVENT_CODE").LovValue1 : "";
        L_CONTACT_PERSON = configscreen.Any(f => f.Name == "L_CONTACT_PERSON") ? configscreen.FirstOrDefault(f => f.Name == "L_CONTACT_PERSON").LovValue1 : "";
        L_CONTACT_MOBILE = configscreen.Any(f => f.Name == "L_CONTACT_MOBILE") ? configscreen.FirstOrDefault(f => f.Name == "L_CONTACT_MOBILE").LovValue1 : "";
        L_CONTACT_OFFICE_PHONE = configscreen.Any(f => f.Name == "L_CONTACT_OFFICE_PHONE") ? configscreen.FirstOrDefault(f => f.Name == "L_CONTACT_OFFICE_PHONE").LovValue1 : "";
        L_EMAIL = configscreen.Any(f => f.Name == "L_EMAIL") ? configscreen.FirstOrDefault(f => f.Name == "L_EMAIL").LovValue1 : "";

        P_ALERT_DETAIL_01 = configscreen.Any(f => f.Name == "P_ALERT_DETAIL_01") ? configscreen.FirstOrDefault(f => f.Name == "P_ALERT_DETAIL_01").LovValue1 : "";
        P_ALERT_DETAIL_02 = configscreen.Any(f => f.Name == "P_ALERT_DETAIL_02") ? configscreen.FirstOrDefault(f => f.Name == "P_ALERT_DETAIL_02").LovValue1 : "";
        P_ALERT_HEAD = configscreen.Any(f => f.Name == "P_ALERT_HEAD") ? configscreen.FirstOrDefault(f => f.Name == "P_ALERT_HEAD").LovValue1 : "";
        
        V_CA_MAIN_MOBILE = configscreen.Any(f => f.Name == "V_CA_MAIN_MOBILE") ? configscreen.FirstOrDefault(f => f.Name == "V_CA_MAIN_MOBILE").LovValue1 : "";
        V_CA_PHONE = configscreen.Any(f => f.Name == "V_CA_PHONE") ? configscreen.FirstOrDefault(f => f.Name == "V_CA_PHONE").LovValue1 : "";
        V_ADDRESS_ID = configscreen.Any(f => f.Name == "V_ADDRESS_ID") ? configscreen.FirstOrDefault(f => f.Name == "V_ADDRESS_ID").LovValue1 : "";
        V_PACKAGE_CODE = configscreen.Any(f => f.Name == "V_PACKAGE_CODE") ? configscreen.FirstOrDefault(f => f.Name == "V_PACKAGE_CODE").LovValue1 : "";
        V_ACCOUNT_NAME = configscreen.Any(f => f.Name == "V_ACCOUNT_NAME") ? configscreen.FirstOrDefault(f => f.Name == "V_ACCOUNT_NAME").LovValue1 : "";
        
    }
}
<style>

    /*a, a:link, a:active, a:visited, a:hover, a:focus {
        color: #fff;
    }*/

    .nav-nopadding {
        padding-right: 0 !important;
        padding-left: 0 !important;
        width: 20%;
        background-color: #8DC63F;
        text-align: center;
        white-space: nowrap;
    }

    .vertical-alignment-helper {
        display: table;
        height: 100%;
        width: 100%;
        pointer-events: none;
    }

    .vertical-align-center {
        display: table-cell;
        vertical-align: middle;
        pointer-events: none;
    }

    .modal-content {
        width: inherit;
        height: inherit;
        margin: 0 auto;
        pointer-events: all;
    }

    .fa-6 {
        font-size: 10em;
    }

    .preview-img {
        width: 200px;
        height: 160px;
        cursor: pointer;
        margin: 7px;
        max-width: 100%;
        max-height: 100%;
    }
    .preview-pdf {
        width:200px; 
        height:160px; 
        cursor:pointer;
        margin: 7px;
        border:1px solid black;
    }

    #ais_topbar {
        display: block;
    }

    #ais_topbar .topbar_ribbon {
	    padding-left:10px;
        float: left;
        height: 60px;
    }

    #ribbonking{ width:100%; height:60px;  background: url("/Images/bg1366.jpg") no-repeat center;  background-color:#000;}
    #ribbonking_wrapper{height:60px; margin: 0 auto; max-width: 1140px;}

    .statictextarea {
        height:80px;
    }

</style>

<div id="registerpkg" style="display:none">

    <div class="container-fluid">
        <br />

        <div class="modal fade" id="modalretPkgError" tabindex="-1" role="dialog" aria-labelledby="basic-modal-content_label">
                <div class="modal-dialog" role="document">
                    <div class="modal-content add-border-rounded-green">
                        <div class="modal-header" style="border-bottom-color:none; background-color:#8dc63f;color:white;">
                           @P_ALERT_HEAD
                        </div>
                        <div class="modal-body">
                            <div class="">
                                <p class="clearfix"></p>
                                <h5 class="text-center" style="font-weight: bold;">@E_MESSAGE_03</h5>


                                <p class="clearfix"></p>
                                <div class="col-md-12 text-center">
                                    <p class="clearfix"></p>
                                    <button type="button" class="btn btn-default" data-dismiss="modal" onclick="_closePkgErrorModal()"> OK </button>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer" style="border-top: none;">
                        </div>
                    </div>
                </div>
            </div>

        <div class="modal fade" id="modalretPkgErrorAddrID" tabindex="-1" role="dialog" aria-labelledby="basic-modal-content_label">
                <div class="modal-dialog" role="document">
                    <div class="modal-content add-border-rounded-green">
                        <div class="modal-header" style="border-bottom-color:none; background-color:#8dc63f;color:white;">
                           @P_ALERT_HEAD
                        </div>
                        <div class="modal-body">
                            <div class="">
                                <p class="clearfix"></p>
                                <h5 class="text-center" style="font-weight: bold;color:grey;"><span id="PkgErrorAddrID"></span></h5>


                                <p class="clearfix"></p>
                                <div class="col-md-12 text-center">
                                    <p class="clearfix"></p>
                                    <button type="button" class="btn btn-default" data-dismiss="modal" onclick="_closePkgErrorAddrID()"> OK </button>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer" style="border-top: none;">
                        </div>
                    </div>
                </div>
            </div>

        <div class="modal fade" id="modalMainPkg" tabindex="-1" role="dialog" aria-labelledby="basic-modal-content_label">
                <div class="modal-dialog" role="document">
                    <div class="modal-content add-border-rounded-green">
                        <div class="modal-header" style="border-bottom-color:none;background-color:#8dc63f;color:white;">
                           @H_TITLE_07
                        </div>
                        <div class="modal-body">
                            <div class="">
                                <p class="clearfix"></p>

                                <div class="row">

                                <div class="col-sm-3 col-md-3">
                                        <label><i class="fa fa-angle-right fa-lg" aria-hidden="true" style="color:#9bba25;"></i>&nbsp;&nbsp; @L_PACKAGE_CODE</label>
                                    </div>
                                <div class="col-sm-4 col-md-4">
                                    <div class="i-fg-data-entry">
                                            @Html.TextBox("txtmodalpkgsffpromoCD", null, new
                                       {
                                           @class = "dis k-textbox form-control",
                                           @id = "txtmodalpkgsffpromoCD",
                                           @name = "txtmodalpkgsffpromoCD"
                                       })
                                        </div>
                                        <div class="i-fg-data-entry-validation" id="validatefor-txtmodalpkgsffpromoCD"></div>
                                </div>
                                <div class="col-sm-2 col-md-2">
                                    <button id="btnSearchMainPkg" type="button" class="btn btn-success" onclick="_SearchMainPkg();"> @B_SEARCH </button>
                                    </div>

                                </div>
                                <p class="clearfix"></p>
                                <p class="clearfix"></p>
                                <div class="table-responsive">
                                    <table border="1" id="tbSelectpkgmain" style="width:100%;border-color:#8dc63f;">
                                      <thead>
                                          <tr>
                                              <th style="background-color: #8dc63f;color:white;text-align:center;">Package Code</th>
                                              <th style="background-color: #8dc63f;color:white;text-align:center;">Package Name</th>
                                              <th style="background-color: #8dc63f;color:white;text-align:center;">Description Package</th>
                                          </tr>
                                      </thead>
                                      <tbody class="table">
                                          
                                          <tr>
                                              <td id="tdMainPkg_sffpromocd" class="tdpkg"></td>
                                              <td id="tdMainPkg_pkgnameth" class="tdpkg"></td>
                                              <td id="tdMainPkg_sffpromobillth" class="tdpkg"></td>
                                          </tr>

                                      </tbody>
                                  </table>
                                </div>

                                <p class="clearfix"></p>
                                <div class="col-md-12 text-center">
                                    <p class="clearfix"></p>
                                    <button id="btnmodalAddMainpkg" type="button" class="btn btn-info" data-dismiss="modal" onclick="_closeModalMainPkg()"> @B_POP_UP_ADD </button>
                                    <button id="btnmodalCancelMainpkg" type="button" class="btn btn-danger" data-dismiss="modal" onclick="_closeModalMainPkg()"> @B_POP_UP_CANCEL </button>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer" style="border-top: none;">
                        </div>
                    </div>
                </div>
            </div>

        <div class="modal fade" id="modalOntopDisPkg" tabindex="-1" role="dialog" aria-labelledby="basic-modal-content_label">
                <div class="modal-dialog" role="document">
                    <div class="modal-content add-border-rounded-green">
                        <div class="modal-header" style="border-bottom-color:none;background-color:#8dc63f;color:white;">
                           @H_TITLE_07
                        </div>
                        <div class="modal-body">
                            <div class="">
                                <p class="clearfix"></p>

                                <div class="row">

                                <div class="col-sm-3 col-md-3">
                                        <label><i class="fa fa-angle-right fa-lg" aria-hidden="true" style="color:#9bba25;"></i>&nbsp;&nbsp; @L_PACKAGE_CODE</label>
                                    </div>
                                <div class="col-sm-4 col-md-4">
                                    <div class="i-fg-data-entry">
                                            @Html.TextBox("txtmodalOntopDispkgsffpromoCD", null, new
                                       {
                                           @class = "dis k-textbox form-control",
                                           @id = "txtmodalOntopDispkgsffpromoCD",
                                           @name = "txtmodalOntopDispkgsffpromoCD"
                                       })
                                        </div>
                                        <div class="i-fg-data-entry-validation" id="validatefor-txtmodalOntopDispkgsffpromoCD"></div>
                                </div>
                                <div class="col-sm-2 col-md-2">
                                    <button id="btnSearchOntopDisPkg" type="button" class="btn btn-success" onclick="_SearchOntopDisPkg();"> @B_SEARCH </button>
                                    </div>

                                </div>
                                <p class="clearfix"></p>
                                <p class="clearfix"></p>
                                <div class="table-responsive">
                                    <table border="1" id="tbSelectpkgontopdis" style="width:100%;border-color:#8dc63f;">
                                      <thead>
                                          <tr>
                                              <th style="background-color: #8dc63f;color:white;text-align:center;">Package Code</th>
                                              <th style="background-color: #8dc63f;color:white;text-align:center;">Package Name</th>
                                              <th style="background-color: #8dc63f;color:white;text-align:center;">Description Package</th>
                                          </tr>
                                      </thead>
                                      <tbody class="table">
                                          
                                          <tr>
                                              <td id="tdOntopDisPkg_sffpromocd" class="tdpkg"></td>
                                              <td id="tdOntopDisPkg_pkgnameth" class="tdpkg"></td>
                                              <td id="tdOntopDisPkg_sffpromobillth" class="tdpkg"></td>
                                          </tr>

                                      </tbody>
                                  </table>
                                </div>

                                <p class="clearfix"></p>
                                <div class="col-md-12 text-center">
                                    <p class="clearfix"></p>
                                    <button id="btnmodalAddOntopDispkg" type="button" class="btn btn-info" data-dismiss="modal" onclick="_closeModalOntopDisPkg()"> @B_POP_UP_ADD </button>
                                    <button id="btnmodalCancelOntopDispkg" type="button" class="btn btn-danger" data-dismiss="modal" onclick="_closeModalOntopDisPkg()"> @B_POP_UP_CANCEL </button>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer" style="border-top: none;">
                        </div>
                    </div>
                </div>
            </div>

        <div class="modal fade" id="Modal-Error-Exist" tabindex="-1" role="dialog" aria-labelledby="basic-modal-content_label">
                <div class="modal-dialog" role="document">
                    <div class="modal-content add-border-rounded-green">
                        <div class="modal-header" style="border-bottom-color:none;background-color:#8dc63f;color:white;">
                        </div>
                        <div class="modal-body">
                            <div class="add-border-rounded-green">
                                <p class="clearfix"></p>
                                <h4 class="text-center" style="font-weight: bold;">&nbsp;<span id="ErrorExistBulk"></span></h4>
                                

                                <p class="clearfix"></p>
                                <div class="col-md-12 text-center">
                                    <p class="clearfix"></p>
                                    <button type="button" class="btn btn-default" data-dismiss="modal" onclick="_closeModalError();">&nbsp; OK &nbsp; </button>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer" style="border-top: none;">
                        </div>
                    </div>
                </div>
            </div>

        <div class="modal fade" id="Modal-Error-Pkg" tabindex="-1" role="dialog" aria-labelledby="basic-modal-content_label">
                <div class="modal-dialog" role="document">
                    <div class="modal-content add-border-rounded-green">
                        <div class="modal-header" style="border-bottom-color:none;background-color:#8dc63f;color:white;">
                        </div>
                        <div class="modal-body">
                            <div class="">
                                <p class="clearfix"></p>
                                <h4 class="text-center" style="font-weight: bold;color:grey;">&nbsp;<span id="ErrorPkgBulk"></span></h4>
                                

                                <p class="clearfix"></p>
                                <div class="col-md-12 text-center">
                                    <p class="clearfix"></p>
                                    <button type="button" class="btn btn-default" data-dismiss="modal" onclick="_closeModalErrorPkg();">&nbsp; OK &nbsp; </button>
                                </div>
                            </div>
                        </div>
                        <div class="modal-footer" style="border-top: none;">
                        </div>
                    </div>
                </div>
            </div>

        <div id="bulkcorp_newInstallData">
            <div class="container-fluid i-gap i-header">

                <div class="panel panel-success">
                    <div class="panel-heading">
                        <h3 class="panel-title">
                            <span>@H_TITLE_07</span>
                            <a data-toggle="collapse" class="pull-right" href="#Panel7" onclick="onPanelToggle(this);" id="PanelHeader7"><i class="fa fa-chevron-circle-down fa-lg" id="PanelHeaderArrow7"></i></a>
                        </h3>
                    </div>
                    <div id="Panel7" class="panel-collapse collapse in">
                        <div class="panel-body">
                            <div class="panel-body">

                                <div id="row7_1" class="row i-gap-top-1">
                                    <div class="col-sm-2 col-md-2">
                                        <label><i class="fa fa-angle-right fa-lg" aria-hidden="true" style="color:#9bba25;" id="Arrow7_1"></i>&nbsp;&nbsp; @L_INSTALL_TYPE</label>
                                        <span style="color:red;">*</span>
                                    </div>
                                    <div class="col-sm-1 col-md-1 col1">

                                    </div>

                                    <div class="col-sm-4 col-md-4">
                                        <div class="i-fg-data-entry">
                                            @(Html.Kendo().DropDownList()
                                                        .Name("ddlpkgTechInstall")
                                                .DataTextField("LOV_VAL1")
                                                .DataValueField("LOV_VAL1")
                                                .HtmlAttributes(new { @class = "form-control i-form-control-extend required" })
                                                .DataSource(source =>
                                                {
                                                    source.Read(read =>
                                                    {
                                                        read.Action("SelectInstallType", "RegisterBulkCorp", new { type = "FBBBULK_INSTALL_TYPE" });
                                                    });
                                                })

                                            )
                                        </div>
                                        <span id="requiredfor-ddlpkgTechInstall"></span>
                                        <div class="i-fg-data-entry-validation" id="validatefor-ddlpkgTechInstall"></div>
                                    </div>

                                    <div class="col-sm-4 col-md-4">
                                        <label></label>
                                        <div class="i-fg-data-entry">

                                        </div>

                                    </div>

                                    <div class="col-sm-1 col-md-1 col1">

                                    </div>

                                </div>

                                <div id="row7_2" class="row i-gap-top-1">
                                    <div class="col-sm-2 col-md-2">
                                        <label><i class="fa fa-angle-right fa-lg" aria-hidden="true" style="color:#9bba25;" id="Arrow7_2"></i>&nbsp;&nbsp; @L_ADDRESS_ID</label>
                                        <span style="color:red;">*</span>
                                    </div>
                                    <div class="col-sm-1 col-md-1 col1">

                                    </div>

                                    <div class="col-sm-4 col-md-4">
                                        
                                        <div class="i-fg-data-entry">
                                            @Html.TextBox("txtpkgAddrID", null, new
                                       {
                                           @class = "k-textbox form-control required",
                                           @id = "txtpkgAddrID",
                                           @name = "txtpkgAddrID"
                                       })
                                        </div>
                                        <span id="requiredfor-txtpkgAddrID"></span>
                                        <div class="i-fg-data-entry-validation" id="validatefor-txtpkgAddrID"></div>
                                    </div>

                                    <div class="col-sm-4 col-md-4">
                                        <label></label>
                                        <div class="i-fg-data-entry">

                                        </div>

                                    </div>

                                    <div class="col-sm-1 col-md-1 col1">

                                    </div>

                                </div>

                                <div id="row7_3" class="row i-gap-top-1">
                                    <div class="col-sm-2 col-md-2">
                                        <label><i class="fa fa-angle-right fa-lg" aria-hidden="true" style="color:#9bba25;" id="Arrow7_3"></i>&nbsp;&nbsp; @L_INSTALL_ADDRESS</label>
                                        <span style="color:red;">*</span>

                                    </div>
                                    <div class="col-sm-1 col-md-1 col1">

                                    </div>

                                    <div class="col-sm-4 col-md-4">

                                        <span></span>
                                        <div class="i-fg-data-entry">
                                          
                                            @(Html.Kendo().Upload()
                                                .Name("files")
                                        .Async(a => a
                                               .Save("SaveExcel", "RegisterBulkCorp")
                                            .AutoUpload(true)

                                            )
                                            .HtmlAttributes(new { accept = "application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" })
                                            .Events(events => events
                                                .Upload("onExcelUpload")
                                                .Select("onSelectUpload")
                                                .Success("onSuccess")
                                                .Error("onError"))
                                                .Multiple(false)

                                            )

                                            </div>
                                        <div class="i-fg-data-entry-validation" id="validatefor-files"></div>

                                        </div>

                                    </div>

                                    <div class="col-sm-4 col-md-4">
                                    </div>



                                    <div class="col-sm-1 col-md-1 col1">

                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-sm-12 col-md-12" style="display:none">
                                        @(Html.Kendo().Grid<WBBEntity.PanelModels.FBBWebConfigModels.BulkExcelData>()
                                    .Name("PkgImportExcellist")
                                    .Columns(columns =>
                                    {
                                        columns.Bound(p => p.No).Title("No").HtmlAttributes(new { style = "text-align:left;" });
                                        columns.Bound(p => p.installAddress1).Title("installAddress1").HtmlAttributes(new { style = "text-align:left;" });
                                        columns.Bound(p => p.installAddress2).Title("installAddress2").HtmlAttributes(new { style = "text-align:left;" });
                                        columns.Bound(p => p.installAddress3).Title("installAddress3").HtmlAttributes(new { style = "text-align:left;" });
                                        columns.Bound(p => p.installAddress4).Title("installAddress4").HtmlAttributes(new { style = "text-align:left;" });
                                        columns.Bound(p => p.installAddress5).Title("installAddress5").HtmlAttributes(new { style = "text-align:left;" });
                                        columns.Bound(p => p.latitude).Title("latitude").HtmlAttributes(new { style = "text-align:left;" });
                                        columns.Bound(p => p.longitude).Title("longitude").HtmlAttributes(new { style = "text-align:left;" });
                                        columns.Bound(p => p.install_date).Title("install_date").HtmlAttributes(new { style = "text-align:left;" });

                                    })
                                    .HtmlAttributes(new { style = "height: 20px;" })@*"height: 380px;"*@
                                    .Pageable(pageable => pageable
                                        //  .PageSizes(true)
                                                        .PageSizes(new int[] { 20, 50, 100 })
                                                        .Numeric(true)
                                                        )
                                                        .Scrollable()
                                                        .DataSource(dataSource => dataSource
                                                            .Ajax()
                                                            .PageSize(20)
                                                            .Read(read => read.Action("Gettogrid", "RegisterBulkCorp"))

                                                            )
                                        )
                                    </div>
                                </div>



                                <div id="row7_4" class="row i-gap-top-1">
                                    <div class="col-sm-2 col-md-2">


                                    </div>
                                    <div class="col-sm-1 col-md-1 col1">

                                    </div>

                                    <div class="col-sm-4 col-md-4">
                                        <label></label>
                                        <div class="i-fg-data-entry">

                                            <span class="label" style="color: black; padding: 0 0 0 0 !important; white-space: normal !important;"><a href="~/Template/BULK_REGISTER_UPLOAD_TEMPLATE.xlsx">@L_EX_DOCUMENT</a> &nbsp;&nbsp;&nbsp; - @Html.Raw(@L_REMARK_01)</span>
                                        </div>
                                        <div class="i-fg-data-entry">
                                            <span class="label" style="color: black; padding: 0 0 0 0 !important; white-space: normal !important;"> &nbsp;&nbsp;&nbsp; - @Html.Raw(@L_REMARK_02)</span>
                                        </div>
                                        <div class="i-fg-data-entry-validation"></div>
                                    </div>

                                    <div class="col-sm-4 col-md-4">
                                        <label></label>
                                        <div class="i-fg-data-entry">

                                        </div>

                                    </div>

                                    <div class="col-sm-1 col-md-1 col1">

                                    </div>

                                </div>

                            <br />
                                <div id="row7_5" class="row i-gap-top-1">
                                    <div class="col-sm-2 col-md-2">
                                        <label></label>
                                        <label><i class="fa fa-angle-right fa-lg" aria-hidden="true" style="color:#9bba25;" id="Arrow7_5"></i>&nbsp;&nbsp; @L_SELECT_MAIN_PACKAGE</label>
                                        <span style="color:red;">*</span>

                                    </div>

                                    <div class="col-sm-1 col-md-1">
                                        
                                        <div class="i-fg-data-entry">
                                            @Html.TextBox("txtpkgsffpromoCD", null, new
                                       {
                                           @class = "dis k-textbox form-control",
                                           @id = "txtpkgsffpromoCD",
                                           @name = "txtpkgsffpromoCD",
                                           @disabled = "disabled"
                                       })
                                        </div>
                                        <span id="requiredfor-txtpkgsffpromoCD"></span>
                                        <div class="i-fg-data-entry-validation" id="validatefor-txtpkgsffpromoCD"></div>

                                    </div>




                                   @* <div class="col-sm-4 col-md-4">
                                        <div class="i-fg-data-entry">
                                            @(Html.Kendo().DropDownList()
                                                .Name("ddlpkgPackName")
                                                .DataTextField("Text")
                                                .DataValueField("Value")
                                                .HtmlAttributes(new { @class = "form-control i-form-control-extend" })
                                                .Filter(FilterType.Contains)
                                                .DataSource(source =>
                                                {
                                                    source.Read(read =>
                                                {
                                                    read.Action("GetMainPackagebyPackageNameTH", "RegisterBulkCorp", new { Accnt_cat = "all" });
                                                });
                                                })
                                                .SelectedIndex(0)
                                                .Events(e => e.Change("pkgProductNameOnChange"))

                                            )
                                        </div>
                                        <span id="requiredfor-ddlpkgPackName"></span>
                                        <div class="i-fg-data-entry-validation" id="validatefor-ddlpkgPackName"></div>


                                    </div>*@

                                    <div class="col-sm-5 col-md-5">
                                        <div class="i-fg-data-entry">
                                            @Html.TextBox("txtpkgPackName", null, new
                                       {
                                           @class = "dis k-textbox form-control",
                                           @id = "txtpkgPackName",
                                           @name = "txtpkgPackName",
                                           @disabled = "disabled"
                                       }
                                            )
                                            
                                        </div>
                                        <span id="requiredfor-txtpkgPackName"></span>
                                        <div class="i-fg-data-entry-validation" id="validatefor-txtpkgPackName"></div>


                                    </div>
                                    <div class="col-sm-1 col-md-1">
                                        <button class="btn btn-success" id="AddMainPkg" onclick="_OpenMainPkg();" disabled><i class="fa fa-plus fa-lg"></i>&nbsp;&nbsp;@B_ADD_PROMTION</button>
                                        </div>

                                    <div class="col-sm-1 col-md-1">
                                       &nbsp; <button class="btn btn-danger" id="ClearMainPkg" onclick="_ClearMainPkg();"><i class="fa fa-minus fa-lg"></i>&nbsp;&nbsp;@B_CLEAR</button>
                                    </div>

                                </div>

                                <div id="row7_5_2" class="row i-gap-top-1">

                                    <div class=" col-sm-1 col-md-1 col1">
                                    </div>
                                    <div class="i-fg-data-entry">
                                        <label>&nbsp;&nbsp; @Html.Raw(@L_PACKAGE_DESCRIPTION)&nbsp;:&nbsp;</label>
                                        <span style="color:red;">*</span>

                                    </div>

                                    <div class="col-sm-10 col-md-10">

                                        <div class="i-fg-data-entry">
                                            <div class=" col-sm-1 col-md-1 col1">
                                            </div>
                                            <div class=" col-sm-9 col-md-9">
                                                
                                                <div class="i-fg-data-entry">
                                                    @Html.TextArea("txtpkgsffbillth", null,
                                                    new
                                                    {
                                                        cols = "20",
                                                        rows = "2",
                                                        @class = "dis k-textbox form-control statictextarea",
                                                        @id = "txtpkgsffbillth",
                                                        @name = "txtpkgsffbillth",
                                                        @disabled = "disabled"
                                                    })
                                                </div>
                                                <span id="requiredfor-txtpkgsffbillth"></span>
                                                <div class="i-fg-data-entry-validation" id="validatefor-txtpkgsffbillth"></div>
                                            </div>
                                        </div>
                                    </div>

                                </div>

                                <div id="row7_6" class="row i-gap-top-1">
                                    <div class="col-sm-2 col-md-2">
                                        <label></label>
                                        <label><i class="fa fa-angle-right fa-lg" aria-hidden="true" style="color:#9bba25;" id="Arrow7_6"></i>&nbsp;&nbsp; @L_SELECT_ONTOP_DISCOUNT</label>
                                       

                                    </div>

                                    <div class="col-sm-1 col-md-1">
                                        
                                        <div class="i-fg-data-entry">
                                            @Html.TextBox("txtOntopDispkgsffpromoCD", null, new
                                       {
                                           @class = "dis k-textbox form-control",
                                           @id = "txtOntopDispkgsffpromoCD",
                                           @name = "txtOntopDispkgsffpromoCD",
                                           @disabled = "disabled"
                                       })
                                        </div>
                                        @*<span id="requiredfor-txtOntopDispkgsffpromoCD"></span>*@
                                        <div class="i-fg-data-entry-validation" id="validatefor-txtOntopDispkgsffpromoCD"></div>

                                    </div>

                                   @* <div class="col-sm-4 col-md-4">
                                        <div class="i-fg-data-entry">
                                            @(Html.Kendo().DropDownList()
                                                .Name("ddlpkgPackName")
                                                .DataTextField("Text")
                                                .DataValueField("Value")
                                                .HtmlAttributes(new { @class = "form-control i-form-control-extend" })
                                                .Filter(FilterType.Contains)
                                                .DataSource(source =>
                                                {
                                                    source.Read(read =>
                                                {
                                                    read.Action("GetMainPackagebyPackageNameTH", "RegisterBulkCorp", new { Accnt_cat = "all" });
                                                });
                                                })
                                                .SelectedIndex(0)
                                                .Events(e => e.Change("pkgProductNameOnChange"))

                                            )
                                        </div>
                                        <span id="requiredfor-ddlpkgPackName"></span>
                                        <div class="i-fg-data-entry-validation" id="validatefor-ddlpkgPackName"></div>


                                    </div>*@

                                    <div class="col-sm-5 col-md-5">
                                        <div class="i-fg-data-entry">
                                            @Html.TextBox("txtOntopDispkgPackName", null, new
                                       {
                                           @class = "dis k-textbox form-control",
                                           @id = "txtOntopDispkgPackName",
                                           @name = "txtOntopDispkgPackName",
                                           @disabled = "disabled"
                                       }
                                            )
                                            
                                        </div>
                                        
                                        <div class="i-fg-data-entry-validation" id="validatefor-txtOntopDispkgPackName"></div>


                                    </div>
                                    <div class="col-sm-1 col-md-1">
                                        <button class="btn btn-success" id="AddOntopDisPkg" onclick="_OpenOntopDisPkg();" disabled><i class="fa fa-plus fa-lg"></i>&nbsp;&nbsp;@B_ADD_PROMTION</button>
                                        
                                        </div>

                                    <div class="col-sm-1 col-md-1">
                                       &nbsp; <button class="btn btn-danger" id="ClearOntopDisPkg" onclick="_ClearOntopDisPkg();"><i class="fa fa-minus fa-lg"></i>&nbsp;&nbsp;@B_CLEAR</button>
                                    </div>

                                </div>

                                <div id="row7_6_2" class="row i-gap-top-1">

                                    <div class=" col-sm-1 col-md-1 col1">
                                    </div>
                                    <div class="i-fg-data-entry">
                                        <label>&nbsp;&nbsp; @Html.Raw(@L_PACKAGE_DESCRIPTION)&nbsp;:&nbsp;</label>
                                        

                                    </div>

                                    <div class="col-sm-10 col-md-10">

                                        <div class="i-fg-data-entry">
                                            <div class=" col-sm-1 col-md-1 col1">
                                            </div>
                                            <div class=" col-sm-9 col-md-9">
                                                
                                                <div class="i-fg-data-entry">
                                                    @Html.TextArea("txtOntopDispkgsffbillth", null,
                                                    new
                                                    {
                                                        cols = "20",
                                                        rows = "2",
                                                        @class = "dis k-textbox form-control statictextarea",
                                                        @id = "txtOntopDispkgsffbillth",
                                                        @name = "txtOntopDispkgsffbillth",
                                                        @disabled = "disabled"
                                                    })
                                                </div>
                                                
                                                <div class="i-fg-data-entry-validation" id="validatefor-txtOntopDispkgsffbillth"></div>
                                            </div>
                                        </div>
                                    </div>

                                </div>

                                <div id="row7blank" class="row i-gap-top-1">
                                    <p></p>
                                </div>

                                @*<div id="row7_7" class="row i-gap-top-1">
                                    <div class="col-sm-2 col-md-2">
                                        <label></label>
                                        <label><i class="fa fa-angle-right fa-lg" aria-hidden="true" style="color:#9bba25;" id="Arrow7_7"></i>&nbsp;&nbsp; @L_INSTALL_DATE</label>
                                        <span style="color:red;">*</span>

                                    </div>
                                    <div class="col-sm-1 col-md-1 col1">

                                    </div>

                                    <div class="col-sm-3 col-md-3">
                                        
                                        <div class="i-fg-data-entry">
                                            @(Html.Kendo().DatePicker().Name("dptInstallDate")
                                             .HtmlAttributes(new { @class = "form-control i-form-control-extend" })
                                             .ParseFormats(new List<string> { "dd/MM/yyyy" })
                                             .Format("dd/MM/yyyy")
                                             .Min(DateTime.Today)
                                             .Max(DateTime.Today.AddDays(31))
                                             .Events(e => e.Change("ChangdtpDateTo")))
                                        </div>
                                        <span id="requiredfor-dptInstallDate"></span>
                                        <div class="i-fg-data-entry-validation" id="validatefor-dptInstallDate"></div>
                                    </div>

                                    <div class="col-sm-5 col-md-5">
                                        <label></label>
                                        <div class="i-fg-data-entry">

                                        </div>

                                    </div>

                                    <div class="col-sm-1 col-md-1 col1">

                                    </div>

                                </div>*@

                                <div id="row7_8" class="row i-gap-top-1">
                                    <div class="col-sm-2 col-md-2">
                                        <label><i class="fa fa-angle-right fa-lg" aria-hidden="true" style="color:#9bba25;" id="Arrow7_8"></i>&nbsp;&nbsp; @L_EVENT_CODE</label>
                                        <span style="color:red;">*</span>

                                    </div>
                                    <div class="col-sm-1 col-md-1 col1">

                                    </div>

                                    <div class="col-sm-4 col-md-4">
                                        
                                        <div class="i-fg-data-entry">
                                            @Html.TextBox("txtpkgEvntCD", null, new
                                           {
                                               @class = "k-textbox form-control required",
                                               @id = "txtpkgEvntCD",
                                               @name = "txtpkgEvntCD"
                                           })
                                        </div>
                                        <span id="requiredfor-txtpkgEvntCD"></span>
                                        <div class="i-fg-data-entry-validation" id="validatefor-txtpkgEvntCD"></div>
                                    </div>

                                    <div class="col-sm-4 col-md-4">
                                        <label></label>
                                        <div class="i-fg-data-entry">

                                        </div>

                                    </div>

                                    <div class="col-sm-1 col-md-1 col1">

                                    </div>

                                </div>

                                <div id="row7_9" class="row i-gap-top-1">
                                    <div class="col-sm-2 col-md-2">
                                        <label><i class="fa fa-angle-right fa-lg" aria-hidden="true" style="color:#9bba25;" id="Arrow7_9"></i>&nbsp;&nbsp; @L_CONTACT_PERSON</label>
                                        <span style="color:red;">*</span>

                                    </div>
                                    <div class="col-sm-1 col-md-1 col1">

                                    </div>

                                    <div class="col-sm-2 col-md-2">
                                        
                                        <div class="i-fg-data-entry">
                                            @Html.TextBox("txtpkgContactFirstN", null, new
                                       {
                                           @class = "k-textbox form-control required",
                                           @id = "txtpkgContactFirstN",
                                           @name = "txtpkgContactFirstN",
                                           @placeholder = "First Name"
                                       })
                                        </div>
                                        <span id="requiredfor-txtpkgContactFirstN"></span>
                                        <div class="i-fg-data-entry-validation" id="validatefor-txtpkgContactFirstN"></div>
                                    </div>

                                    <div class="col-sm-2 col-md-2">
                                        
                                        <div class="i-fg-data-entry">
                                            @Html.TextBox("txtpkgContactLastN", null, new
                                       {
                                           @class = "k-textbox form-control required",
                                           @id = "txtpkgContactLastN",
                                           @name = "txtpkgContactLastN",
                                           @placeholder = "Last Name"
                                       })
                                        </div>
                                        <span id="requiredfor-txtpkgContactLastN"></span>
                                        <div class="i-fg-data-entry-validation" id="validatefor-txtpkgContactLastN"></div>
                                    </div>

                                    <div class="col-sm-4 col-md-4">

                                    </div>

                                    <div class="col-sm-1 col-md-1 col1">

                                    </div>

                                </div>

                                <div id="row7_10" class="row i-gap-top-1">
                                    <div class="col-sm-2 col-md-2">
                                        <label></label>
                                        <label><i class="fa fa-angle-right fa-lg" aria-hidden="true" style="color:#9bba25;" id="Arrow7_10"></i>&nbsp;&nbsp; @L_CONTACT_MOBILE</label>
                                        <span style="color:red;">*</span>

                                    </div>
                                    <div class="col-sm-1 col-md-1 col1">

                                    </div>

                                    <div class="col-sm-4 col-md-4">
                                        
                                        <div class="i-fg-data-entry">
                                            @Html.TextBox("txtpkgContactMobile", null, new
                                           {
                                               @class = "k-textbox form-control required",
                                               @id = "txtpkgContactMobile",
                                               @name = "txtpkgContactMobile",
                                               @maxlength = @LENGTH_MAX_CA_MAIN_MOBILE
                                           })
                                        </div>
                                        <span id="requiredfor-txtpkgContactMobile"></span>
                                        <div class="i-fg-data-entry-validation" id="validatefor-txtpkgContactMobile"></div>
                                    </div>

                                    <div class="col-sm-4 col-md-4">
                                        <label></label>
                                        <div class="i-fg-data-entry">

                                        </div>

                                    </div>

                                    <div class="col-sm-1 col-md-1 col1">

                                    </div>

                                </div>

                                <div id="row7_11" class="row i-gap-top-1">
                                    <div class="col-sm-2 col-md-2">
                                        <label><i class="fa fa-angle-right fa-lg" aria-hidden="true" style="color:#9bba25;" id="Arrow7_11"></i>&nbsp;&nbsp; @L_CONTACT_OFFICE_PHONE</label>
                                        

                                    </div>
                                    <div class="col-sm-1 col-md-1 col1">

                                    </div>

                                    <div class="col-sm-4 col-md-4">
                                        
                                        <div class="i-fg-data-entry">
                                            @Html.TextBox("txtpkgOfficePhone", null, new
                                           {
                                               @class = "k-textbox form-control required",
                                               @id = "txtpkgOfficePhone",
                                               @name = "txtpkgOfficePhone",
                                               @maxlength = @LENGTH_MAX_CA_PHONE
                                           })
                                        </div>
                                        <span>&nbsp;</span>
                                        <div class="i-fg-data-entry-validation"></div>
                                    </div>

                                    <div class="col-sm-2 col-md-2">

                                        <div class="i-fg-data-entry">

                                        </div>

                                    </div>
                                    <div class="col-sm-2 col-md-2">

                                        <div class="i-fg-data-entry">

                                        </div>

                                    </div>


                                    <div class="col-sm-1 col-md-1 col1">

                                    </div>

                                </div>

                                <div id="row7_12" class="row i-gap-top-1">
                                    <div class="col-sm-2 col-md-2">
                                        <label><i class="fa fa-angle-right fa-lg" aria-hidden="true" style="color:#9bba25;" id="Arrow7_12"></i>&nbsp;&nbsp; @L_EMAIL</label>
                                      

                                    </div>
                                    <div class="col-sm-1 col-md-1 col1">

                                    </div>

                                    <div class="col-sm-4 col-md-4">
                                        
                                        <div class="i-fg-data-entry">
                                            @Html.TextBox("txtpkgEmail", null, new
                                       {
                                           @class = "k-textbox form-control required",
                                           @id = "txtpkgEmail",
                                           @name = "txtpkgEmail",
                                           @TextMode = "email"
                                       })
                                        </div>
                                        <span></span>
                                        <div class="i-fg-data-entry-validation"></div>
                                    </div>

                                    <div class="col-sm-2 col-md-2">

                                        <div class="i-fg-data-entry">

                                        </div>

                                    </div>
                                    <div class="col-sm-2 col-md-2">

                                        <div class="i-fg-data-entry">

                                        </div>

                                    </div>


                                    <div class="col-sm-1 col-md-1 col1">

                                    </div>

                                </div>

                                <div id="row7_13" class="row i-gap-top-1">

                                    <div class="col-sm-12 col-md-12">

                                    </div>
                                    <div class="col-sm-11 col-md-11 i-text-align-right">
                                        <a class="btn btn-info" id="btnBackToDetail" onclick="_BackToDetail();"><i class="fa fa-arrow-circle-o-left fa-lg"></i>&nbsp;&nbsp;@B_BACK</a>
                                        <a class="btn btn-success" id="SaveRegisterPkg" onclick="_SaveRegisPkg();"><i class="fa fa-arrow-circle-o-right fa-lg"></i>&nbsp;&nbsp;@B_NEXT</a>
                                    </div>

                                </div>
                            </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>




<script type="text/javascript">
    
    
    $(function () {

        var validateModelpkg = [];
        validateModelpkg.push({ id: "ddlpkgTechInstall" });
        validateModelpkg.push({ id: "txtpkgAddrID" });
        validateModelpkg.push({ id: "lstpkgInsAddr" });
        validateModelpkg.push({ id: "txtpkgsffpromoCD" });
        //validateModelpkg.push({ id: "ddlpkgPackName" });
        validateModelpkg.push({ id: "txtpkgPackName" });//new
        validateModelpkg.push({ id: "txtpkgsffbillth" }); 
        //validateModelpkg.push({ id: "dptInstallDate" });
        validateModelpkg.push({ id: "txtpkgEvntCD" });
        validateModelpkg.push({ id: "txtpkgContactFirstN" });
        validateModelpkg.push({ id: "txtpkgContactLastN" });
        validateModelpkg.push({ id: "txtpkgContactMobile" });

        SetRequired(validateModelpkg);

        //Keyup
        $('#txtpkgAddrID').keyup(function () {
            CheckKeyUps('txtpkgAddrID', '@V_ADDRESS_ID');
        });

        $('#txtpkgEvntCD').keyup(function () {
            CheckKeyUps('txtpkgEvntCD', '@V_PACKAGE_CODE');
        });

        $('#txtpkgContactFirstN').keyup(function () {
            CheckKeyUps('txtpkgContactFirstN', '@V_ACCOUNT_NAME');
        });

        $('#txtpkgContactLastN').keyup(function () {
            CheckKeyUps('txtpkgContactLastN', '@V_ACCOUNT_NAME');
        });

        $('#txtpkgContactMobile').keyup(function () {
            CheckKeyUps('txtpkgContactMobile', '@V_CA_MAIN_MOBILE');
            CheckKeyUpMobileNo('txtpkgContactMobile');
        });

        $('#txtpkgOfficePhone').keyup(function () {
            CheckKeyUps('txtpkgOfficePhone', '@V_CA_PHONE');
            CheckKeyUpMobileNo('txtpkgOfficePhone');
        });

        //keydown
        $('#txtpkgAddrID').keydown(function () {
            CheckKeyUps('txtpkgAddrID', '@V_ADDRESS_ID');
        });

        $('#txtpkgEvntCD').keydown(function () {
            CheckKeyUps('txtpkgEvntCD', '@V_PACKAGE_CODE');
        });

        $('#txtpkgContactFirstN').keydown(function () {
            CheckKeyUps('txtpkgContactFirstN', '@V_ACCOUNT_NAME');
        });

        $('#txtpkgContactLastN').keydown(function () {
            CheckKeyUps('txtpkgContactLastN', '@V_ACCOUNT_NAME');
        });

        $('#txtpkgContactMobile').keydown(function () {
            CheckKeyUps('txtpkgContactMobile', '@V_CA_MAIN_MOBILE');
        CheckKeyUpMobileNo('txtpkgContactMobile');
        });

        $('#txtpkgOfficePhone').keydown(function () {
            CheckKeyUps('txtpkgOfficePhone', '@V_CA_PHONE');
        CheckKeyUpMobileNo('txtpkgOfficePhone');
        });

        $('#txtpkgAddrID').keydown(function () {
            CheckKeyUps('txtpkgAddrID', '@V_ADDRESS_ID');
        });

        $('#txtpkgEvntCD').keydown(function () {
            CheckKeyUps('txtpkgEvntCD', '@V_PACKAGE_CODE');
        });

        $('#txtpkgContactFirstN').keydown(function () {
            CheckKeyUps('txtpkgContactFirstN', '@V_ACCOUNT_NAME');
        });

        $('#txtpkgContactLastN').keydown(function () {
            CheckKeyUps('txtpkgContactLastN', '@V_ACCOUNT_NAME');
        });

        $('#txtpkgContactMobile').keydown(function () {
            CheckKeyUps('txtpkgContactMobile', '@V_CA_MAIN_MOBILE');
            CheckKeyUpMobileNo('txtpkgContactMobile');
        });

        $('#txtpkgOfficePhone').keydown(function () {
            CheckKeyUps('txtpkgOfficePhone', '@V_CA_PHONE');
            CheckKeyUpMobileNo('txtpkgOfficePhone');
        });

        //onchange
        $('#txtpkgAddrID').change(function () {
            CheckKeyUps('txtpkgAddrID', '@V_ADDRESS_ID');
        });

        $('#txtpkgEvntCD').change(function () {
            CheckKeyUps('txtpkgEvntCD', '@V_PACKAGE_CODE');
        });

        $('#txtpkgContactFirstN').change(function () {
            CheckKeyUps('txtpkgContactFirstN', '@V_ACCOUNT_NAME');
        });

        $('#txtpkgContactLastN').change(function () {
            CheckKeyUps('txtpkgContactLastN', '@V_ACCOUNT_NAME');
        });

        $('#txtpkgContactMobile').change(function () {
            CheckKeyUps('txtpkgContactMobile', '@V_CA_MAIN_MOBILE');
            CheckKeyUpMobileNo('txtpkgContactMobile');
        });

        $('#txtpkgOfficePhone').change(function () {
            CheckKeyUps('txtpkgOfficePhone', '@V_CA_PHONE');
            CheckKeyUpMobileNo('txtpkgOfficePhone');
        });

        $("#txtpkgsffpromoCD").change(function () {
            $("#txtOntopDispkgsffpromoCD").val("");
            $("#txtOntopDispkgPackName").val("");
            $("#txtOntopDispkgsffbillth").val("");

            $("#getOntopDisPkg_sffpromocd").val("");
            $("#getOntopDisPkg_pkg_class").val("");
            $("#getOntopDisPkg_sffpromobillth").val("");
            $("#getOntopDisPkg_sffpromobilleng").val("");
            $("#getOntopDisPkg_pkgnameth").val("");
            $("#getOntopDisPkg_pkgnameeng").val("");
            $("#getOntopDisPkg_recur_charge").val("");
            $("#getOntopDisPkg_pre_init_charge").val("");
            $("#getOntopDisPkg_init_charge").val("");
            $("#getOntopDisPkg_down_speed").val("");
            $("#getOntopDisPkg_up_speed").val("");
            $("#getOntopDisPkg_product_type").val("");
            $("#getOntopDisPkg_owner_product").val("");
            $("#getOntopDisPkg_product_subtype").val("");
            $("#getOntopDisPkg_product_subtype2").val("");
            $("#getOntopDisPkg_tech").val("");
            $("#getOntopDisPkg_pkg_grp").val("");
            $("#getOntopDisPkg_pkg_cd").val("");
            $("#getOntopDisPkg_network_type").val("");
            $("#getOntopDisPkg_cust_type").val("");
        });

        });

    $(document).ready(function () {

        var ses_LcCode = sessionStorage.getItem('login_LcCode');
        if (typeof ses_LcCode == "undefined" || null == ses_LcCode || "" == ses_LcCode)
            window.location.href = '@Url.Action("Login", "RegisterBulkCorp")';

        $("#modalretPkgError").modal('hide');

        $("#ddlpkgTechInstall").change(function () {
            var Techvalue = $("#ddlpkgTechInstall").data("kendoDropDownList").value();
            
            if (Techvalue != "" || Techvalue.length > 0) {
                $("#AddMainPkg").removeAttr("disabled");
            }

        });

        var fileUidToRemove = "";
        
        $("#btnmodalAddMainpkg").click(function () {

            $("#txtpkgsffpromoCD").val($("#getMainPkg_sffpromocd").val());
            $("#txtpkgPackName").val($("#getMainPkg_pkgnameth").val());
            $("#txtpkgsffbillth").val($("#getMainPkg_sffpromobillth").val());

            $("#AddOntopDisPkg").removeAttr("disabled");

            $("#txtOntopDispkgsffpromoCD").val("");
            $("#txtOntopDispkgPackName").val("");
            $("#txtOntopDispkgsffbillth").val("");

            $("#getOntopDisPkg_sffpromocd").val("");
            $("#getOntopDisPkg_pkg_class").val("");
            $("#getOntopDisPkg_sffpromobillth").val("");
            $("#getOntopDisPkg_sffpromobilleng").val("");
            $("#getOntopDisPkg_pkgnameth").val("");
            $("#getOntopDisPkg_pkgnameeng").val("");
            $("#getOntopDisPkg_recur_charge").val("");
            $("#getOntopDisPkg_pre_init_charge").val("");
            $("#getOntopDisPkg_init_charge").val("");
            $("#getOntopDisPkg_down_speed").val("");
            $("#getOntopDisPkg_up_speed").val("");
            $("#getOntopDisPkg_product_type").val("");
            $("#getOntopDisPkg_owner_product").val("");
            $("#getOntopDisPkg_product_subtype").val("");
            $("#getOntopDisPkg_product_subtype2").val("");
            $("#getOntopDisPkg_tech").val("");
            $("#getOntopDisPkg_pkg_grp").val("");
            $("#getOntopDisPkg_pkg_cd").val("");
            $("#getOntopDisPkg_network_type").val("");
            $("#getOntopDisPkg_cust_type").val("");

        });

        $("#btnmodalCancelMainpkg").click(function () {

            $("#txtpkgsffpromoCD").val("");
            $("#txtpkgPackName").val("");
            $("#txtpkgsffbillth").val("");

            $("#txtOntopDispkgsffpromoCD").val("");
            $("#txtOntopDispkgPackName").val("");
            $("#txtOntopDispkgsffbillth").val("");

            $("#getMainPkg_sffpromocd").val("");
            $("#getMainPkg_pkg_class").val("");
            $("#getMainPkg_sffpromobillth").val("");
            $("#getMainPkg_sffpromobilleng").val("");
            $("#getMainPkg_pkgnameth").val("");
            $("#getMainPkg_pkgnameeng").val("");
            $("#getMainPkg_recur_charge").val("");
            $("#getMainPkg_pre_init_charge").val("");
            $("#getMainPkg_init_charge").val("");
            $("#getMainPkg_down_speed").val("");
            $("#getMainPkg_up_speed").val("");
            $("#getMainPkg_product_type").val("");
            $("#getMainPkg_owner_product").val("");
            $("#getMainPkg_product_subtype").val("");
            $("#getMainPkg_product_subtype2").val("");
            $("#getMainPkg_tech").val("");
            $("#getMainPkg_pkg_grp").val("");
            $("#getMainPkg_pkg_cd").val("");
            $("#getMainPkg_network_type").val("");
            $("#getMainPkg_cust_type").val("");

        });


        $("#btnmodalAddOntopDispkg").click(function () {

            $("#txtOntopDispkgsffpromoCD").val($("#getOntopDisPkg_sffpromocd").val());
            $("#txtOntopDispkgPackName").val($("#getOntopDisPkg_pkgnameth").val());
            $("#txtOntopDispkgsffbillth").val($("#getOntopDisPkg_sffpromobillth").val());

        });

        $("#btnmodalCancelOntopDispkg").click(function () {

            $("#txtOntopDispkgsffpromoCD").val("");
            $("#txtOntopDispkgPackName").val("");
            $("#txtOntopDispkgsffbillth").val("");

            $("#getOntopDisPkg_sffpromocd").val("");
            $("#getOntopDisPkg_pkg_class").val("");
            $("#getOntopDisPkg_sffpromobillth").val("");
            $("#getOntopDisPkg_sffpromobilleng").val("");
            $("#getOntopDisPkg_pkgnameth").val("");
            $("#getOntopDisPkg_pkgnameeng").val("");
            $("#getOntopDisPkg_recur_charge").val("");
            $("#getOntopDisPkg_pre_init_charge").val("");
            $("#getOntopDisPkg_init_charge").val("");
            $("#getOntopDisPkg_down_speed").val("");
            $("#getOntopDisPkg_up_speed").val("");
            $("#getOntopDisPkg_product_type").val("");
            $("#getOntopDisPkg_owner_product").val("");
            $("#getOntopDisPkg_product_subtype").val("");
            $("#getOntopDisPkg_product_subtype2").val("");
            $("#getOntopDisPkg_tech").val("");
            $("#getOntopDisPkg_pkg_grp").val("");
            $("#getOntopDisPkg_pkg_cd").val("");
            $("#getOntopDisPkg_network_type").val("");
            $("#getOntopDisPkg_cust_type").val("");

        });

        /*
        $("#files").kendoUpload({
            remove: function (e) {
                fileUidToRemove = e.files[0].uid;
                e.preventDefault();

                kendo.confirm("Remove the file?").then(function () {
                    $("#files").data("kendoUpload").removeFileByUid(fileUidToRemove);
                });
            }
        });*/

    });

    function _BackToDetail()
    {
        var EventPage = $("#BulkEventPage").val();
        if (EventPage == "NewCustomer") {

            $('#registerinfo2').hide();
            $('#registerpkg').hide();
            $('#registersum').show();

            /*Set Tabstrip toggle activetab*/
            tabStripn = $("#tabstripnew").data("kendoTabStrip");
            var tabbn = tabStripn.select();
            tabStripn.enable(tabbn, tabbn.hasClass("k-state-disabled"));

            var tabToActivate = $("#tabnew1");
            $("#tabstripnew").kendoTabStrip().data("kendoTabStrip").activateTab(tabToActivate);
            $("#tabnew1").removeClass("k-state-disabled");
            $("#tabnew2").removeClass("k-state-default");
            
        }
        else if (EventPage == "Existing") {

            $('#registerpkg').hide();
            $('#searchbulkcorp').show();

            /*Set Tabstrip toggle activetab*/
            tabStripEx = $("#tabstripexist").data("kendoTabStrip");
            var tabbex = tabStripEx.select();
            tabStripEx.enable(tabbex, tabbex.hasClass("k-state-disabled"));

            var tabToActivate = $("#tabexist1");
            $("#tabstripexist").kendoTabStrip().data("kendoTabStrip").activateTab(tabToActivate);
            $("#tabexist1").removeClass("k-state-disabled");
            $("#tabexist2").removeClass("k-state-default");
            
        }

        
    }

    function _closeModalMainPkg() {
        $("#modalMainPkg").modal('hide');
        $("#validatefor-txtmodalpkgsffpromoCD").html("");
    }

    function _OpenMainPkg() {

        $("#txtmodalpkgsffpromoCD").val("");
        $("#tdMainPkg_sffpromocd").html("");
        $("#tdMainPkg_pkgnameth").html("");
        $("#tdMainPkg_sffpromobillth").html("");

        $("#modalMainPkg").modal();

    }

    function _ClearMainPkg() {

        $("#txtpkgsffpromoCD").val("");
        $("#txtpkgPackName").val("");
        $("#txtpkgsffbillth").val("");

        $("#getMainPkg_sffpromocd").val("");
        $("#getMainPkg_pkg_class").val("");
        $("#getMainPkg_sffpromobillth").val("");
        $("#getMainPkg_sffpromobilleng").val("");
        $("#getMainPkg_pkgnameth").val("");
        $("#getMainPkg_pkgnameeng").val("");
        $("#getMainPkg_recur_charge").val("");
        $("#getMainPkg_pre_init_charge").val("");
        $("#getMainPkg_init_charge").val("");
        $("#getMainPkg_down_speed").val("");
        $("#getMainPkg_up_speed").val("");
        $("#getMainPkg_product_type").val("");
        $("#getMainPkg_owner_product").val("");
        $("#getMainPkg_product_subtype").val("");
        $("#getMainPkg_product_subtype2").val("");
        $("#getMainPkg_tech").val("");
        $("#getMainPkg_pkg_grp").val("");
        $("#getMainPkg_pkg_cd").val("");
        $("#getMainPkg_network_type").val("");
        $("#getMainPkg_cust_type").val("");

    }

    function _ClearOntopDisPkg() {

        $("#txtOntopDispkgsffpromoCD").val("");
        $("#txtOntopDispkgPackName").val("");
        $("#txtOntopDispkgsffbillth").val("");

        $("#getOntopDisPkg_sffpromocd").val("");
        $("#getOntopDisPkg_pkg_class").val("");
        $("#getOntopDisPkg_sffpromobillth").val("");
        $("#getOntopDisPkg_sffpromobilleng").val("");
        $("#getOntopDisPkg_pkgnameth").val("");
        $("#getOntopDisPkg_pkgnameeng").val("");
        $("#getOntopDisPkg_recur_charge").val("");
        $("#getOntopDisPkg_pre_init_charge").val("");
        $("#getOntopDisPkg_init_charge").val("");
        $("#getOntopDisPkg_down_speed").val("");
        $("#getOntopDisPkg_up_speed").val("");
        $("#getOntopDisPkg_product_type").val("");
        $("#getOntopDisPkg_owner_product").val("");
        $("#getOntopDisPkg_product_subtype").val("");
        $("#getOntopDisPkg_product_subtype2").val("");
        $("#getOntopDisPkg_tech").val("");
        $("#getOntopDisPkg_pkg_grp").val("");
        $("#getOntopDisPkg_pkg_cd").val("");
        $("#getOntopDisPkg_network_type").val("");
        $("#getOntopDisPkg_cust_type").val("");
    }

    function _OpenOntopDisPkg() {

        $("#txtmodalOntopDispkgsffpromoCD").val("");
        $("#tdOntopDisPkg_sffpromocd").html("");
        $("#tdOntopDisPkg_pkgnameth").html("");
        $("#tdOntopDisPkg_sffpromobillth").html("");

        $("#modalOntopDisPkg").modal();
    }

    function _closeModalOntopDisPkg() {
        $("#modalOntopDisPkg").modal('hide');
        $("#validatefor-txtmodalOntopDispkgsffpromoCD").html("");
    }

    function _SearchMainPkg() {

        $("#validatefor-txtmodalpkgsffpromoCD").html("");
        $("#tdMainPkg_sffpromocd").html("");
        $("#tdMainPkg_pkgnameth").html("");
        $("#tdMainPkg_sffpromobillth").html("");

        Loading(0);
        Loading();

        var chk = false;
        var AccntCat = "";
        var Techno = "";
        var PromoCd = "";
        var EventPage = $("#BulkEventPage").val();

        if (EventPage == "NewCustomer") {
            AccntCat = $('#getAccountCat').val();
        }
        else if (EventPage == "Existing") {
            AccntCat = $('#getAccountCatExist').val();
        }

        Techno = $("#ddlpkgTechInstall").data("kendoDropDownList").value();
        PromoCd = $("#txtmodalpkgsffpromoCD").val().trim();
        
        if (null != AccntCat && "" != AccntCat && null != Techno && "" != Techno && null != PromoCd && "" != PromoCd) {
            chk = true;
        }

        if (chk) {

                Loading(0);
                Loading();

                $.ajax({
                    url: '/RegisterBulkCorp/SearchMainPkg',
                    data: { Accnt_cat: AccntCat, Tech_no: Techno, Promo_Cd: PromoCd },
                    dataType: "json",
                    async: false,
                    type: 'POST',
                    success: function (response) {

                        if ([] != response && response[0].sff_promotion_code != null && response[0].sff_promotion_code != "") {
                            $("#tdMainPkg_sffpromocd").html(response[0].sff_promotion_code.toString());
                            $("#tdMainPkg_pkgnameth").html(response[0].package_name_tha.toString());
                            $("#tdMainPkg_sffpromobillth").html(response[0].sff_promotion_bill_tha.toString());

                            $("#getMainPkg_sffpromocd").val(response[0].sff_promotion_code);
                            $("#getMainPkg_pkg_class").val(response[0].package_class);
                            $("#getMainPkg_sffpromobillth").val(response[0].sff_promotion_bill_tha);
                            $("#getMainPkg_sffpromobilleng").val(response[0].sff_promotion_bill_eng);
                            $("#getMainPkg_pkgnameth").val(response[0].package_name_tha);
                            $("#getMainPkg_pkgnameeng").val(response[0].package_name_eng);
                            $("#getMainPkg_recur_charge").val(response[0].recurring_charge);
                            $("#getMainPkg_pre_init_charge").val(response[0].pre_initiation_charge);
                            $("#getMainPkg_init_charge").val(response[0].initiation_charge);
                            $("#getMainPkg_down_speed").val(response[0].download_speed);
                            $("#getMainPkg_up_speed").val(response[0].upload_speed);
                            $("#getMainPkg_product_type").val(response[0].product_type);
                            $("#getMainPkg_owner_product").val(response[0].owner_product);
                            $("#getMainPkg_product_subtype").val(response[0].product_subtype);
                            $("#getMainPkg_product_subtype2").val(response[0].product_subtype2);
                            $("#getMainPkg_tech").val(response[0].technology);
                            $("#getMainPkg_pkg_grp").val(response[0].package_group);
                            $("#getMainPkg_pkg_cd").val(response[0].package_code);
                            $("#getMainPkg_network_type").val(response[0].network_type);
                            $("#getMainPkg_cust_type").val(response[0].customer_type);

                        }
                        else {
                            $("#validatefor-txtmodalpkgsffpromoCD").html("DATA NOT FOUND");
                        }

                        Loading(0);

                    },
                    error: function (msg) {
                        $("#modalMainPkg").modal('hide');
                        $('#modalretPkgError').modal();
                        window.scrollTo(0, 0);
                        Loading(0);
                    }

                });

            } else {
                $("#modalMainPkg").modal('hide');
                $('#modalretPkgError').modal();
                window.scrollTo(0, 0);
                Loading(0);
            }

        
        

    }

    function _SearchOntopDisPkg() {

        $("#validatefor-txtmodalOntopDispkgsffpromoCD").html("");

        Loading(0);
        Loading();

        var chk = false;
        var AccntCat = "";
        var Techno = "";
        var PromoCd = "";
        var MainPromoCd = "";
        var EventPage = $("#BulkEventPage").val();

        if (EventPage == "NewCustomer") {
            AccntCat = $('#getAccountCat').val();
        }
        else if (EventPage == "Existing") {
            AccntCat = $('#getAccountCatExist').val();
        }

        Techno = $("#ddlpkgTechInstall").data("kendoDropDownList").value();
        PromoCd = $("#txtmodalOntopDispkgsffpromoCD").val().trim();
        MainPromoCd = $("#txtpkgsffpromoCD").val();

        if (null != AccntCat && "" != AccntCat && null != Techno && "" != Techno && null != MainPromoCd && "" != MainPromoCd && null != PromoCd && "" != PromoCd) {
            chk = true;
        }

        if (chk) {

                Loading(0);
                Loading();
                $.ajax({
                    url: '/RegisterBulkCorp/SearchOntopDisPkg',
                    data: { Accnt_cat: AccntCat, Tech_no: Techno, Promo_Cd: PromoCd, MainPromo_Cd: MainPromoCd },
                    dataType: "json",
                    async: false,
                    type: 'POST',
                    success: function (response) {
                        
                        if ([] != response && response[0].sff_promotion_code != null && response[0].sff_promotion_code != "") {
                            
                            $("#tdOntopDisPkg_sffpromocd").html(response[0].sff_promotion_code.toString());
                            $("#tdOntopDisPkg_pkgnameth").html(response[0].package_name_tha.toString());
                            $("#tdOntopDisPkg_sffpromobillth").html(response[0].sff_promotion_bill_tha.toString());
                            
                            $("#getOntopDisPkg_sffpromocd").val(response[0].sff_promotion_code);
                            $("#getOntopDisPkg_pkg_class").val(response[0].package_class);
                            $("#getOntopDisPkg_sffpromobillth").val(response[0].sff_promotion_bill_tha);
                            $("#getOntopDisPkg_sffpromobilleng").val(response[0].sff_promotion_bill_eng);
                            $("#getOntopDisPkg_pkgnameth").val(response[0].package_name_tha);
                            $("#getOntopDisPkg_pkgnameeng").val(response[0].package_name_eng);
                            $("#getOntopDisPkg_recur_charge").val(response[0].recurring_charge);
                            $("#getOntopDisPkg_pre_init_charge").val(response[0].pre_initiation_charge);
                            $("#getOntopDisPkg_init_charge").val(response[0].initiation_charge);
                            $("#getOntopDisPkg_down_speed").val(response[0].download_speed);
                            $("#getOntopDisPkg_up_speed").val(response[0].upload_speed);
                            $("#getOntopDisPkg_product_type").val(response[0].product_type);
                            $("#getOntopDisPkg_owner_product").val(response[0].owner_product);
                            $("#getOntopDisPkg_product_subtype").val(response[0].product_subtype);
                            $("#getOntopDisPkg_product_subtype2").val(response[0].product_subtype2);
                            $("#getOntopDisPkg_tech").val(response[0].technology);
                            $("#getOntopDisPkg_pkg_grp").val(response[0].package_group);
                            $("#getOntopDisPkg_pkg_cd").val(response[0].package_code);
                            $("#getOntopDisPkg_network_type").val(response[0].network_type);
                            $("#getOntopDisPkg_cust_type").val(response[0].customer_type);

                        }
                        else {
                            $("#validatefor-txtmodalOntopDispkgsffpromoCD").html("DATA NOT FOUND");
                        }

                        Loading(0);

                    },
                    error: function (msg) {

                        $("#modalMainPkg").modal('hide');
                        $('#modalretPkgError').modal();
                        window.scrollTo(0, 0);
                        Loading(0);
                    }

                });

            }
            else {
                $("#modalMainPkg").modal('hide');
                $('#modalretPkgError').modal();
                window.scrollTo(0, 0);
                Loading(0);
            }

    }

    function CheckKeyUpMobileNo(id) {
        var strKey = $("#" + id).val();
        var strBuilder = "";
        var filter = new RegExp("[0]");
        for (var i = 0; i < strKey.length; i++) {
            if (i < 1) {
                if (filter.test(strKey.substr(i, 1))) {
                    strBuilder += strKey.substr(i, 1);
                }
            } else {
                strBuilder += strKey.substr(i, 1);
            }
        }
        $("#" + id).val(strBuilder);
    }

    function SetValidateLength(validateLengthModel) {
        var i = 0;
        for (i = 0; i < validateLengthModel.length; i++) {
            var id = validateLengthModel[i].id;
            var length = validateLengthModel[i].length;
            if (length !== undefined) {
                $("#validatefor-" + id).addClass("i-validate-length i-length-" + length);
            }
        }
    }

    function RemoveRequired(panel) {
        $("#" + panel + " span[id*=requiredfor-]").removeClass("label label-danger i-gap-left-md i-required");
        $("#" + panel + " span[id*=requiredfor-]").text("");
        ClearTextValidation(panel);
    }

    function ClearTextValidation(panel) {
        $("#" + panel + " .i-required").each(function (index, e) {
            var field = e.id.split('requiredfor-')[1];
            $("#validatefor-" + field).text("");
        });
    }

    function onExcelUpload(e) {

        var Bulk_No = "";
        var cateType = "";
        var cardNo = "";
        var cardType = "";
        var MobileNo = "";
        
        var EventPage = $("#BulkEventPage").val();
        if (EventPage == "NewCustomer") {
            Bulk_No = $("#getBulkNumber").val();
            cateType = $("#ddlinfoAccCat").val(); 
            cardNo = $("#txtinfoL_CARD_NOs").val();
            cardType = $("#ddlinfoIDtype").val(); 
            register_dv = $("#Register_device").val();
            MobileNo = $("#txtinfoCAmmobile").val();
        }
        else {
            Bulk_No = $("#getBulkNumberExist").val();
            cateType = $("#getAccountCatExist").val();
            cardType = $("#getIDCardType").val();
            cardNo = $("#getIDCardNo").val();
            register_dv = "WEB BROWSER";
            MobileNo = $("#getMobileNo").val();
        }

        e.data = {
            cateType: cateType, cardNo: cardNo,
            cardType: cardType, register_dv: register_dv,
            MobileNumber: MobileNo, Bulk_No: Bulk_No
            };

    }

    function GoToRegisPkg(EventPage) {

        if (EventPage == "NewCustomer") {

            $('#registerinfo2').hide();
            $('#registersum').hide();

            /*Set Tabstrip toggle activetab*/
            tabStripn = $("#tabstripnew").data("kendoTabStrip");
            var tabbn = tabStripn.select();
            tabStripn.enable(tabbn, tabbn.hasClass("k-state-disabled"));

            var tabToActivate = $("#tabnew2");
            $("#tabstripnew").kendoTabStrip().data("kendoTabStrip").activateTab(tabToActivate);
            $("#tabnew2").removeClass("k-state-disabled");
            $("#tabnew1").removeClass("k-state-default");
            $('#registerpkg').show();
        }
        else if (EventPage == "Existing") {

            /*Set Tabstrip toggle activetab*/
            tabStripEx = $("#tabstripexist").data("kendoTabStrip");
            var tabbex = tabStripEx.select();
            tabStripEx.enable(tabbex, tabbex.hasClass("k-state-disabled"));

            var tabToActivate = $("#tabexist2");
            $("#tabstripexist").kendoTabStrip().data("kendoTabStrip").activateTab(tabToActivate);
            $("#tabexist2").removeClass("k-state-disabled");
            $("#tabexist1").removeClass("k-state-default");
            $('#registerpkg').show();
        }

    }

    function GetPackageData(EventPage) {

        var AccntCat = "";

        if (EventPage == "NewCustomer") {
            AccntCat = $('#getAccountCat').val();

        }
        else if (EventPage == "Existing")
        {
            AccntCat = $('#getAccountCatExist').val();
        }

        if (null != AccntCat || "" != AccntCat) {

            $.ajax({
                url: '/RegisterBulkCorp/SelectOntopPackage1',
                data: { Accnt_cat: AccntCat },
                dataType: "json",
                async: false,
                type: 'POST',
                success: function (dataOntop1) {
   
                    if ([] != dataOntop1) {
                    $("#getOntopPkg1_sffpromocd").val(dataOntop1[0].sff_promotion_code);
                    $("#getOntopPkg1_pkg_class").val(dataOntop1[0].package_class);
                    $("#getOntopPkg1_sffpromobillth").val(dataOntop1[0].sff_promotion_bill_tha);
                    $("#getOntopPkg1_sffpromobilleng").val(dataOntop1[0].sff_promotion_bill_eng);
                    $("#getOntopPkg1_pkgnameth").val(dataOntop1[0].package_name_tha);
                    $("#getOntopPkg1_pkgnameeng").val(dataOntop1[0].package_name_eng);
                    $("#getOntopPkg1_recur_charge").val(dataOntop1[0].recurring_charge);
                    $("#getOntopPkg1_pre_init_charge").val(dataOntop1[0].pre_initiation_charge);
                    $("#getOntopPkg1_init_charge").val(dataOntop1[0].initiation_charge);
                    $("#getOntopPkg1_down_speed").val(dataOntop1[0].download_speed);
                    $("#getOntopPkg1_up_speed").val(dataOntop1[0].upload_speed);
                    $("#getOntopPkg1_product_type").val(dataOntop1[0].product_type);
                    $("#getOntopPkg1_owner_product").val(dataOntop1[0].owner_product);
                    $("#getOntopPkg1_product_subtype").val(dataOntop1[0].product_subtype);
                    $("#getOntopPkg1_product_subtype2").val(dataOntop1[0].product_subtype2);
                    $("#getOntopPkg1_tech").val(dataOntop1[0].technology);
                    $("#getOntopPkg1_pkg_grp").val(dataOntop1[0].package_group);
                    $("#getOntopPkg1_pkg_cd").val(dataOntop1[0].package_code);
                    $("#getOntopPkg1_cust_type").val(dataOntop1[0].customer_type);
                    }
                    
                },
                failure: function (msg) {
                   
                }
            });

            $.ajax({
                url: '/RegisterBulkCorp/SelectOntopPackage2',
                data: { Accnt_cat: AccntCat },
                dataType: "json",
                async: false,
                type: 'POST',
                success: function (dataOntop2) {

                    if ([] != dataOntop2) {

                        $("#getOntopPkg2_sffpromocd").val(dataOntop2[0].sff_promotion_code);
                        $("#getOntopPkg2_pkg_class").val(dataOntop2[0].package_class);
                        $("#getOntopPkg2_sffpromobillth").val(dataOntop2[0].sff_promotion_bill_tha);
                        $("#getOntopPkg2_sffpromobilleng").val(dataOntop2[0].sff_promotion_bill_eng);
                        $("#getOntopPkg2_pkgnameth").val(dataOntop2[0].package_name_tha);
                        $("#getOntopPkg2_pkgnameeng").val(dataOntop2[0].package_name_eng);
                        $("#getOntopPkg2_recur_charge").val(dataOntop2[0].recurring_charge);
                        $("#getOntopPkg2_pre_init_charge").val(dataOntop2[0].pre_initiation_charge);
                        $("#getOntopPkg2_init_charge").val(dataOntop2[0].initiation_charge);
                        $("#getOntopPkg2_down_speed").val(dataOntop2[0].download_speed);
                        $("#getOntopPkg2_up_speed").val(dataOntop2[0].upload_speed);
                        $("#getOntopPkg2_product_type").val(dataOntop2[0].product_type);
                        $("#getOntopPkg2_owner_product").val(dataOntop2[0].owner_product);
                        $("#getOntopPkg2_product_subtype").val(dataOntop2[0].product_subtype);
                        $("#getOntopPkg2_product_subtype2").val(dataOntop2[0].product_subtype2);
                        $("#getOntopPkg2_tech").val(dataOntop2[0].technology);
                        $("#getOntopPkg2_pkg_grp").val(dataOntop2[0].package_group);
                        $("#getOntopPkg2_pkg_cd").val(dataOntop2[0].package_code);
                        $("#getOntopPkg2_cust_type").val(dataOntop2[0].customer_type);

                    } 
                    
                },
                failure: function (msgdataOntop2) {
                }
            });

            $.ajax({
                url: '/RegisterBulkCorp/SelectServicePackage1',
                data: { Accnt_cat: AccntCat },
                dataType: "json",
                async: false,
                type: 'POST',
                success: function (dataService1) {

                    if (null != dataService1) {

                        $("#getServicePkg1_servicecd").val(dataService1[0].service_code);
                        $("#getServicePkg1_productname").val(dataService1[0].product_name);

                    } 
                },
                error: function (msg) {
                    
                }
            });

            $.ajax({
                url: '/RegisterBulkCorp/SelectServicePackage2',
                data: { Accnt_cat: AccntCat },
                dataType: "json",
                async: false,
                type: 'POST',
                success: function (dataService2) {

                    if (null != dataService2) {

                        $("#getServicePkg2_servicecd").val(dataService2[0].service_code);
                        $("#getServicePkg2_productname").val(dataService2[0].product_name);

                    } 
                },
                error: function (msg) {
                    
                }
            });

            $.ajax({
                url: '/RegisterBulkCorp/SelectServicePackage3',
                data: { Accnt_cat: AccntCat },
                dataType: "json",
                async: false,
                type: 'POST',
                success: function (dataService3) {

                    if (null != dataService3) {

                        $("#getServicePkg3_servicecd").val(dataService3[0].service_code);
                        $("#getServicePkg3_productname").val(dataService3[0].product_name);

                    }
                },
                error: function (msg) {

                }
            });

        }
    }

    function _closePkgErrorModal() {
        $("#modalretPkgError").modal('hide');
    }

    function _closePkgErrorAddrID() {
        $("#modalretPkgErrorAddrID").modal('hide');
    }

    function _closeModalErrorPkg() {
        $("#Modal-Error-Pkg").modal('hide');
    }

    function GoToDocSum(EventPage) {
        var BulkNo = "";
        if (EventPage == "NewCustomer")
        {
            BulkNo = $("#getBulkNumber").val();
            $('#registerinfo2').hide();
            $('#registersum').hide();
            $('#registerpkg').hide();

            /*Set Tabstrip toggle activetab*/
            tabStripn = $("#tabstripnew").data("kendoTabStrip");
            var tabbn = tabStripn.select();
            tabStripn.enable(tabbn, tabbn.hasClass("k-state-disabled"));


            var tabToActivate = $("#tabnew3");
            $("#tabstripnew").kendoTabStrip().data("kendoTabStrip").activateTab(tabToActivate);
            $("#tabnew2").removeClass("k-state-default k-tab-on-top");
            $("#tabnew3").removeClass("k-state-disabled").addClass("k-state-active k-tab-on-top");
        
            $("#regisconfirm").show();

            $("#ListImageName").find("input").each(function () {

                $.ajax({
                    type: "GET",
                    url: "/RegisterBulkCorp/SaveImageFilenametoStore",
                    data: { 'FileName': $(this).val(), BulkNo: BulkNo },
                    dataType: "json",
                    success: function (dataarr) {

                    }

                });
            });

        }
        else if (EventPage = "Existing")
        {
            $('#searchbulkcorp').hide();
            $('#registerpkg').hide();

            /*Set Tabstrip toggle activetab*/
            tabStripn = $("#tabstripexist").data("kendoTabStrip");
            var tabbn = tabStripn.select();
            tabStripn.enable(tabbn, tabbn.hasClass("k-state-disabled"));


            var tabToActivate = $("#tabexist3");
            $("#tabstripexist").kendoTabStrip().data("kendoTabStrip").activateTab(tabToActivate);
            $("#tabexist2").removeClass("k-state-default k-tab-on-top");
            $("#tabexist3").removeClass("k-state-disabled").addClass("k-state-active k-tab-on-top");

            $("#regisconfirm").show();

        }
       
    }

    function pkgProductNameOnChange() {
        var EventPage = $("#BulkEventPage").val();
        var AccntCate = "";
        if (EventPage == "NewCustomer") {
            AccntCate = $('#getAccountCat').val();
        }
        else if (EventPage == "Existing")
        {
            AccntCate = $('#getAccountCatExist').val();
        }

        //var Pkgname = $('#ddlpkgPackName').data('kendoDropDownList').value();
        var Pkgname = $('#txtpkgPackName').val();
        $('#txtpkgsffbillth').val("");
        $("#txtpkgsffpromoCD").val("");

        $.ajax({
            type: "GET",
            url: "/RegisterBulkCorp/GetMainPackageSffPromoCd",
            data: { 'Accnt_cat': AccntCate, 'Pkgname': Pkgname },
            dataType: "json",
            async: false,
            success: function (datapromocd) {

                $("#txtpkgsffpromoCD").val(datapromocd[1].Text);
            }
        });

        var sffPromoCd = $("#txtpkgsffpromoCD").val();

        $.ajax({
            type: "GET",
            url: "/RegisterBulkCorp/GetDescriptMainPackage",
            data: { 'Accnt_cat': AccntCate, 'sffPromoCd': sffPromoCd, 'Pkgname': Pkgname },
            dataType: "json",
            async: false,
            success: function (datastr) {
                $('#txtpkgsffbillth').val(datastr[1].Text);
            }
        });

    } 

   
    ////// Check Date Validation //////
    function ValidationDateValue() {

        var chk = true;

        if (chk) //check blank value
        {

            if ($.trim($("#dptInstallDate").val()) == '') {
                $("#validatefor-" + "dptInstallDate").html(ValidationIcon() + "This field is required.");
                chk = false;
            }
            else {
                $("#validatefor-" + "dptInstallDate").html("");
            }
        }

        if (chk) //check format
        {
            
            if (!kendo.parseDate($("#dptInstallDate").val(), "dd/MM/yyyy")) {
                if ($("#dptInstallDate").val() != "") {
                    $("#validatefor-" + "dptInstallDate").html(ValidationIcon() + "This field is not correct format.");
                    chk = false;
                }
            }
            else {
                $("#validatefor-" + "dptInstallDate").html("");
            }
            
        }

        if (chk) //check Date From must be earlier than Date To
        {
            var today = new Date();
            var todayDate = kendo.toString(kendo.parseDate(today, 'MM/dd/yyyy'));
            var startPicker = new Date(kendo.parseDate(todayDate));
            var endPicker = $("#dptInstallDate").val();
            if (startPicker > endPicker) {
                if ($("#dptInstallDate").val() != "") {
                    $("#validatefor-" + "dptInstallDate").html(ValidationIcon() + "Date From must be earlier than Date To.");
                    chk = false;
                }
                else {
                    $("#validatefor-" + "dptInstallDate").html("");
                }
            }
        }

        return chk;
    }


    function bindingValue() {
        var model = defaultData();
        return {
            dataS: JSON.stringify(model)
        };
    }


    function ChangdtpDateFrom() {

        var endPicker = $("#dptInstallDate").data("kendoDatePicker"),
        startDate = this.value();

        if (startDate) {
            startDate = new Date(startDate);
            startDate.setDate(startDate.getDate());
            endPicker.max(startDate);
        }

    }

    function ChangdtpDateTo() {
       
        var today = new Date();
        var startPicker = kendo.toString(kendo.parseDate(today), 'MM/dd/yyyy'),
        endDate = this.value();

        if (endDate) {
            endDate = new Date(endDate);
            endDate.setDate(endDate.getDate());
           
        }

    }

    function chk_BrowserType() {
        if ((navigator.userAgent.indexOf("Opera") || navigator.userAgent.indexOf('OPR')) != -1) {
            $("#Browser_type").val('Opera');
        }
        else if (navigator.userAgent.indexOf("Chrome") != -1) {
            $("#Browser_type").val('Chrome');
        }
        else if (navigator.userAgent.indexOf("Safari") != -1) {
            $("#Browser_type").val('Safari');
        }
        else if (navigator.userAgent.indexOf("Firefox") != -1) {
            $("#Browser_type").val('Firefox');
        }
        else if ((navigator.userAgent.indexOf("MSIE") != -1) || (!!document.documentMode == true)) //IF IE > 10
        {
            $("#Browser_type").val('IE');
        }
        else {
            $("#Browser_type").val('unknown');
        }
    }

    function chk_RegisterDevice() {
        if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
            $("#Register_device").val("MOBILE WEB");
        }
        else {
            $("#Register_device").val("WEB BROWSER");
        }

        if (typeof aisNative != "undefined" && typeof aisNative != "" && typeof aisNative != null) {
            $("#Register_device").val("MOBILE APP");
            $("#Browser_type").val('');
        }
    }

    function get_browser_info() {
        var ua = navigator.userAgent, tem, M = ua.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i) || [];
        if (/trident/i.test(M[1])) {
            tem = /\brv[ :]+(\d+)/g.exec(ua) || [];
            return { name: 'IE', version: (tem[1] || '') };
        }
        if (M[1] === 'Chrome') {
            tem = ua.match(/\bOPR\/(\d+)/)
            if (tem != null) { return { name: 'Opera', version: tem[1] }; }
        }
        M = M[2] ? [M[1], M[2]] : [navigator.appName, navigator.appVersion, '-?'];
        if ((tem = ua.match(/version\/(\d+)/i)) != null) { M.splice(1, 1, tem[1]); }
        return {
            name: M[0],
            version: M[1]
        };
    }
    
    function onSelectUpload(e) {
        
        $(".k-upload-files.k-reset").find("li").remove();

        var grid = $("#PkgImportExcellist").data("kendoGrid");
        grid.dataSource.read();
    }

    function onSuccess(e) {
        
        if (e.response.status == undefined) {
        
            var grid = $("#PkgImportExcellist").data("kendoGrid");
            grid.dataSource.read();
            $("#SaveRegisterPkg").show();
            $("#importcancel").hide();
        }
        else {
            if (!e.response.status) {

                $(".k-upload-files.k-reset").find("li").remove();
                showFeedback("warning", e.response.message);
                $("#SaveRegisterPkg").hide();
                $("#importcancel").hide();
            }
           
        }
        
    }

    function onError(e) {
       
    }
    

    function _SaveRegisPkg() {

        var chk = false;
        var cchk = false;
        var datechk = false;
        var chkinputmobile = false;
        
        var PkgContactMobile = $('#txtpkgContactMobile').val();
        var PkgOfficePhone = $('#pkgOfficePhone').val();
        var tech_install = $('#ddlpkgTechInstall').val();
        var AddrID = $('#txtpkgAddrID').val();
        //var install_date = $('#dptInstallDate').val();
        var event_cd = $('#txtpkgEvntCD').val();
        var first_name = $('#txtpkgContactFirstN').val();
        var last_name = $('#txtpkgContactLastN').val();
        var phone = $('#txtpkgOfficePhone').val();
        var mobile = $('#txtpkgContactMobile').val();
        var email = $('#txtpkgEmail').val();
        //var Pkgname = $('#ddlpkgPackName').data('kendoDropDownList').value();
        var Pkgname = $('#txtpkgPackName').val();
        var sffPromoCd = $("#txtpkgsffpromoCD").val();

        //Check Validate Textbox
        CheckKeyUps('txtpkgAddrID', '@V_ADDRESS_ID');
        CheckKeyUps('txtpkgEvntCD', '@V_PACKAGE_CODE');
        CheckKeyUps('txtpkgContactFirstN', '@V_ACCOUNT_NAME');
        CheckKeyUps('txtpkgContactLastN', '@V_ACCOUNT_NAME');
        CheckKeyUps('txtpkgContactMobile', '@V_CA_MAIN_MOBILE');
        CheckKeyUpMobileNo('txtpkgContactMobile');
        CheckKeyUps('txtpkgOfficePhone', '@V_CA_PHONE');
        CheckKeyUpMobileNo('txtpkgOfficePhone');

        chkinputmobile = CheckValidateInputMobile('txtpkgContactMobile');

        //set variable
        var EventPage = $("#BulkEventPage").val();
        var AccntCate = "";
        var BulkNo = "";
        if (EventPage == "NewCustomer") {
            AccntCate = $('#getAccountCat').val();
            BulkNo = $('#getBulkNumber').val();
        }
        else if (EventPage == "Existing") {
            AccntCate = $('#getAccountCatExist').val();
            BulkNo = $('#getBulkNumberExist').val();
        }

        console.log("BulkNo: " + BulkNo);


        //datechk = ValidationDateValue();
        chk = ValidationProcessingRequired('bulkcorp_newInstallData');

        chklen = validateMobileNumberID('txtpkgContactMobile',mobile);
        chklen = validateMobileNumberID('txtpkgContactMobile', PkgContactMobile);
        cchk = ValidateUploadfile();

        //if (chk && datechk && chklen && cchk) {
        if (chk && chklen && cchk && chkinputmobile) {

            /*
            $.ajax({
                url: '/RegisterBulkCorp/SelectMainPackage',
                data: {
                    "Accnt_cat": AccntCate, "sffPromoCd": sffPromoCd //, "Pkgname": Pkgname
                },
                dataType: "json",
                async: false,
                type: 'POST',
                success: function (response) {

                    if ([] != response) {
                        $("#getMainPkg_sffpromocd").val(response[0].sff_promotion_code);
                        $("#getMainPkg_pkg_class").val(response[0].package_class);
                        $("#getMainPkg_sffpromobillth").val(response[0].sff_promotion_bill_tha);
                        $("#getMainPkg_sffpromobilleng").val(response[0].sff_promotion_bill_eng);
                        $("#getMainPkg_pkgnameth").val(response[0].package_name_tha);
                        $("#getMainPkg_pkgnameeng").val(response[0].package_name_eng);
                        $("#getMainPkg_recur_charge").val(response[0].recurring_charge);
                        $("#getMainPkg_pre_init_charge").val(response[0].pre_initiation_charge);
                        $("#getMainPkg_init_charge").val(response[0].initiation_charge);
                        $("#getMainPkg_down_speed").val(response[0].download_speed);
                        $("#getMainPkg_up_speed").val(response[0].upload_speed);
                        $("#getMainPkg_product_type").val(response[0].product_type);
                        $("#getMainPkg_owner_product").val(response[0].owner_product);
                        $("#getMainPkg_product_subtype").val(response[0].product_subtype);
                        $("#getMainPkg_product_subtype2").val(response[0].product_subtype2);
                        $("#getMainPkg_tech").val(response[0].technology);
                        $("#getMainPkg_pkg_grp").val(response[0].package_group);
                        $("#getMainPkg_pkg_cd").val(response[0].package_code);
                        $("#getMainPkg_network_type").val(response[0].network_type);
                        $("#getMainPkg_cust_type").val(response[0].customer_type);
                    }
                    else {
                        Loading(0);
                        $('#modalretPkgError').modal();
                    }
                },
                error: function (msg) {
                    Loading(0);
                    $('#modalretPkgError').modal();
                }
            });
            */

            $.ajax({
                url: '/RegisterBulkCorp/GetAddressIDRegisterBulkCorp',
                data: { Addr_ID: $("#txtpkgAddrID").val(), Event_CD: $("#txtpkgEvntCD").val() },
                dataType: "json",
                async: false,
                type: 'POST',
                success: function (dataAddr) {
                    console.log("dataAddr ", dataAddr);
                    if (null != dataAddr && dataAddr.output_return_code != "-1" && dataAddr.output_return_code != "" && dataAddr.output_return_code == "0") {

                        if (null != $("#getMainPkg_sffpromocd").val() || "" != $("#getMainPkg_sffpromocd").val()) {
                        
                            var MainPkg_sffpromocd = $("#getMainPkg_sffpromocd").val();
                            var MainPkg_pkg_class = $("#getMainPkg_pkg_class").val();
                            var MainPkg_sffpromobillth = $("#getMainPkg_sffpromobillth").val();
                            var MainPkg_sffpromobilleng = $("#getMainPkg_sffpromobilleng").val();
                            var MainPkg_pkgnameth = $("#getMainPkg_pkgnameth").val();
                            var MainPkg_pkgnameeng = $("#getMainPkg_pkgnameeng").val();
                            var MainPkg_recur_charge = $("#getMainPkg_recur_charge").val();
                            var MainPkg_pre_init_charge = $("#getMainPkg_pre_init_charge").val();
                            var MainPkg_init_charge = $("#getMainPkg_init_charge").val();
                            var MainPkg_down_speed = $("#getMainPkg_down_speed").val();
                            var MainPkg_up_speed = $("#getMainPkg_up_speed").val();
                            var MainPkg_product_type = $("#getMainPkg_product_type").val();
                            var MainPkg_owner_product = $("#getMainPkg_owner_product").val();
                            var MainPkg_product_subtype = $("#getMainPkg_product_subtype").val();
                            var MainPkg_product_subtype2 = $("#getMainPkg_product_subtype2").val();
                            var MainPkg_tech = $("#getMainPkg_tech").val();
                            var MainPkg_pkg_grp = $("#getMainPkg_pkg_grp").val();
                            var MainPkg_pkg_cd = $("#getMainPkg_pkg_cd").val();
                            var MainPkg_network_type = $("#getMainPkg_network_type").val();
                            var MainPkg_cust_type = $("#getMainPkg_cust_type").val();

                            var OntopPkg1_sffpromocd = $("#getOntopPkg1_sffpromocd").val();
                            var OntopPkg1_pkg_class = $("#getOntopPkg1_pkg_class").val();
                            var OntopPkg1_sffpromobillth = $("#getOntopPkg1_sffpromobillth").val();
                            var OntopPkg1_sffpromobilleng = $("#getOntopPkg1_sffpromobilleng").val();
                            var OntopPkg1_pkgnameth = $("#getOntopPkg1_pkgnameth").val();
                            var OntopPkg1_pkgnameeng = $("#getOntopPkg1_pkgnameeng").val();
                            var OntopPkg1_recur_charge = $("#getOntopPkg1_recur_charge").val();
                            var OntopPkg1_pre_init_charge = $("#getOntopPkg1_pre_init_charge").val();
                            var OntopPkg1_init_charge = $("#getOntopPkg1_init_charge").val();
                            var OntopPkg1_down_speed = $("#getOntopPkg1_down_speed").val();
                            var OntopPkg1_up_speed = $("#getOntopPkg1_up_speed").val();
                            var OntopPkg1_product_type = $("#getOntopPkg1_product_type").val();
                            var OntopPkg1_owner_product = $("#getOntopPkg1_owner_product").val();
                            var OntopPkg1_product_subtype = $("#getOntopPkg1_product_subtype").val();
                            var OntopPkg1_product_subtype2 = $("#getOntopPkg1_product_subtype2").val();
                            var OntopPkg1_tech = $("#getOntopPkg1_tech").val();
                            var OntopPkg1_pkg_grp = $("#getOntopPkg1_pkg_grp").val();
                            var OntopPkg1_pkg_cd = $("#getOntopPkg1_pkg_cd").val();
                            var OntopPkg1_cust_type = $("#getOntopPkg1_cust_type").val();

                            var OntopPkg2_sffpromocd = $("#getOntopPkg2_sffpromocd").val();
                            var OntopPkg2_pkg_class = $("#getOntopPkg2_pkg_class").val();
                            var OntopPkg2_sffpromobillth = $("#getOntopPkg2_sffpromobillth").val();
                            var OntopPkg2_sffpromobilleng = $("#getOntopPkg2_sffpromobilleng").val();
                            var OntopPkg2_pkgnameth = $("#getOntopPkg2_pkgnameth").val();
                            var OntopPkg2_pkgnameeng = $("#getOntopPkg2_pkgnameeng").val();
                            var OntopPkg2_recur_charge = $("#getOntopPkg2_recur_charge").val();
                            var OntopPkg2_pre_init_charge = $("#getOntopPkg2_pre_init_charge").val();
                            var OntopPkg2_init_charge = $("#getOntopPkg2_init_charge").val();
                            var OntopPkg2_down_speed = $("#getOntopPkg2_down_speed").val();
                            var OntopPkg2_up_speed = $("#getOntopPkg2_up_speed").val();
                            var OntopPkg2_product_type = $("#getOntopPkg2_product_type").val();
                            var OntopPkg2_owner_product = $("#getOntopPkg2_owner_product").val();
                            var OntopPkg2_product_subtype = $("#getOntopPkg2_product_subtype").val();
                            var OntopPkg2_product_subtype2 = $("#getOntopPkg2_product_subtype2").val();
                            var OntopPkg2_tech = $("#getOntopPkg2_tech").val();
                            var OntopPkg2_pkg_grp = $("#getOntopPkg2_pkg_grp").val();
                            var OntopPkg2_pkg_cd = $("#getOntopPkg2_pkg_cd").val();
                            var OntopPkg2_cust_type = $("#getOntopPkg2_cust_type").val();

                            var ServicePkg1_servicecd = $("#getServicePkg1_servicecd").val();
                            var ServicePkg1_productname = $("#getServicePkg1_productname").val();
                            var ServicePkg2_servicecd = $("#getServicePkg2_servicecd").val();
                            var ServicePkg2_productname = $("#getServicePkg2_productname").val();
                            var ServicePkg3_servicecd = $("#getServicePkg3_servicecd").val();
                            var ServicePkg3_productname = $("#getServicePkg3_productname").val();

                            var OntopDisPkg_sffpromocd = $("#getOntopDisPkg_sffpromocd").val();
                            var OntopDisPkg_pkg_class = $("#getOntopDisPkg_pkg_class").val();
                            var OntopDisPkg_sffpromobillth = $("#getOntopDisPkg_sffpromobillth").val();
                            var OntopDisPkg_sffpromobilleng = $("#getOntopDisPkg_sffpromobilleng").val();
                            var OntopDisPkg_pkgnameth = $("#getOntopDisPkg_pkgnameth").val();
                            var OntopDisPkg_pkgnameeng = $("#getOntopDisPkg_pkgnameeng").val();
                            var OntopDisPkg_recur_charge = $("#getOntopDisPkg_recur_charge").val();
                            var OntopDisPkg_pre_init_charge = $("#getOntopDisPkg_pre_init_charge").val();
                            var OntopDisPkg_init_charge = $("#getOntopDisPkg_init_charge").val();
                            var OntopDisPkg_down_speed = $("#getOntopDisPkg_down_speed").val();
                            var OntopDisPkg_up_speed = $("#getOntopDisPkg_up_speed").val();
                            var OntopDisPkg_product_type = $("#getOntopDisPkg_product_type").val();
                            var OntopDisPkg_owner_product = $("#getOntopDisPkg_owner_product").val();
                            var OntopDisPkg_product_subtype = $("#getOntopDisPkg_product_subtype").val();
                            var OntopDisPkg_product_subtype2 = $("#getOntopDisPkg_product_subtype2").val();
                            var OntopDisPkg_tech = $("#getOntopDisPkg_tech").val();
                            var OntopDisPkg_pkg_grp = $("#getOntopDisPkg_pkg_grp").val();
                            var OntopDisPkg_pkg_cd = $("#getOntopDisPkg_pkg_cd").val();
                            var OntopDisPkg_network_type = $("#getOntopDisPkg_network_type").val();
                            var OntopDisPkg_cust_type = $("#getOntopDisPkg_cust_type").val();

                            Loading(0);
                            Loading();

                            $.ajax({
                                url: '/RegisterBulkCorp/SaveRegisterPkg',
                                data: {
                                    "tech_install": tech_install, "address_id": AddrID, /*"install_date": install_date,*/ "event_code": event_cd,
                                    "first_name": first_name, "last_name": last_name, "phone": phone, "mobile": mobile, "email": email,
                                    "MainPkg_sffpromocd": MainPkg_sffpromocd, "MainPkg_pkg_class": MainPkg_pkg_class, "MainPkg_sffpromobillth": MainPkg_sffpromobillth,
                                    "MainPkg_sffpromobilleng": MainPkg_sffpromobilleng, "MainPkg_pkgnameth": MainPkg_pkgnameth, "MainPkg_pkgnameeng": MainPkg_pkgnameeng,
                                    "MainPkg_recur_charge": MainPkg_recur_charge, "MainPkg_pre_init_charge": MainPkg_pre_init_charge, "MainPkg_init_charge": MainPkg_init_charge,
                                    "MainPkg_down_speed": MainPkg_down_speed, "MainPkg_up_speed": MainPkg_up_speed, "MainPkg_product_type": MainPkg_product_type,
                                    "MainPkg_owner_product": MainPkg_owner_product, "MainPkg_product_subtype": MainPkg_product_subtype,
                                    "MainPkg_product_subtype2": MainPkg_product_subtype2, "MainPkg_tech": MainPkg_tech, "MainPkg_pkg_grp": MainPkg_pkg_grp,
                                    "MainPkg_pkg_cd": MainPkg_pkg_cd, "MainPkg_network_type": MainPkg_network_type, "MainPkg_cust_type": MainPkg_cust_type,

                                    "OntopPkg1_sffpromocd": OntopPkg1_sffpromocd, "OntopPkg1_pkg_class": OntopPkg1_pkg_class, "OntopPkg1_sffpromobillth": OntopPkg1_sffpromobillth,
                                    "OntopPkg1_sffpromobilleng": OntopPkg1_sffpromobilleng, "OntopPkg1_pkgnameth": OntopPkg1_pkgnameth, "OntopPkg1_pkgnameeng": OntopPkg1_pkgnameeng,
                                    "OntopPkg1_recur_charge": OntopPkg1_recur_charge, "OntopPkg1_pre_init_charge": OntopPkg1_pre_init_charge, "OntopPkg1_init_charge": OntopPkg1_init_charge,
                                    "OntopPkg1_down_speed": OntopPkg1_down_speed, "OntopPkg1_up_speed": OntopPkg1_up_speed, "OntopPkg1_product_type": OntopPkg1_product_type,
                                    "OntopPkg1_owner_product": OntopPkg1_owner_product, "OntopPkg1_product_subtype": OntopPkg1_product_subtype,
                                    "OntopPkg1_product_subtype2": OntopPkg1_product_subtype2, "OntopPkg1_tech": OntopPkg1_tech,
                                    "OntopPkg1_pkg_grp": OntopPkg1_pkg_grp, "OntopPkg1_pkg_cd": OntopPkg1_pkg_cd, "OntopPkg1_cust_type": OntopPkg1_cust_type,

                                    "OntopPkg2_sffpromocd": OntopPkg2_sffpromocd, "OntopPkg2_pkg_class": OntopPkg2_pkg_class, "OntopPkg2_sffpromobillth": OntopPkg2_sffpromobillth,
                                    "OntopPkg2_sffpromobilleng": OntopPkg2_sffpromobilleng, "OntopPkg2_pkgnameth": OntopPkg2_pkgnameth, "OntopPkg2_pkgnameeng": OntopPkg2_pkgnameeng,
                                    "OntopPkg2_recur_charge": OntopPkg2_recur_charge, "OntopPkg2_pre_init_charge": OntopPkg2_pre_init_charge, "OntopPkg2_init_charge": OntopPkg2_init_charge,
                                    "OntopPkg2_down_speed": OntopPkg2_down_speed, "OntopPkg2_up_speed": OntopPkg2_up_speed, "OntopPkg2_product_type": OntopPkg2_product_type,
                                    "OntopPkg2_owner_product": OntopPkg2_owner_product, "OntopPkg2_product_subtype": OntopPkg2_product_subtype,
                                    "OntopPkg2_product_subtype2": OntopPkg2_product_subtype2, "OntopPkg2_tech": OntopPkg2_tech,
                                    "OntopPkg2_pkg_grp": OntopPkg2_pkg_grp, "OntopPkg2_pkg_cd": OntopPkg2_pkg_cd, "OntopPkg2_cust_type": OntopPkg2_cust_type,

                                    "ServicePkg1_servicecd": ServicePkg1_servicecd, "ServicePkg1_productname": ServicePkg1_productname,
                                    "ServicePkg2_servicecd": ServicePkg2_servicecd, "ServicePkg2_productname": ServicePkg2_productname,
                                    "ServicePkg3_servicecd": ServicePkg3_servicecd, "ServicePkg3_productname": ServicePkg3_productname,//new
                                    "BulkNo": BulkNo,

                                    "OntopDisPkg_sffpromocd": OntopDisPkg_sffpromocd, "OntopDisPkg_pkg_class": OntopDisPkg_pkg_class, "OntopDisPkg_sffpromobillth": OntopDisPkg_sffpromobillth,
                                    "OntopDisPkg_sffpromobilleng": OntopDisPkg_sffpromobilleng, "OntopDisPkg_pkgnameth": OntopDisPkg_pkgnameth, "OntopDisPkg_pkgnameeng": OntopDisPkg_pkgnameeng,
                                    "OntopDisPkg_recur_charge": OntopDisPkg_recur_charge, "OntopDisPkg_pre_init_charge": OntopDisPkg_pre_init_charge, "OntopDisPkg_init_charge": OntopDisPkg_init_charge,
                                    "OntopDisPkg_down_speed": OntopDisPkg_down_speed, "OntopDisPkg_up_speed": OntopDisPkg_up_speed, "OntopDisPkg_product_type": OntopDisPkg_product_type,
                                    "OntopDisPkg_owner_product": OntopDisPkg_owner_product, "OntopDisPkg_product_subtype": OntopDisPkg_product_subtype,
                                    "OntopDisPkg_product_subtype2": OntopDisPkg_product_subtype2, "OntopDisPkg_tech": OntopDisPkg_tech, "OntopDisPkg_pkg_grp": OntopDisPkg_pkg_grp,
                                    "OntopDisPkg_pkg_cd": OntopDisPkg_pkg_cd, "OntopDisPkg_network_type": OntopDisPkg_network_type, "OntopDisPkg_cust_type": OntopDisPkg_cust_type,
                                },
                                dataType: "json",
                                async: false,
                                type: 'POST',
                                success: function (response) {

                                    if ([] != response) {
                            
                                        if ((null != response[0].output_bulk_no && "" != response[0].output_bulk_no && "undefined" != response[0].output_bulk_no) ||
                                            (response[0].output_return_code != "-1" && null != response[0].output_return_code && "" != response[0].output_return_code)) {

                                            $.ajax({
                                                url: '/RegisterBulkCorp/DocSummaryPkg',
                                                data: { "BulkNo": response[0].output_bulk_no },
                                                dataType: "json",
                                                async: false,
                                                type: 'POST',
                                                success: function (returndoc) {

                                                    if (([] != returndoc && null != returndoc.output_bulk_no && "" != returndoc.output_bulk_no) ||
                                                        (returndoc.output_return_code != "-1" && returndoc.output_return_code != "" && null != returndoc.output_return_code)
                                                        ) {

                                                        var EventPage = $("#BulkEventPage").val();
                                                        GoToDocSum(EventPage);

                                                        Loading(0);

                                                        $("#txtfor_L_MAIN_PACKAGE").html(returndoc.NewDocSumList[0].p_package_main_name);
                                                        $("#lbfor_SUMM_DETAIL16").html(returndoc.NewDocSumList[0].p_package_main_name);
                                                        $("#lbfor_SUMM_DETAIL7").html(returndoc.NewDocSumList[0].p_install_charge);
                                                        $("#lbfor_SUMM_DETAIL10").html(returndoc.NewDocSumList[0].p_discount_charge);
                                                        $("#lbfor_SUMM_DETAIL17").html(returndoc.NewDocSumList[0].p_package_charge);
                                                        $("#lbfor_SUMM_DETAIL20").html(returndoc.NewDocSumList[0].p_charge);
                                                        $("#lbfor_SUMM_DETAIL25").html(returndoc.NewDocSumList[0].p_charge_by_one);
                                                        $("#lbfor_SUMM_DETAIL28").html(returndoc.NewDocSumList[0].p_summary_charge);
                                                    }

                                                    else {

                                                        $('#modalretPkgError').modal();
                                                        window.scrollTo(0, 0);
                                                        Loading(0);
                                                    }

                                                }, error: function (data) {
                                                    $('#modalretPkgError').modal();
                                                    Loading(0);
                                                }
                                            });

                                        }

                                    }

                                    else {
                                        $('#modalretPkgError').modal();
                                        window.scrollTo(0, 0);
                                        Loading(0);
                                    }

                                },
                                error: function (msg) {
                                    $('#modalretPkgError').modal();
                                    window.scrollTo(0, 0);
                                    Loading(0);
                                }
                            });


                        }

                        else {
                            $('#modalretPkgError').modal();
                            window.scrollTo(0, 0);
                            Loading(0);
                        }

                    }
                    else if (dataAddr.output_return_code == "-1")
                    {
                        $('#PkgErrorAddrID', $('#modalretPkgErrorAddrID')).html(dataAddr.output_return_message);
                        $('#modalretPkgErrorAddrID').modal();
                        window.scrollTo(0, 0);
                        Loading(0);
                    }
                
                    else
                    {
                        $('#modalretPkgError').modal();
                        window.scrollTo(0, 0);
                        Loading(0);
                    }
                

                },
                error: function (dataAddr) {
                    $('#modalretPkgError').modal();
                    window.scrollTo(0, 0);
                    Loading(0);
                }

            });

        }
        else
        {
            $('#modalretPkgError').modal();
            window.scrollTo(0, 0);
            Loading(0);

        }
        
    }


    function ValidateUploadfile() {
        var cchk = false;
        if ($("#files").closest(".k-upload").find(".k-file").length > 0) {
            $("#validatefor-" + "files").html("");
            return cchk = true;
        }
        else {
            $("#validatefor-" + "files").html(ValidationIcon() + "Please upload excel file.");
            return cchk = false;
        }
    }

    function CheckValidateInputMobile(id) {
        var txtid = "#" + id;
        var cchk = false;
        $.ajax({
            url: '/CustomerRegister/CheckInputMobileList',
            data: {
                lMobile: $(txtid).val()
            },
            dataType: 'json',
            async: false,
            type: 'POST',
            success: function (data) {
                if (data) {
                    $("#validatefor-" + id).html("This Mobile Number is invalid.");
                    $(txtid).val("");
                    cchk = false;
                }
                else {
                    cchk = true;
                }
            }
        });
        return cchk;
    }//End Function

    function CheckKeyUps(id, RexStr) {
        var strKey = $("#" + id).val();
        var strBuilder = "";
        var filter = new RegExp(RexStr);
        for (var i = 0; i < strKey.length; i++) {
            if (filter.test(strKey.substr(i, 1))) {
                strBuilder += strKey.substr(i, 1);
            }
        }
        $("#" + id).val(strBuilder);
    }


    function ValidationProcessingRequired(panel) {
        var cchk = true;
        $("#" + panel + " .i-required").each(function (index, e) {
            var field = e.id.split('requiredfor-')[1];
            var value = $("#" + field).val();
            if ($.trim(value) == "") {
                $("#validatefor-" + field).html(ValidationIcon() + "This field is required.");
                cchk = false;
            }
            else {
                $("#validatefor-" + field).html("");
            }
        });

        if (cchk) {
            $("#" + panel + " .i-validate-length").each(function (index, e) {
                var field = e.id.split('validatefor-')[1];
                var value = $("#" + field).val();
                var length = parseInt(e.className.split('i-length-')[1]);
                var val_length = 0;
                if (value != "") {
                    val_length = value.length;
                }

                if (val_length > length) {
                    $("#" + e.id).html(ValidationIcon() + "This maxlength field is " + length + ".");
                    cchk = false;
                }
                else {
                    $("#" + e.id).html("");
                }
            });
        } 

        return cchk;
    }


    function validateMobileNumberID(id,value) {

        var cchk = false;
        if (value.length < 10) {
            var iid = $("#" + id);
            $("#validatefor-" + id).html(ValidationIcon() + "Mobile Number is invalid.");

            return cchk = false;
        }
        else {
            return cchk = true;
        }
    }

    function validateIDNumberWithid(id, value) {

        var cchk = false;
        if (value.length < 13) {
            $("#validatefor-" + id).html(ValidationIcon() + "ID Card is invalid.");
            return cchk = false;
        }
        else {
            return cchk = true;
        }
    }
    

    function onChangeProgress(e) {
        
    }

    function onCompleteProgress(e) {
        $('#PopupProgressBarExcel').hide();
    }

    function progressShow() {
        var pb = $("#progressBarExcel").data("kendoProgressBar");
        pb.value(0);

        var interval = setInterval(function () {
            if (pb.value() < 100) {
                pb.value(pb.value() + 1);
            } else {
                clearInterval(interval);
            }
        }, 100);
    }



</script>