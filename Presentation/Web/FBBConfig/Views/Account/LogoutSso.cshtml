@{
    Layout = null;
}

<!DOCTYPE html>
<html>

<head>
    <link rel="icon" href="~/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

    <title>Fixed Broadband Web Config</title>
	@Styles.Render("~/Content/css/fbbwc")
	@Styles.Render("~/Content/font-awesome-4.1.0")
	@Styles.Render("~/Content/styles/kendo")
    <link href="~/Content/font-awesome-4.1.0/css/font-awesome.min.css" rel="stylesheet" />
    <!-- Respond.js proxy on external server -->
	@*todo : deploy*@
	<link href="http://localhost:52112/respond-proxy.html" id="respond-proxy" rel="respond-proxy" />
	<link href="~/Scripts/respond.proxy.gif" id="respond-redirect" rel="respond-redirect" />

	@Scripts.Render("~/bundles/js/jquery")
	@*@Scripts.Render("~/bundles/js/jqueryval")*@
	@*@Scripts.Render("~/bundles/js/modernizr")*@
	@Scripts.Render("~/bundles/js/bootstrap")
	@Scripts.Render("~/bundles/js/fbbwc")

    <script src="~/Scripts/respond.js"></script>
	<script src="~/Scripts/respond.proxy.js"></script> 
    

	@Scripts.Render("~/bundles/js/kendo")
    @*<script type="text/javascript" src="@Url.Content("~/Scripts/jquery.signalR-1.1.2.min.js")"></script>
    <script src="@Url.Content("~/signalr/hubs")"></script>*@

</head>

<body id="logoutsso" style="background-color: white;">
    <script>
        $(function () {
            try {
                    @{
                        var html = "";

                        if (ViewBag.NormalLogOut == true && ViewBag.IsSSO == false)
                        {

                            html = string.Format(@"window.location.href = '{0}';", Url.Action("Login", "Account"));
                            //                            html = @"
                            //                                    bootbox.alert('Session TimeOut !', function() {" +
                            //                                    string.Format(@"window.location.href = '{0}';", Url.Action("Login", "Account")) +
                            //                                    @"});";
                        }
                        else if (ViewBag.NormalLogOut == true && ViewBag.IsSSO == true)
                        {
                            html = @"window.open('', '_self'); window.close();";
                        }
                        else
                        {
                            html = @"bootbox.alert('Session TimeOut !', function() {" +
                                    string.Format(@"window.location.href = '{0}';", Url.Action("Login", "Account")) +
                                    @"});";
                        }

                            //if (ViewBag.NormalLogOut == false)
                            //{
                            //    //@Html.Raw(@"alert('Session TimeOut'); window.open('', '_self'); window.close();");
                            //    //@Html.Raw(@"alert('Session TimeOut'); window.close();");
                            //}
                            //else
                            //{
                            //    if (ViewBag.IsSSO == true)
                            //    {
                            //        //@Html.Raw(@"alert('Session TimeOut'); window.close();");
                            //    }
                            //    else
                            //    {
                            //        //@Html.Raw(string.Format(@"window.location.href = '{0}';", Url.Action("Login", "Account")));
                            //    }
                            //}
                        @Html.Raw(html);
                    }
            } catch (err) {
                alert('Logout Error:  \n' + 'msg: ' + err.message + '\n' + 'desc: ' + err.description);
            }
        });
    </script>
</body>
</html>


