/*!
 * Mainnav version 0.1
 *
 * Modernizr v2.8.2
 * www.modernizr.com
 *
 * Copyright (c) Faruk Ates, Paul Irish, Alex Sexton
 * Available under the BSD and MIT licenses: www.modernizr.com/license/
 */
window.Modernizr=function(a,b,c){function d(a){t.cssText=a}function e(a,b){return d(x.join(a+";")+(b||""))}function f(a,b){return typeof a===b}function g(a,b){return!!~(""+a).indexOf(b)}function h(a,b){for(var d in a){var e=a[d];if(!g(e,"-")&&t[e]!==c)return"pfx"==b?e:!0}return!1}function i(a,b,d){for(var e in a){var g=b[a[e]];if(g!==c)return d===!1?a[e]:f(g,"function")?g.bind(d||b):g}return!1}function j(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+z.join(d+" ")+d).split(" ");return f(b,"string")||f(b,"undefined")?h(e,b):(e=(a+" "+A.join(d+" ")+d).split(" "),i(e,b,c))}function k(){o.input=function(c){for(var d=0,e=c.length;e>d;d++)E[c[d]]=!!(c[d]in u);return E.list&&(E.list=!(!b.createElement("datalist")||!a.HTMLDataListElement)),E}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),o.inputtypes=function(a){for(var d,e,f,g=0,h=a.length;h>g;g++)u.setAttribute("type",e=a[g]),d="text"!==u.type,d&&(u.value=v,u.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(e)&&u.style.WebkitAppearance!==c?(q.appendChild(u),f=b.defaultView,d=f.getComputedStyle&&"textfield"!==f.getComputedStyle(u,null).WebkitAppearance&&0!==u.offsetHeight,q.removeChild(u)):/^(search|tel)$/.test(e)||(d=/^(url|email)$/.test(e)?u.checkValidity&&u.checkValidity()===!1:u.value!=v)),D[a[g]]=!!d;return D}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var l,m,n="2.8.2",o={},p=!0,q=b.documentElement,r="modernizr",s=b.createElement(r),t=s.style,u=b.createElement("input"),v=":)",w={}.toString,x=" -webkit- -moz- -o- -ms- ".split(" "),y="Webkit Moz O ms",z=y.split(" "),A=y.toLowerCase().split(" "),B={svg:"http://www.w3.org/2000/svg"},C={},D={},E={},F=[],G=F.slice,H=function(a,c,d,e){var f,g,h,i,j=b.createElement("div"),k=b.body,l=k||b.createElement("body");if(parseInt(d,10))for(;d--;)h=b.createElement("div"),h.id=e?e[d]:r+(d+1),j.appendChild(h);return f=["&#173;",'<style id="s',r,'">',a,"</style>"].join(""),j.id=r,(k?j:l).innerHTML+=f,l.appendChild(j),k||(l.style.background="",l.style.overflow="hidden",i=q.style.overflow,q.style.overflow="hidden",q.appendChild(l)),g=c(j,a),k?j.parentNode.removeChild(j):(l.parentNode.removeChild(l),q.style.overflow=i),!!g},I=function(b){var c=a.matchMedia||a.msMatchMedia;if(c)return c(b)&&c(b).matches||!1;var d;return H("@media "+b+" { #"+r+" { position: absolute; } }",function(b){d="absolute"==(a.getComputedStyle?getComputedStyle(b,null):b.currentStyle).position}),d},J=function(){function a(a,e){e=e||b.createElement(d[a]||"div"),a="on"+a;var g=a in e;return g||(e.setAttribute||(e=b.createElement("div")),e.setAttribute&&e.removeAttribute&&(e.setAttribute(a,""),g=f(e[a],"function"),f(e[a],"undefined")||(e[a]=c),e.removeAttribute(a))),e=null,g}var d={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return a}(),K={}.hasOwnProperty;m=f(K,"undefined")||f(K.call,"undefined")?function(a,b){return b in a&&f(a.constructor.prototype[b],"undefined")}:function(a,b){return K.call(a,b)},Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var c=G.call(arguments,1),d=function(){if(this instanceof d){var e=function(){};e.prototype=b.prototype;var f=new e,g=b.apply(f,c.concat(G.call(arguments)));return Object(g)===g?g:f}return b.apply(a,c.concat(G.call(arguments)))};return d}),C.flexbox=function(){return j("flexWrap")},C.flexboxlegacy=function(){return j("boxDirection")},C.canvas=function(){var a=b.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))},C.canvastext=function(){return!(!o.canvas||!f(b.createElement("canvas").getContext("2d").fillText,"function"))},C.webgl=function(){return!!a.WebGLRenderingContext},C.touch=function(){var c;return"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:H(["@media (",x.join("touch-enabled),("),r,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(a){c=9===a.offsetTop}),c},C.geolocation=function(){return"geolocation"in navigator},C.postmessage=function(){return!!a.postMessage},C.websqldatabase=function(){return!!a.openDatabase},C.indexedDB=function(){return!!j("indexedDB",a)},C.hashchange=function(){return J("hashchange",a)&&(b.documentMode===c||b.documentMode>7)},C.history=function(){return!(!a.history||!history.pushState)},C.draganddrop=function(){var a=b.createElement("div");return"draggable"in a||"ondragstart"in a&&"ondrop"in a},C.websockets=function(){return"WebSocket"in a||"MozWebSocket"in a},C.rgba=function(){return d("background-color:rgba(150,255,150,.5)"),g(t.backgroundColor,"rgba")},C.hsla=function(){return d("background-color:hsla(120,40%,100%,.5)"),g(t.backgroundColor,"rgba")||g(t.backgroundColor,"hsla")},C.multiplebgs=function(){return d("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(t.background)},C.backgroundsize=function(){return j("backgroundSize")},C.borderimage=function(){return j("borderImage")},C.borderradius=function(){return j("borderRadius")},C.boxshadow=function(){return j("boxShadow")},C.textshadow=function(){return""===b.createElement("div").style.textShadow},C.opacity=function(){return e("opacity:.55"),/^0.55$/.test(t.opacity)},C.cssanimations=function(){return j("animationName")},C.csscolumns=function(){return j("columnCount")},C.cssgradients=function(){var a="background-image:",b="gradient(linear,left top,right bottom,from(#9f9),to(white));",c="linear-gradient(left top,#9f9, white);";return d((a+"-webkit- ".split(" ").join(b+a)+x.join(c+a)).slice(0,-a.length)),g(t.backgroundImage,"gradient")},C.cssreflections=function(){return j("boxReflect")},C.csstransforms=function(){return!!j("transform")},C.csstransforms3d=function(){var a=!!j("perspective");return a&&"webkitPerspective"in q.style&&H("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b){a=9===b.offsetLeft&&3===b.offsetHeight}),a},C.csstransitions=function(){return j("transition")},C.fontface=function(){var a;return H('@font-face {font-family:"font";src:url("https://")}',function(c,d){var e=b.getElementById("smodernizr"),f=e.sheet||e.styleSheet,g=f?f.cssRules&&f.cssRules[0]?f.cssRules[0].cssText:f.cssText||"":"";a=/src/i.test(g)&&0===g.indexOf(d.split(" ")[0])}),a},C.generatedcontent=function(){var a;return H(["#",r,"{font:0/0 a}#",r,':after{content:"',v,'";visibility:hidden;font:3px/1 a}'].join(""),function(b){a=b.offsetHeight>=3}),a},C.video=function(){var a=b.createElement("video"),c=!1;try{(c=!!a.canPlayType)&&(c=new Boolean(c),c.ogg=a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),c.h264=a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),c.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(d){}return c},C.audio=function(){var a=b.createElement("audio"),c=!1;try{(c=!!a.canPlayType)&&(c=new Boolean(c),c.ogg=a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),c.mp3=a.canPlayType("audio/mpeg;").replace(/^no$/,""),c.wav=a.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),c.m4a=(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(d){}return c},C.localstorage=function(){try{return localStorage.setItem(r,r),localStorage.removeItem(r),!0}catch(a){return!1}},C.sessionstorage=function(){try{return sessionStorage.setItem(r,r),sessionStorage.removeItem(r),!0}catch(a){return!1}},C.webworkers=function(){return!!a.Worker},C.applicationcache=function(){return!!a.applicationCache},C.svg=function(){return!!b.createElementNS&&!!b.createElementNS(B.svg,"svg").createSVGRect},C.inlinesvg=function(){var a=b.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==B.svg},C.smil=function(){return!!b.createElementNS&&/SVGAnimate/.test(w.call(b.createElementNS(B.svg,"animate")))},C.svgclippaths=function(){return!!b.createElementNS&&/SVGClipPath/.test(w.call(b.createElementNS(B.svg,"clipPath")))};for(var L in C)m(C,L)&&(l=L.toLowerCase(),o[l]=C[L](),F.push((o[l]?"":"no-")+l));return o.input||k(),o.addTest=function(a,b){if("object"==typeof a)for(var d in a)m(a,d)&&o.addTest(d,a[d]);else{if(a=a.toLowerCase(),o[a]!==c)return o;b="function"==typeof b?b():b,"undefined"!=typeof p&&p&&(q.className+=" "+(b?"":"no-")+a),o[a]=b}return o},d(""),s=u=null,function(a,b){function c(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function d(){var a=s.elements;return"string"==typeof a?a.split(" "):a}function e(a){var b=r[a[p]];return b||(b={},q++,a[p]=q,r[q]=b),b}function f(a,c,d){if(c||(c=b),k)return c.createElement(a);d||(d=e(c));var f;return f=d.cache[a]?d.cache[a].cloneNode():o.test(a)?(d.cache[a]=d.createElem(a)).cloneNode():d.createElem(a),!f.canHaveChildren||n.test(a)||f.tagUrn?f:d.frag.appendChild(f)}function g(a,c){if(a||(a=b),k)return a.createDocumentFragment();c=c||e(a);for(var f=c.frag.cloneNode(),g=0,h=d(),i=h.length;i>g;g++)f.createElement(h[g]);return f}function h(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return s.shivMethods?f(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+d().join().replace(/[\w\-]+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(s,b.frag)}function i(a){a||(a=b);var d=e(a);return!s.shivCSS||j||d.hasCSS||(d.hasCSS=!!c(a,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),k||h(a,d),a}var j,k,l="3.7.0",m=a.html5||{},n=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,o=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,p="_html5shiv",q=0,r={};!function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",j="hidden"in a,k=1==a.childNodes.length||function(){b.createElement("a");var a=b.createDocumentFragment();return"undefined"==typeof a.cloneNode||"undefined"==typeof a.createDocumentFragment||"undefined"==typeof a.createElement}()}catch(c){j=!0,k=!0}}();var s={elements:m.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:l,shivCSS:m.shivCSS!==!1,supportsUnknownElements:k,shivMethods:m.shivMethods!==!1,type:"default",shivDocument:i,createElement:f,createDocumentFragment:g};a.html5=s,i(b)}(this,b),o._version=n,o._prefixes=x,o._domPrefixes=A,o._cssomPrefixes=z,o.mq=I,o.hasEvent=J,o.testProp=function(a){return h([a])},o.testAllProps=j,o.testStyles=H,o.prefixed=function(a,b,c){return b?j(a,b,c):j(a,"pfx")},q.className=q.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(p?" js "+F.join(" "):""),o}(this,this.document);
/*! Detectizr v2.0.0 | (c) 2012 Baris Aydinoglu | Licensed MIT */
window.Detectizr=function(a,b,c,d){var e,f,g={},h=a.Modernizr,i=["tv","tablet","mobile","desktop"],j={addAllFeaturesAsClass:!1,detectDevice:!0,detectDeviceModel:!0,detectScreen:!0,detectOS:!0,detectBrowser:!0,detectPlugins:!0},k=[{name:"adobereader",substrs:["Adobe","Acrobat"],progIds:["AcroPDF.PDF","PDF.PDFCtrl.5"]},{name:"flash",substrs:["Shockwave Flash"],progIds:["ShockwaveFlash.ShockwaveFlash.1"]},{name:"wmplayer",substrs:["Windows Media"],progIds:["wmplayer.ocx"]},{name:"silverlight",substrs:["Silverlight"],progIds:["AgControl.AgControl"]},{name:"quicktime",substrs:["QuickTime"],progIds:["QuickTime.QuickTime"]}],l=/[\t\r\n]/g,m=c.documentElement;function n(a,b){var c,d,e;if(arguments.length>2)for(c=1,d=arguments.length;d>c;c+=1)n(a,arguments[c]);else for(e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);return a}function o(a){return g.browser.userAgent.indexOf(a)>-1}function p(a){return a.test(g.browser.userAgent)}function q(a){return a.exec(g.browser.userAgent)}function r(a){return a.replace(/^\s+|\s+$/g,"")}function s(a){return null===a||a===d?"":String(a).replace(/((\s|\-|\.)+[a-z0-9])/g,function(a){return a.toUpperCase().replace(/(\s|\-|\.)/g,"")})}function t(a,b){var c=b||"",d=1===a.nodeType&&(a.className?(" "+a.className+" ").replace(l," "):"");if(d){while(d.indexOf(" "+c+" ")>=0)d=d.replace(" "+c+" "," ");a.className=b?r(d):""}}function u(a,b,c){a&&(a=s(a),b&&(b=s(b),w(a+b,!0),c&&w(a+b+"_"+c,!0)))}function v(){a.clearTimeout(e),e=a.setTimeout(function(){f=g.device.orientation,g.device.orientation=a.innerHeight>a.innerWidth?"portrait":"landscape",w(g.device.orientation,!0),f!==g.device.orientation&&w(f,!1)},10)}function w(a,b){a&&h&&(j.addAllFeaturesAsClass?h.addTest(a,b):(b="function"==typeof b?b():b,b?h.addTest(a,!0):(delete h[a],t(m,a))))}function x(a,b){a.version=b;var c=b.split(".");c.length>0?(c=c.reverse(),a.major=c.pop(),c.length>0?(a.minor=c.pop(),c.length>0?(c=c.reverse(),a.patch=c.join(".")):a.patch="0"):a.minor="0"):a.major="0"}function y(d){var e,f,l,m,r,t,y,z,A=this;if(j=n({},j,d||{}),j.detectDevice){for(g.device={type:"",model:"",orientation:""},m=g.device,p(/googletv|smarttv|internet.tv|netcast|nettv|appletv|boxee|kylo|roku|dlnadoc|ce\-html/)?(m.type=i[0],m.model="smartTv"):p(/xbox|playstation.3|wii/)?(m.type=i[0],m.model="gameConsole"):p(/ip(a|ro)d/)?(m.type=i[1],m.model="ipad"):p(/tablet/)&&!p(/rx-34/)||p(/folio/)?(m.type=i[1],m.model=String(q(/playbook/)||"")):p(/linux/)&&p(/android/)&&!p(/fennec|mobi|htc.magic|htcX06ht|nexus.one|sc-02b|fone.945/)?(m.type=i[1],m.model="android"):p(/kindle/)||p(/mac.os/)&&p(/silk/)?(m.type=i[1],m.model="kindle"):p(/gt-p10|sc-01c|shw-m180s|sgh-t849|sch-i800|shw-m180l|sph-p100|sgh-i987|zt180|htc(.flyer|\_flyer)|sprint.atp51|viewpad7|pandigital(sprnova|nova)|ideos.s7|dell.streak.7|advent.vega|a101it|a70bht|mid7015|next2|nook/)||p(/mb511/)&&p(/rutem/)?(m.type=i[1],m.model="android"):p(/bb10/)?(m.type=i[1],m.model="blackberry"):(m.model=q(/iphone|ipod|android|blackberry|opera mini|opera mobi|skyfire|maemo|windows phone|palm|iemobile|symbian|symbianos|fennec|j2me/),null!==m.model?(m.type=i[2],m.model=String(m.model)):(m.model="",p(/bolt|fennec|iris|maemo|minimo|mobi|mowser|netfront|novarra|prism|rx-34|skyfire|tear|xv6875|xv6975|google.wireless.transcoder/)?m.type=i[2]:p(/opera/)&&p(/windows.nt.5/)&&p(/htc|xda|mini|vario|samsung\-gt\-i8000|samsung\-sgh\-i9/)?m.type=i[2]:p(/windows.(nt|xp|me|9)/)&&!p(/phone/)||p(/win(9|.9|nt)/)||p(/\(windows 8\)/)?m.type=i[3]:p(/macintosh|powerpc/)&&!p(/silk/)?(m.type=i[3],m.model="mac"):p(/linux/)&&p(/x11/)?m.type=i[3]:p(/solaris|sunos|bsd/)?m.type=i[3]:p(/bot|crawler|spider|yahoo|ia_archiver|covario-ids|findlinks|dataparksearch|larbin|mediapartners-google|ng-search|snappy|teoma|jeeves|tineye/)&&!p(/mobile/)?(m.type=i[3],m.model="crawler"):m.type=i[2])),e=0,f=i.length;f>e;e+=1)w(i[e],m.type===i[e]);j.detectDeviceModel&&w(s(m.model),!0)}if(j.detectScreen&&(h&&h.mq&&(w("smallScreen",h.mq("only screen and (max-width: 480px)")),w("verySmallScreen",h.mq("only screen and (max-width: 320px)")),w("veryVerySmallScreen",h.mq("only screen and (max-width: 240px)"))),m.type===i[1]||m.type===i[2]?(a.onresize=function(a){v(a)},v()):(m.orientation="landscape",w(m.orientation,!0))),j.detectOS&&(g.os={},r=g.os,""!==m.model&&("ipad"===m.model||"iphone"===m.model||"ipod"===m.model?(r.name="ios",x(r,(p(/os\s([\d_]+)/)?RegExp.$1:"").replace(/_/g,"."))):"android"===m.model?(r.name="android",x(r,p(/android\s([\d\.]+)/)?RegExp.$1:"")):"blackberry"===m.model?(r.name="blackberry",x(r,p(/version\/([^\s]+)/)?RegExp.$1:"")):"playbook"===m.model&&(r.name="blackberry",x(r,p(/os ([^\s]+)/)?RegExp.$1.replace(";",""):""))),r.name||(o("win")||o("16bit")?(r.name="windows",o("windows nt 6.3")?x(r,"8.1"):o("windows nt 6.2")||p(/\(windows 8\)/)?x(r,"8"):o("windows nt 6.1")?x(r,"7"):o("windows nt 6.0")?x(r,"vista"):o("windows nt 5.2")||o("windows nt 5.1")||o("windows xp")?x(r,"xp"):o("windows nt 5.0")||o("windows 2000")?x(r,"2k"):o("winnt")||o("windows nt")?x(r,"nt"):o("win98")||o("windows 98")?x(r,"98"):(o("win95")||o("windows 95"))&&x(r,"95")):o("mac")||o("darwin")?(r.name="mac os",o("68k")||o("68000")?x(r,"68k"):o("ppc")||o("powerpc")?x(r,"ppc"):o("os x")&&x(r,(p(/os\sx\s([\d_]+)/)?RegExp.$1:"os x").replace(/_/g,"."))):o("webtv")?r.name="webtv":o("x11")||o("inux")?r.name="linux":o("sunos")?r.name="sun":o("irix")?r.name="irix":o("freebsd")?r.name="freebsd":o("bsd")&&(r.name="bsd")),r.name&&(w(r.name,!0),r.major&&(u(r.name,r.major),r.minor&&u(r.name,r.major,r.minor))),r.addressRegisterSize=p(/\sx64|\sx86|\swin64|\swow64|\samd64/)?"64bit":"32bit",w(r.addressRegisterSize,!0)),j.detectBrowser&&(t=g.browser,p(/opera|webtv/)||!p(/msie\s([\d\w\.]+)/)&&!o("trident")?o("firefox")?(t.engine="gecko",t.name="firefox",x(t,p(/firefox\/([\d\w\.]+)/)?RegExp.$1:"")):o("gecko/")?t.engine="gecko":o("opera")?(t.name="opera",t.engine="presto",x(t,p(/version\/([\d\.]+)/)?RegExp.$1:p(/opera(\s|\/)([\d\.]+)/)?RegExp.$2:"")):o("konqueror")?t.name="konqueror":o("chrome")?(t.engine="webkit",t.name="chrome",x(t,p(/chrome\/([\d\.]+)/)?RegExp.$1:"")):o("iron")?(t.engine="webkit",t.name="iron"):o("crios")?(t.name="chrome",t.engine="webkit",x(t,p(/crios\/([\d\.]+)/)?RegExp.$1:"")):o("applewebkit/")?(t.name="safari",t.engine="webkit",x(t,p(/version\/([\d\.]+)/)?RegExp.$1:"")):o("mozilla/")&&(t.engine="gecko"):(t.engine="trident",t.name="ie",!a.addEventListener&&c.documentMode&&7===c.documentMode?x(t,"8.compat"):p(/trident.*rv[ :](\d+)\./)?x(t,RegExp.$1):x(t,p(/trident\/4\.0/)?"8":RegExp.$1)),t.name&&(w(t.name,!0),t.major&&(u(t.name,t.major),t.minor&&u(t.name,t.major,t.minor))),w(t.engine,!0),t.language=b.userLanguage||b.language,w(t.language,!0)),j.detectPlugins){for(t.plugins=[],A.detectPlugin=function(a){var c,d,e,g=b.plugins;for(f=g.length-1;f>=0;f--){for(c=g[f],d=c.name+c.description,e=0,l=a.length;l>=0;l--)-1!==d.indexOf(a[l])&&(e+=1);if(e===a.length)return!0}return!1},A.detectObject=function(a){for(f=a.length-1;f>=0;f--)try{new ActiveXObject(a[f])}catch(b){}return!1},e=k.length-1;e>=0;e--)y=k[e],z=!1,a.ActiveXObject?z=A.detectObject(y.progIds):b.plugins&&(z=A.detectPlugin(y.substrs)),z&&(t.plugins.push(y.name),w(y.name,!0));b.javaEnabled()&&(t.plugins.push("java"),w("java",!0))}}return g.detect=function(a){return y(a)},g.init=function(){g!==d&&(g.browser={userAgent:(b.userAgent||b.vendor||a.opera).toLowerCase()},g.detect())},g.init(),g}(this,this.navigator,this.document);

function ais_interface_setup(loadtheme, loadsite, loadlanguage, loadfile, loadLangButton){
	var RootDoc = document.domain;

	if(loadlanguage == 'en'){
		$("#ais_topbar").load("http://"+RootDoc+"/base_interface/aismenu_en.html", function() {
			$('#ais_topbar').mainnav({
				site: loadsite,
				language: 'en',
				theme: loadtheme,
				file: loadfile,
				langButton: loadLangButton
			});
			$( "#aisfooter" ).load( "http://"+RootDoc+"/base_interface/aisfooter_en.html", footerscript);
   		});
		// async_load(loadlanguage);
	}else if(loadlanguage == 'th'){
		$("#ais_topbar").load("http://"+RootDoc+"/base_interface/aismenu.html", function() {
			$('#ais_topbar').mainnav({
				site: loadsite,
				language: 'th',
				theme: loadtheme,
				file: loadfile,
				langButton: loadLangButton
			});
			$( "#aisfooter" ).load( "http://"+RootDoc+"/base_interface/aisfooter.html", footerscript);
		});
		// async_load(loadlanguage);
	}
}

(function($) {

    $.fn.mainnav = function( options ) {

        var defaults = {
            theme    : 'mini-menu',
            site 	 : 'home',
            language : 'th',
            file 	 : null,
            langButton: true
        };

        var settings = $.extend(defaults, options);

        return this.each( function() {

      var MqL = 768, $this = $(this), opts = settings;

		function init(callback){
			if(opts.site == 'longterm'){

				console.log($( ".js-content-custom"  ));
			  	$( ".js-content-custom"  ).load( opts.file, function() {
				  	if(opts.theme == 'custom-only-slidemenu'){
						$('.js-link-open-submenu').off('click.nav', toggleSubmenu).on('click.nav', toggleSubmenu);
				  	} else if(opts.theme == 'custom-menu'){
					  	var current_page = window.location.pathname.split("/"),
					    	current_link = (window.location.pathname.split("/").length - 1);

				  		$('<div />', {'class':'js-custom-header'}).insertAfter('.js-main-header');
				  		$('.js-content-custom').clone().appendTo('.js-custom-header');
				  		$('.js-custom-header').children('div.js-content-custom').replaceWith($('<ul/>',{'class':'js-content-custom'}).html($('div.js-content-custom').html()));
					  	// Hilight current page
					  	if(current_page[current_link]!==""){
					    	setTimeout(function(){
					      		$('.js-custom-header .menu__link').removeClass('current');
					      		$('.js-custom-header .menu__link[href="'+current_page[current_link]+'"]').addClass('current');
					    	},700)
					  	}
					}
				});

		  		$('.js-nav .js-content-site').addClass('is-hidden');
		  		$('.js-nav .js-content-custom').removeClass('is-hidden');
			}
			
			if(opts.langButton == false){
			  $('#ais_topbar').addClass('no-lang-button');
			}
			$('#ais_topbar').addClass(opts.site);

			callback();
		}

	    function expandSearch(){
	        $('.js-search-input').on('focus', function(event){
	          $(this).parents('#topbar_search').addClass('is-focus');
	          closeNav();
	          closepopmenu();
	        }).on('focusout', function() {
	          setTimeout(function(){
	            $('.js-search-input').parents('#topbar_search').removeClass('is-focus');
	          }, 100);
	        });
	    }

		function showmenu(){
			setTimeout(function(){
				prepareSearch();
			}, 600);
			setTimeout(function(){
				  $('#ais_topbar').show();
			}, 800);
		}

      	init(showmenu);
    	setTimeout(expandSearch, 700);

		$(window).on('resize', function(){
			(!window.requestAnimationFrame) ? setTimeout(moveNavigation, 300) : window.requestAnimationFrame(moveNavigation);
			closepopmenu();
	        closeNav();
	     	setTimeout(expandSearch(), 700);
	        $('.js-overlay').removeClass('is-visible');
	        $('.js-nav-trigger').removeClass('open');
	        if($('.js-custom-header').length > 0) { $('.js-custom-header').show(); }

        	$('body').removeClass('overflow-hidden');
		}).resize();

			//mobile - open lateral menu clicking on the menu icon
			$('.js-nav-trigger').on('click', function(event){
				event.preventDefault();
				if( $('.js-primary-nav').hasClass('nav-is-visible') ) {
					closeNav();
					$('.js-overlay').removeClass('is-visible');
					$(this).removeClass('open');
  					if($('.js-custom-header').length > 0) { $('.js-custom-header').show(); }
            		$('body').removeClass('overflow-hidden');
				} else {
					$(this).addClass('nav-is-visible');
					$('.js-primary-nav').removeClass('nav-is-hidden').addClass('nav-is-visible');
					$('.js-main-header').addClass('nav-is-visible');
					$('.js-main-content').addClass('nav-is-visible').one('webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend', function(){
						$('body').addClass('overflow-hidden');
					});
					$('.js-overlay').addClass('is-visible');
					$(this).addClass('open');
  					if($('.js-custom-header').length > 0) { $('.js-custom-header').hide(); }
  					// $('.js-custom-header').hide();
  					$('.menu_popup').hide();
              		$('body').addClass('overflow-hidden');
				}
			});
			//close lateral menu on mobile
			$('.js-overlay').on('swipeleft', function(){
				if($('.js-primary-nav').hasClass('nav-is-visible')) {
					closeNav();
					$('.js-overlay').removeClass('is-visible');
				}
			});
			$('.js-overlay').on('click', function(){
        		$('body').removeClass('overflow-hidden');
				closeNav();
				$('.js-overlay').removeClass('is-visible');
  				if($('.js-custom-header').length > 0) { $('.js-custom-header').show(); }
			});

			//open submenu
			var tempType;
			$('.js-nav').on('nav-type', function(e, type){
				if(tempType != type){
					tempType = type;

					var $btnToggle 		 = $('.js-link-open-submenu'),
						$btnFade   		 = $('.primary__item.menu__item.has-children .js-is-submenu a'),
						$btnScope  		 = $('.menu__item.has-children'),
						$primaryLink 	 = $('.js-header-buttons');

            	if(  opts.site == "home"){ 	$btnFade   = $('.menu__item.has-children .js-is-submenu a'); }

					$btnFade.off('.nav');
					$btnScope.off('.nav');

					if(type == 'desktop'){

            			$('#main-menu-topnew0').hide();

						$('.js-secondary-nav').addClass('is-hidden');

						var eventName = Detectizr.device.type == 'tablet' ? 'click' : 'mouseenter';

            			if(opts.theme == "full-menu" ){

                		//  if(  opts.site == "home"){ 	$btnFade   = $('.menu__item.has-children .js-is-submenu a'); }

    						$btnFade.on(eventName+'.nav', function(e){
                    			e.preventDefault();
      							var selected = $(this);
      							if(eventName == 'click' && selected.hasClass('selected')){
      								$btnScope.trigger('mouseleave');
      							}else{
      								selected.addClass('selected').parent().next('ul').removeClass('is-hidden').end().parents('.has-children').parent('ul').addClass('moves-out');
      								selected.parents('.has-children').siblings('.has-children').children('ul').addClass('is-hidden').end().children('a').removeClass('selected');
      								$('.js-overlay').addClass('is-visible');
      							}
    						});

    						$btnScope.on('mouseleave.nav', function(event){
    							var selected = $(this).children('.js-is-submenu').find('a');
    							selected.removeClass('selected').parent().next('ul').addClass('is-hidden').end().parents('.has-children').parent('ul').removeClass('moves-out');
    							$('.js-overlay').removeClass('is-visible');
    						});

            			}

            			$primaryLink = $('.js-primary-link');
						$primaryLink.children().appendTo('.js-header-buttons');

						if(opts.language == 'en'){
						  	$('.primary__link').eq(1).text("Consumer").attr({'href':'#','target':''});
						}else if(opts.language == 'th'){
							$('.primary__link').eq(1).text("ลูกค้าบุคคล").attr({'href':'#','target':''});
						}

					}else if(type == 'mobile'){

              			$('#main-menu-topnew0').show();

						$btnToggle.off('click.nav').on('click.nav', toggleSubmenu);

						$primaryLink.children().appendTo('.js-primary-link');

            			$('.primary__link').eq(1).text("AIS 4G ADVANCED").attr({'href':'https://www.ais.co.th/4g/','target':'_blank'});

					}
				}
			});

			$('.eservice-link').on('click.nav', function(e){
				e.preventDefault();
				var btn = $(this).data('popup-btn');

				if( $('.js-primary-nav').hasClass('nav-is-visible') ) {
					closeNav();
					closepopmenu();
				}
				if ($('.menu_popup.'+btn).css('display') == 'none'){  // popup closed
					if( btn === 'eservicemenu'){
						if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {
							window.open("https://www.ais.co.th/eservice");
						}else{
							$(".menu_popup").hide();
							$('.menu_popup.'+btn).show();
						}
					}else{
						$(".menu_popup").hide();
						$('.menu_popup.'+btn).show();
	      			}
					if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {
						$(".pop-overlay").show();
					}
				}else{
					$(".menu_popup").hide();
				}
			});
			function toggleSubmenu(e){
				console.log("toggleSubmenu");
				var submenu  = $(this).parent().next('.js-toggle-submenu'), $btnToggle = $('.js-link-open-submenu');
				e.preventDefault();
                if( $(submenu).hasClass( "is-hidden" ) === true ){  // SUB IN ON collaspse
          			$btnToggle.removeClass('active');
            		$('.js-toggle-submenu').addClass('is-hidden');
            		$(this).addClass('active');
                	$(submenu).removeClass('is-hidden');
                }else {
                	$(this).removeClass('active');
                  	$(submenu).addClass('is-hidden');
                }
			}
			function checkWindowWidth(winwidth) {
				//check window width (scrollbar included)
				var e = window,
		            a = 'inner';
		        if (!('innerWidth' in window )) {
		            a = 'client';
		            e = document.documentElement || document.body;
		        }
		        if ( e[ a+'Width' ] >= winwidth ) {
					return true;
				} else {
					return false;
				}
			}

			function moveNavigation(){
				var theme = $('#ais_topbar');
				var navigation = $('.js-nav');
				var desktop = checkWindowWidth(MqL);

		        if ( opts.theme == 'full-menu' ) {
		        	if(desktop){
		        		theme.removeClass('hamburger');
		        		theme.addClass('full-menu');
						navigation.detach();
						navigation.insertAfter('.js-main-header');
						navigation.trigger('nav-type','desktop');

			            if( $('.endfirst').length > 0 ){
			              	$(window ).scroll(function() {
						    	Check_SwapTopbar();
						    });
							Check_SwapTopbar();
						}
		        	}else {
		        		theme.removeClass('full-menu');
		        		theme.addClass('hamburger');
						navigation.detach();
						navigation.insertAfter('.js-main-content');
						navigation.trigger('nav-type','mobile');
		        	}

				} else if(opts.theme == 'custom-menu') {
					theme.addClass('hamburger custom-menu');
					navigation.detach();
					navigation.insertAfter('.js-main-content');
					navigation.trigger('nav-type','mobile');

				} else if(opts.theme == 'custom-only-slidemenu') {
					theme.addClass('hamburger custom-menu');
					navigation.detach();
					navigation.insertAfter('.js-main-content');
					navigation.trigger('nav-type','mobile');

				} else if(opts.theme == 'mini-menu'){
					theme.addClass('hamburger mini-menu');
					navigation.detach();
					navigation.insertAfter('.js-main-content');
					navigation.trigger('nav-type','mobile');
				}
			}

		    function Check_SwapTopbar(){

		        var theme = $('#ais_topbar');
		        var navigation = $('.js-nav');

		        if(checkWindowWidth(MqL)){
		          if($(window).scrollTop() <= $('.endfirst').offset().top ){
		            theme.removeClass('hamburger custom-menu scroll-menu');
		            theme.addClass('full-menu');
		            navigation.detach();
		            navigation.insertAfter('.js-main-header');
		            navigation.trigger('nav-type','desktop');
		            $('.js-custom-header').remove();
		          }else{

		            if( $(".js-custom-header").length == 0 ){

						if(opts.site != "postpaid"){
							$('<div />', {'class':'js-custom-header'}).insertAfter('.js-main-header');
							$('<ul />',{'class':'js-content-custom'}).appendTo('.js-custom-header');
							$('.js-content-'+opts.site+' > li').clone().appendTo('ul.js-content-custom');

							$('.js-custom-header h2').removeClass("js-is-submenu");
							$('.js-content-custom i,.js-content-custom ul').remove();
						}

		            }

		            theme.removeClass('full-menu');
		            theme.addClass('hamburger custom-menu scroll-menu');
		            navigation.detach();
		            navigation.insertAfter('.js-main-content');
		            navigation.trigger('nav-type','mobile');

		          }
		        }

		    }

		});
	}
}(jQuery));

function closeNav() {
	$('.js-nav-trigger').removeClass('nav-is-visible open');
	$('.js-main-header').removeClass('nav-is-visible');
	$('.js-primary-nav').removeClass('nav-is-visible').addClass('nav-is-hidden');
	$('.has-children ul').addClass('is-hidden');
	$('.has-children a').removeClass('selected');
	$('.moves-out').removeClass('moves-out');
	$('.js-main-content').removeClass('nav-is-visible').one('webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend', function(){
		$('body').removeClass('overflow-hidden');
	});
	$(".menu_popup").hide();
	$('.js-link-open-submenu').removeClass('active');
}

function closepopmenu(){
	$(".menu_popup").hide();
	$(".search-eservice").val('ระบุเบอร์มือถือ');
}
var shareURL, shareURLSTAT, shareURLSTATtw, shareTitle, shareDescription, shareIMG;
function share_fb(){

      var ShareURL =    document.URL;

        var share_url="http://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(ShareURL);
        newwindowfb = window.open(share_url,'sharer','toolbar=0,status=0,width=650,height=400,resizable=yes');
        if (window.focus) { newwindowfb.focus(); }


    return false;
}
function share_tw(){
    var tw_url  =document.URL;

    var TitleDesc;

    var description;
    var metas = document.getElementsByTagName('meta');
    for (var x=0,y=metas.length; x<y; x++) {

        if(metas[x].getAttribute('property'))   {
          if (metas[x].getAttribute('property').toLowerCase() == "tw:description") {
            TitleDesc = metas[x];
          }

        }

    }
    //var tw_text = TitleDesc.content+" "+description.content;
    var tw_text = TitleDesc.content;

    newwindowtw = window.open('http://twitter.com/share?url=' + encodeURIComponent(tw_url) + '&text=' + encodeURIComponent(tw_text), 'sharer', 'toolbar=0, status=0, width=650, height=400');
    if (window.focus) { newwindowtw.focus(); }
    return false;
}
function share_go(){
    var shareURL =  document.URL;
    newwindowgo= window.open('https://plus.google.com/share?url=' + encodeURIComponent(shareURL) , 'sharer', 'toolbar=0, status=0, width=600, height=600');
    if (window.focus) { newwindowgo.focus(); }
    return false;

}
function share_lineit(){
     var tw_url  =document.URL;
     var TitleDesc;

    var description;
    var metas = document.getElementsByTagName('meta');
    for (var x=0,y=metas.length; x<y; x++) {

        if(metas[x].getAttribute('property'))   {
          if (metas[x].getAttribute('property').toLowerCase() == "og:description") {
            description = metas[x];
          }else if (metas[x].getAttribute('property').toLowerCase() == "og:title") {
            TitleDesc = metas[x];
          }

        }

    }
    var tw_text = TitleDesc.content;
    newwindowtw = window.open('http://line.me/R/msg/' + encodeURIComponent(tw_text) + encodeURIComponent(tw_url));
    if (window.focus) { newwindowgo.focus(); }
    return false;
    }

function checkemail_subscribe(email_subscribe) {
    //var email_subscribe = $("#e_news_subscribe").val();
    var email_pattern = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z]{2,4})+$/;
    if (email_pattern.test(email_subscribe)) {
        return true;
    } else {
        return false;
    }
}
function isIE( version, comparison ){
    var $div = $('<div style="display:none;"/>').appendTo($('body'));
    $div.html('<!--[if '+(comparison||'')+' IE '+(version||'')+']><a>&nbsp;</a><![endif]-->');
    var ieTest = $div.find('a').length;
    $div.remove();
    return ieTest;
}
function ValidUrl(str) {
  var pattern = new RegExp('^(https?:\\/\\/)?'+ // protocol
  '((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|'+ // domain name
  '((\\d{1,3}\\.){3}\\d{1,3}))'+ // OR ip (v4) address
  '(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*'+ // port and path
  '(\\?[;&a-z\\d%_.~+=-]*)?'+ // query string
  '(\\#[-a-z\\d_]*)?$','i'); // fragment locator
  if(!pattern.test(str)) {
    return false;
  } else {
    return true;
  }
}
function changeLang(){
// var filename = window.location.href.substr(window.location.href.lastIndexOf("/")+1);
    var url = document.URL;
    var value = url.substring(url.lastIndexOf('/') + 1);
    if( ValidUrl(value) || value.trim() == '')
    {
        document.location = "en/"+value;
    }else{
        document.location = "en/"+value;
    }
}
function changeLangEn(){
//var filename = window.location.href.substr(window.location.href.lastIndexOf("/")+1);
    var url = document.URL;
    var value = url.substring(url.lastIndexOf('/') + 1);
    if( ValidUrl(value) || value.trim() == '')
    {
        document.location = "../"+value;
    }else{
        document.location = "../"+value;
    }
}

function one2call_logo(){
  $('.topbar_logo img').attr('src',"images/logo_12call.png").addClass('one2call-logo');
  $(".topbar_logo a").attr("href", "https://www.ais.co.th/3g-one-2-call/Default.aspx");
}

function hilightLink(page) {
    $('.js-custom-header .menu__link').removeClass('current');
    $('.js-custom-header .menu__link[href="'+page+'"]').addClass('current');
}
/* ----------------------------------
// Footer
---------------------------*/

function showSub(Tar){
	try{
		for (i = 1; i <= 5; i++) {

			var NowID =  'site_sub'+i;
			if(NowID !=  Tar){ document.getElementById(NowID).className = 'link_set';			}
		}
	}catch(e){}
	try{
		for (i = 1; i <= 4; i++) {

			var NowID =  'link_sub'+i;
			if(NowID !=  Tar){ document.getElementById(NowID).className = 'link_set'; }
		}
	}catch(e){}

	if( $( "#"+Tar ).hasClass( "link_set_current" )  ==  true ){
		document.getElementById(Tar).className = 'link_set';
	}else{
		document.getElementById(Tar).className = 'link_set_current';
	}
}

function footerscript() {
	$('#footer_sub_arrow').click(function(){
		if( $('.footer_shotcut').is(':visible')  == false &&  $('.footer_sitemap').is(':visible')  == false){
			$('.footer_sitemap').hide();
			$('.footer_shotcut').show();
			$('#footer_sub_menu1').addClass('current')
			$('#footer_sub_menu2').removeClass('current')
		}else{
			$('.footer_sitemap').hide();
			$('.footer_shotcut').hide();
		}
	});

	$('#footer_sub_menu1').click(function(){
		if( $('.footer_shotcut').is(':visible')  == false ){
			$('.footer_sitemap').hide();
			$('.footer_shotcut').show();
			$('#footer_sub_menu1').addClass('current')
			$('#footer_sub_menu2').removeClass('current')
		}
	});
	$('#footer_sub_menu2').click(function(){
		if( $('.footer_sitemap').is(':visible')  == false ){
			$('.footer_sitemap').show();
			$('.footer_shotcut').hide();
			$('#footer_sub_menu1').removeClass('current')
			$('#footer_sub_menu2').addClass('current')
		}
	});
	$('.js-btn-toggle').on('click', function(){
		showSub(Tar);
	});
}

// var WidgetConfig;
// function async_load(loadlanguage){
// 	WidgetConfig = {
// 		debug: true,
// 		domain: 'http://search.ais.co.th',
// 		language: loadlanguage,
// 		fontHeaderSize : '22px',
// 		fontSize : '14px',
// 		saveQuestionURL: 'http://search.ais.co.th/api/ask-aunjai/save-question',
// 		liveChatURL: 'http://webchat1.smm.ais.co.th/livechat_aunjai/client.php',
// 		BecauseWeCare: 'http://crawl1.smm.ais.co.th/accfacebook/index.php/wecare_page?channel=aunjai',
// 		autocomplete: {
// 			source: 'http://search.ais.co.th/api/gsa/ask-aunjai'
// 		}
// 	};
// 	var s = document.createElement('script');
// 	s.type = 'text/javascript';
// 	s.async = true;
// 	s.src = WidgetConfig.domain + '/js/widget.js';
// 	var x = document.getElementsByTagName('script')[0];
// 	x.parentNode.insertBefore(s, x);
// }
