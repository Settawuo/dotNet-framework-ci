@using System.Collections.Generic;
@using WBBEntity.PanelModels;
@model WBBEntity.PanelModels.AddBundlingModels
@{
    Layout = null;

    var isSaveCommplete = false;
    var productSubType = "";
    var languagePage = "";
    var lclose = "";
    var lsave = "";
    var lpopupsave = "";
    var NonMobileNoTmp = "";


    if (null != ViewBag.SaveSuccess)
    {
        isSaveCommplete = ViewBag.SaveSuccess;
    }
    if (null != ViewBag.LanguagePage)
    {
        languagePage = ViewBag.LanguagePage;
    }
    if (null != ViewBag.LCLOSE)
    {
        lclose = ViewBag.LCLOSE;
    }
    if (null != ViewBag.LSAVE)
    {
        lsave = ViewBag.LSAVE;
    }
    if (null != ViewBag.LPOPUPSAVE)
    {
        lpopupsave = ViewBag.LPOPUPSAVE;
    }
    if (null != ViewBag.NonMobileNo)
    {
        NonMobileNoTmp = ViewBag.NonMobileNo;
    }

    string LOADING = "";
    string L_TITLE_WEB = "";

    if (ViewBag.LabelLovScreen != null)
    {
        var labelLovScreen = (List<LovScreenValueModel>)ViewBag.LabelLovScreen;

        lclose = labelLovScreen.Any(c => c.Name == "B_CLOSE") ? labelLovScreen.First(c => c.Name == "B_CLOSE").DisplayValue : "Close";
        LOADING = labelLovScreen.Any(m => m.Name == "TOPUP_LOADING") ? labelLovScreen.FirstOrDefault(m => m.Name == "TOPUP_LOADING").DisplayValue : "Loading";
        L_TITLE_WEB = labelLovScreen.Any(c => c.Name == "L_TITLE_WEB") ? labelLovScreen.FirstOrDefault(c => c.Name == "L_TITLE_WEB").DisplayValue : "";
    }
    
}


<html class="no-js" lang="th">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=10,9" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=0" />
    <meta name="date" content="2016-03-12" />
    <meta name="sitecode" content="TH" />

    <title>@L_TITLE_WEB</title>

    <!-- Cahing Browser -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />

    <meta name="description" content="สิทธิพิเศษจากเอไอเอสไฟเบอร์">
    <meta name="KeyWords" content="ais, เอไอเอส, เน็ต, อินเทอร์เน็ต, ไฟเบอร์" />
    <meta name="thumbnail" content="https://www.ais.co.th/fibre_postpaid/share.jpg" />
    <meta name="thumbnail_height" content="110">
    <!--Fix ขนาดของความสูง ไว้เท่านี้ ไม่เปลี่ยน-->
    <meta name="thumbnail_width" content="75">
    <!--Fix ขนาดของความกว้าง ไว้เท่านี้ ไม่เปลี่ยน-->
    <!-- Facebook Propertie แชร์ Facebook -->
    <meta property="og:title" content="AIS Fibre Broadband ความเร็วสูง 1 Gbps" />
    <meta property="og:description" content="สิทธิพิเศษจากเอไอเอสไฟเบอร์" />
    <meta property="og:image" content="https://www.ais.co.th/fibre_postpaid/share.jpg" />

    <!-- Tweet Propertie แชร์ Tweet -->
    <meta property="tw:description" content="สิทธิพิเศษจากเอไอเอสไฟเบอร์" />

    <!-- Google Plus แชร์  Google -->
    <meta itemprop="name" content="AIS Fibre Broadband ความเร็วสูง 1 Gbps">
    <meta itemprop="description" content="สิทธิพิเศษจากเอไอเอสไฟเบอร์">
    <meta itemprop="image" content="https://www.ais.co.th/fibre_postpaid/share.jpg">

    <!--Include Style Script-->
    <link rel="stylesheet" href="~/Content/Content2016/css/dna.global.css" />
    <link rel="stylesheet" href="~/Content/Content2016/css/foundation.css" />
    <link rel="stylesheet" href="~/Content/Content2016/css/fibrepostpaid.css" />

    <!--Include Style Script-->
    <link rel="stylesheet" href="~/Content/Content2016/plugin/sod/selectordie.css">
    <link rel="stylesheet" href="~/Content/Content2016/css/menutypeahead.css">
    <link rel="stylesheet" href="~/Content/Content2016/css/jquery.typeahead.css">
    <link rel="stylesheet" href="~/Content/Content2016/css/index.css" />
    <link rel="stylesheet" href="~/Content/Content2016/css/navais.min.css" />
    <link rel="stylesheet" href="~/Content/Content2016/css/dna.global.css" />
    <link rel="stylesheet" href="~/Content/Content2016/css/foundation.css" />
    <link rel="stylesheet" href="~/Content/Content2016/fonts/helvetica.css" />
    <link rel="stylesheet" href="~/Content/css/bootstrap.min.css">

    <script src="~/Content/Content2016/js/jquery-1.11.3.min.js"></script>
    <script src="~/Content/Content2016/js/tweenmax.js"></script>
    <script src="~/Content/Content2016/js/dna.global.js"></script>
    <script src="~/Content/Content2016/js/jquery.mainnav.min.js"></script>

    <script src="~/Content/Content2016/plugin/sod/selectordie.js"></script>
    <script src="~/Content/Content2016/js/menutypeahead.js"></script>
    <script src="~/Content/Content2016/js/jquery.typeahead.min.js"></script>

    <link href="~/Content/Content2016/plugin/sod/selectordie_theme.css" rel="stylesheet" type="text/css">
    <script src="~/Content/Content2016/plugin/sod/selectordie.min.js"></script>
    <script type="text/javascript" src="~/js/ifbbweb.min.js"></script>

    <!--slick -->
    <link rel="stylesheet" type="text/css" href="~/Content/Content2016/plugin/slick/slick.css" />
    <link rel="stylesheet" type="text/css" href="~/Content/Content2016/plugin/slick/slick-theme.css" />
    <script type="text/javascript" src="~/Content/Content2016/plugin/slick/slick.min.js"></script>


    <!-- start old -->
    <link rel="shortcut icon" href="~/favicon.ico" type="image/x-icon">

    <link href="~/Content/font-awesome-4.1.0/css/font-awesome.min.css" rel="stylesheet" />

    <link href="http://localhost:50960/respond-proxy.html" id="respond-proxy" rel="respond-proxy" />
    <link href="~/Scripts/respond.proxy.gif" id="respond-redirect" rel="respond-redirect" />

    @*@Styles.Render("~/Content/css/rabbit")

    *@
    @Styles.Render("~/Content/css/bootsrapcss")
    @Scripts.Render("~/bundles/js/rabbit")
    @Scripts.Render("~/bundles/js/boostrapjs")

    <!-- end old -->

</head>
<style>
    .i-hidden {
            display: none;
        }
    .btnP1, .btnP1:hover, .btnP2 {
            background-color: #8dc63f;
            color: #fff;
        }
    .btnP1:hover {
            cursor: not-allowed;
        }

    .btnP2:hover {
            background-color: #000;
            color: #fff;
        }

        .btnP3, .btnP3:hover {
            color: #fff !important;
        }

        .btnP3 {
            background-color: #ccc;
        }

            .btnP3:hover {
                background-color: #aaa;
                text-decoration: none;
            }
    fieldset {
        border: 2px solid #83ad47;
        -webkit-border-radius: 5px;
        border-radius: 5px;
        -khtml-border-radius: 5px;
        -moz-border-radius: 5px;
    }

    #tbl-popup {
        width: 100%;
    }

    .btnmodal {
        padding: 10px 15px;
        background-color: #58AA0C;
        color: #fff !important;
    }

        .btnmodal:hover {
            padding: 10px 15px;
            background-color: #4a831c;
            color: #fff;
            text-decoration: none;
        }

    .modal-dialog-center {
        margin-top: 10%;
    }

    .btn1 {
        background-color: #8dc63f;
        color: #fff;
    }

        .btn1:hover {
            background-color: #8dc63f;
            color: #fff;
            cursor: not-allowed;
        }

    .btn2 {
        background-color: #8dc63f;
        color: #fff;
    }

        .btn2:hover {
            background-color: black;
            color: #fff;
        }

    .btn3 {
        background-color: #ccc;
        color: #fff !important;
    }

        .btn3:hover {
            background-color: #aaa;
            color: #fff !important;
            text-decoration: none;
        }

        #ais_topbar {
        display: block;
    }

    #ais_topbar .topbar_ribbon {
	    padding-left:10px;
        float: left;
        height: 60px;
    }

    #ribbonking{ width:100%; height:60px;  background: url("/Images/bg1366.jpg") no-repeat center;  background-color:#000;}
    #ribbonking_wrapper{height:60px; margin: 0 auto; max-width: 1140px;}

</style>
<div id="ais_topbar">
    @*<div id="ribbonking">
	    <div id="ribbonking_wrapper">
    	    <div class="topbar_ribbon"><img src="~/Images/iconribbon.png" alt="ais logo"></div>
        </div>
    </div>*@
    @if (Session[WBBWeb.Extension.WebConstants.SessionKeys.CurrentUICulture].ToString() == "1")
    {
        @Html.Partial("_MenuTH")
    }
    else
    {
        @Html.Partial("_MenuEN")
    }

</div>

<div id="fibre_container">
    <form id="SearchProfilefrm" method="post" action="">

        @Html.Partial("~/Views/ProcessAddBundling/_AisAirAndMobileNumber.cshtml")
        @Html.Partial("~/Views/ProcessAddBundling/_Error.cshtml")
        @Html.Partial("~/Views/ProcessAddBundling/_SendOTP.cshtml")


        <div>

            @Html.HiddenFor(Model => Model.LanguagePage)
            @Html.HiddenFor(Model => Model.NonMobileNo)
            @Html.HiddenFor(Model => Model.MobileNo)
            @Html.HiddenFor(Model => Model.AccountNumber)
            @Html.HiddenFor(Model => Model.AccountNumberMobile)
            @Html.HiddenFor(Model => Model.OwnerProduct)
            @Html.HiddenFor(Model => Model.ProductCD)
            @Html.HiddenFor(Model => Model.ProductOntopCD)
            @Html.HiddenFor(Model => Model.MobileSegment)
            @Html.HiddenFor(Model => Model.ChargeType)
            @Html.HiddenFor(Model => Model.HaveOnTopExtra)
            @Html.HiddenFor(Model => Model.AddressId)
            @Html.HiddenFor(Model => Model.TransactionID)

        </div>
    </form>

</div>
<div id="ProgressIcon" class="modal fade">
    <div class="modal-dialog" style="top: 38%;">
        <div class="row" style="margin-left: auto; margin-right: auto; width: 150px; height: 100px; color: white;">
            <div>
                <i class="fa-li fa fa-spinner fa-spin fa-5x" style="position: inherit;"></i>
            </div>
            <div id="txtLoading" style="text-align: center;">
                @LOADING
            </div>
        </div>
    </div>
</div>
<table class="i-hidden" id="tempV2" border="1" bordercolor="red"></table>

<div class="modal fade" id="myModal">
    <div class="modal-dialog modal-dialog-center">
        <div class="modal-content">

            <div class="modal-header">
                <button type="button" class="close" onclick="Reload();" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            </div>
            <div class="modal-body">
                <div id="LastPopupMessage" style="text-align: center;"></div>
            </div>
            <div class="modal-footer">
                <a href="#" class="btnmodal" onclick="Reload();">@lclose</a>
            </div>

        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>
<!-- /.modal -->
<script type="text/javascript">

    $(document).ready(function () {
        ais_interface_setup('mini-menu', 'postpaid', 'th', '', false);

        if ('@NonMobileNoTmp' != "") {
            $("#AisAirNumber").val('@NonMobileNoTmp');
        }

        $("#col-form").show();
        $("#col-err").hide();
        $("#col-ChangeContactMobile").hide();
        $('#col-formInputMobileNo').hide();
        $('#col-formInputOTP').hide();
    });

    ///////////// begin popup ////////////
    var success = '@isSaveCommplete';
    var swifi = '@productSubType';
    var language_ = '@languagePage';

    if (success == 'True') {

        PopupMessage();
        $('#myModal').modal('show');
    }


    function Reload() {
        var url = '@Url.Action("Index", "ProcessAddBundling")';
        window.location.href = url;
    }

    function ClosePopupReload() {
        if (success == 'True') {
            Reload();
        }
    }

    function showjpopup(width_, height_) {
        $('#basic-modal-content').modal('show');
        $('#basic-modal-content').css('display', 'block');

        var div1 = $('#simplemodal-container');
        if (width_ != null) { div1.css('width', width_); }
        if (height_ != null) { div1.css('height', height_); }

        div1.css('margin-left', '10%');

        return false;
    }

    $(function () {

        if ("@ViewBag.Vas" == "") {
            $("#btnBack").hide();
        }

        $("#lb-failed").html("");
        $.post('/WBB/GetCurrentCulture').done(function (x) {
            $("#LanguagePage").val(x);
            changeLanguage();

            var language = "";
            if (x == 1)
                language = "th";
            else
                language = "en";
        });

        $("#SearchProfilefrm").attr("action", "/ProcessAddBundling/AddBundling");
    });

        function changeLanguage() {
            if ($("#LanguagePage").val() == "1") {
                $("#btnTh").show();
                $("#btnEn").hide();

            }
            else {
                $("#btnTh").hide();
                $("#btnEn").show();


            }
        }

        function CheckKeyUps(id, RexStr) {
            var strKey = $("#" + id).val();
            var strBuilder = "";
            var filter = new RegExp(RexStr);
            for (var i = 0; i < strKey.length; i++) {
                if (filter.test(strKey.substr(i, 1))) {
                    strBuilder += strKey.substr(i, 1);
                }
            }
            $("#" + id).val(strBuilder);
        }
        function CheckKeyUps88(id) {
            var strKey = $("#" + id).val();
            var strBuilder = "";
            for (var i = 0; i < strKey.length; i++) {
                if (i < 2) {
                    if (strKey.substr(i, 1) == 8) {
                        strBuilder += strKey.substr(i, 1);
                    }
                }
                else {
                    strBuilder += strKey.substr(i, 1);
                }
            }
            $("#" + id).val(strBuilder);
        }
        function CheckKeyUpsNot88(id) {
            var strKey = $("#" + id).val();
            var strBuilder = "";
            for (var i = 0; i < strKey.length; i++) {
                if (i < 1) {
                    if (strKey.substr(i, 1) == 0) {
                        strBuilder += strKey.substr(i, 1);
                    }
                }
                else {
                    strBuilder += strKey.substr(i, 1);
                }
            }
            $("#" + id).val(strBuilder);
        }

        function LockScreen(x, txt) {
            if (x) {
                $('#txtLoading').html(txt);
                $('#ProgressIcon').modal({
                    backdrop: "static",
                    keyboard: true,
                    show: true
                });
            }
            else {
                $('#ProgressIcon').modal('hide');
            }
        }

</script>

</html>
