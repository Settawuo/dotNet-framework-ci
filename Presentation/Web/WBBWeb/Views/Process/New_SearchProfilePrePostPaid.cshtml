@model WBBEntity.PanelModels.QuickWinPanelModel
@using System.Collections.Generic;
@using WBBEntity.PanelModels;
@using WBBEntity.Extensions;
@using WBBWeb.Extension
@{

    Layout = null;

    var Version = "Ver. R15.9.29.290915";
    if (ViewBag.Version != null)
    {
        Version = Version + "-" + ViewBag.Version;
    }

    string language = Session[WebConstants.SessionKeys.CurrentUICulture] != null ? Session[WebConstants.SessionKeys.CurrentUICulture].ToString() : "";

    string L_WELCOME = "";
    string L_WELCOME_DISCOUNT = "";
    string L_MOBILE_NUMBER = "";
    string L_THK = "";
    string B_NEXT = "";
    string L_INPUT_OTP_1 = "";
    string L_INPUT_OTP_2 = "";
    string L_INPUT_OTP_3 = "";
    string L_INPUT_OTP_4 = "";
    string L_INPUT_OTP_5 = "";
    //string L_PASSWORD = "";
    //string L_SHOW_PASSWORD = "";
    //string L_REQUEST_PASSWORD = "";
    string L_PW = "";
    string L_SHOW_PW = "";
    string L_REQUEST_PW = "";
    string B_OK = "";
    string B_BACK = "";
    string L_INCORRECT_OTP = "";
    string PREPAID_USAGE = "";
    //string Length_Password = "";
    //string Input_Password = "";
    string Length_PW = "";
    string Input_PW = "";
    string Input_MobileNo = "";
    string MobileLength = "";
    string L_BUNDLING_CONDITION = "";
    string L_BUNDLING_CONDITION_DETAIL = "";
    string L_ERR_NOT_FOUND = "";
    string L_LOGIN_FAILED = "";
    //string L_CLOSE_PASSWORD = "";
    string L_CLOSE_PW = "";
    string[] CheckSerenadeArray;

    string L_CHOOSE_CARD_TYPE = "";
    string L_CARD_NUMBER = "";
    string lCARD_TYPE = "";
    string L_SELECT_ITEM = "";
    string L_FILL_OUT = "";

    string FBB_Con_Length_ID_Card_Number_STA_LET = "";
    string FBB_Con_Length_ID_Card_Number_ROY_LET = "";
    string FBB_Con_Length_ID_Card_Number_EMB_LET = "";
    string FBB_Con_Length_ID_Card_Number_CERT_FOUND = "";
    string FBB_Con_Length_ID_Card_Number_TAX_ID = "";
    string FBB_Con_Length_ID_Card_Number_PASSPORT = "";
    string FBB_Con_Length_ID_Card_Number_GOV_LET = "";
    string FBB_Con_LengthIDCardNumberHILL_CARD = "";
    string FBB_Con_LengthIDCardNumberID_CARD = "";
    string FBB_Con_LengthIDCardNumberIMM_CARD = "";
    string FBB_Con_LengthIDCardNumberMONK_CERT = "";
    string L_INPUT_ID_CARD = "";
    string L_INPUT_ID_CARD_WRONG = "";

    string FBB_Con_Input_CERT_FOUND = "";
    string FBB_Con_Input_EMB_LET = "";
    string FBB_Con_Input_HILL_CARD = "";
    string FBB_Con_Input_ID_CARD = "";
    string FBB_Con_Input_IMM_CARD = "";
    string FBB_Con_Input_MONK_CERT = "";
    string FBB_Con_Input_PASSPORT = "";
    string FBB_Con_Input_ROY_LET = "";
    string FBB_Con_Input_STA_LET = "";
    string FBB_Con_Input_TAX_ID = "";
    string FBB_Con_Input_GOV_LET = "";
    string FBB_Con_RELATE_MOBILE_SEGMENT = "";

    string L_WELCOME_1 = "";
    string L_WELCOME_2 = "";
    string L_WELCOME_3 = "";
    string L_WELCOME_4 = "";
    string L_WELCOME_5 = "";

    string L_CONFIRM_SMS = "";
    string B_RECEIVED_SMS = "";
    string B_NO_SMS = "";
    string L_PLEASE_CHECK_MOBILE = "";
    string B_CONFIRM = "";

    string L_TITLE_WEB = "";

    string L_TYPE_OF_RESIDENCE = "";
    string L_OWNER = "";
    string L_RENTAL = "";

    string L_OTP_CUSTOMER = "";
    string L_ERROR_LOAD_CARD = "";

    //20.2
    string L_POPUP_REGISTER_WTTX_ROUTER_1 = "";
    string L_POPUP_REGISTER_WTTX_ROUTER_2 = "";
    string L_POPUP_REGISTER_WTTX_ROUTER_3 = "";
    string L_POPUP_REGISTER_WTTX_ROUTER_4 = "";
    //20.3 Service Level
    string SERVICE_LEVEL_H = "";
    string SERVICE_LEVEL_L = "";
    string SERVICE_LEVEL_FLAG_EXISTING = "";
    string SERVICE_LEVEL_FLAG_PA = "";
    //20.5 Non-Res Register Residential
    string NON_RESIDENTIAL_FOR = "";
    string NON_RESIDENTIAL_NONRESFLAG_YES = "";
    string NON_RESIDENTIAL_NONRESFLAG_NO = "";
    string L_POPUP_NON_RESIDENTIAL = "";
    string B_POPUP_NON_RESIDENTIAL_YES = "";
    string B_POPUP_NON_RESIDENTIAL_NO = "";
    //20.6
    string NON_RESIDENTIAL_DEFAULT_CARDTYPE = "";
    string MOBILE_INFO_BY_ONLINE_QUERY_USE = "";
    //R21.10 MOU
    string L_AIS_FIBRE_NO_MOU = "";
    string FBB_Con_MOU_FLAG = "";
    string LENGTH_MOBILE_INTERNET = "";
    string INPUT_MOBILE_INTERNET = "";
    //R22.1 Issue MOU
    string[] CONFIG_STATUS_MOBILE;

    //mesh arpu
    string package_display_mesh_001 = "";
    string package_display_mesh_002 = "";
    string package_displayDiscount_mesh_002 = "";
    string package_display_mesh_003 = "";
    string package_displayDiscount_mesh_003 = "";
    string package_displayDate_mesh_004 = "";
    string meshArpu_Month_Flag = "";


    string price_charge_mesh_001 = "";
    string price_charge_mesh_002 = "";
    string price_chargeDiscount_mesh_002 = "";
    string price_charge_mesh_003 = "";
    string price_chargeDiscount_mesh_003 = "";

    //releasPort 3bb chist699
    string popupMessageErrorReleasePort =  ViewBag.popupMessageErrorView != null ? ViewBag.popupMessageErrorView : "";



    if (ViewBag.MeshArpuFBBTR001 != null)
    {
        var MeshArpuFBBTR001 = (List<LovScreenValueModel>)ViewBag.MeshArpuFBBTR001;
        package_display_mesh_001 = MeshArpuFBBTR001.Any(c => c.Name == "SCREEN_PRICE_MONTH") ? MeshArpuFBBTR001.FirstOrDefault(c => c.Name == "SCREEN_PRICE_MONTH").DisplayValue : "";
        price_charge_mesh_001 = MeshArpuFBBTR001.Any(c => c.Name == "SCREEN_PRICE_MONTH") ? MeshArpuFBBTR001.FirstOrDefault(c => c.Name == "SCREEN_PRICE_MONTH").LovValue3 : "";



    }
    if (ViewBag.MeshArpuFBBTR002 != null)
    {
        var MeshArpuFBBTR002 = (List<LovScreenValueModel>)ViewBag.MeshArpuFBBTR002;
        package_display_mesh_002 = MeshArpuFBBTR002.Any(c => c.Name == "SCREEN_PRICE_MONTH") ? MeshArpuFBBTR002.FirstOrDefault(c => c.Name == "SCREEN_PRICE_MONTH").DisplayValue : "";
        package_displayDiscount_mesh_002 = MeshArpuFBBTR002.Any(c => c.Name == "SCREEN_PRICE_MONTH" && c.OrderByPDF == 2) ? MeshArpuFBBTR002.FirstOrDefault(c => c.Name == "SCREEN_PRICE_MONTH" && c.OrderByPDF == 2).DisplayValue : "";
        price_charge_mesh_002 = MeshArpuFBBTR002.Any(c => c.Name == "SCREEN_PRICE_MONTH") ? MeshArpuFBBTR002.FirstOrDefault(c => c.Name == "SCREEN_PRICE_MONTH").LovValue3 : "";
        price_chargeDiscount_mesh_002 = MeshArpuFBBTR002.Any(c => c.Name == "SCREEN_PRICE_MONTH" && c.OrderByPDF == 2) ? MeshArpuFBBTR002.FirstOrDefault(c => c.Name == "SCREEN_PRICE_MONTH" && c.OrderByPDF == 2).LovValue3 : "";



    }
    if (ViewBag.MeshArpuFBBTR003 != null)
    {
        var MeshArpuFBBTR003 = (List<LovScreenValueModel>)ViewBag.MeshArpuFBBTR003;
        package_display_mesh_003 = MeshArpuFBBTR003.Any(c => c.Name == "SCREEN_PRICE_MONTH") ? MeshArpuFBBTR003.FirstOrDefault(c => c.Name == "SCREEN_PRICE_MONTH").DisplayValue : "";
        package_displayDiscount_mesh_003 = MeshArpuFBBTR003.Any(c => c.Name == "SCREEN_PRICE_MONTH" && c.OrderByPDF == 2) ? MeshArpuFBBTR003.FirstOrDefault(c => c.Name == "SCREEN_PRICE_MONTH" && c.OrderByPDF == 2).DisplayValue : "";
        price_charge_mesh_003 = MeshArpuFBBTR003.Any(c => c.Name == "SCREEN_PRICE_MONTH") ? MeshArpuFBBTR003.FirstOrDefault(c => c.Name == "SCREEN_PRICE_MONTH").LovValue3 : "";
        price_chargeDiscount_mesh_003 = MeshArpuFBBTR003.Any(c => c.Name == "SCREEN_PRICE_MONTH" && c.OrderByPDF == 2) ? MeshArpuFBBTR003.FirstOrDefault(c => c.Name == "SCREEN_PRICE_MONTH" && c.OrderByPDF == 2).LovValue3 : "";

    }

    if (ViewBag.MeshArpuFBBTR004 != null)
    {
        var MeshArpuFBBTR004 = (List<LovScreenValueModel>)ViewBag.MeshArpuFBBTR004;
        package_displayDate_mesh_004 = MeshArpuFBBTR004.Any(c => c.Name == "SCREEN_PRICE_MONTH") ? MeshArpuFBBTR004.FirstOrDefault(c => c.Name == "SCREEN_PRICE_MONTH").DisplayValue : "";

    }
    if (ViewBag.MeshArpuFlag != null)
    {
        var MeshArpuFlag = (List<LovScreenValueModel>)ViewBag.MeshArpuFlag;
        meshArpu_Month_Flag = MeshArpuFlag.Any(c => c.Name == "SCREEN_PRICE_MONTH_FLAG") ? MeshArpuFlag.FirstOrDefault(c => c.Name == "SCREEN_PRICE_MONTH_FLAG").DisplayValue : "";
    }


    if (ViewBag.LabelFBBTR001 != null)
    {
        var LabelFBBTR001 = (List<LovScreenValueModel>)ViewBag.LabelFBBTR001;
        L_CHOOSE_CARD_TYPE = LabelFBBTR001.Any(c => c.Name == "L_CHOOSE_CARD_TYPE") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "L_CHOOSE_CARD_TYPE").DisplayValue : "";
        L_CARD_NUMBER = LabelFBBTR001.Any(c => c.Name == "L_CARD_NUMBER") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "L_CARD_NUMBER").DisplayValue : "";
        L_SELECT_ITEM = LabelFBBTR001.Any(c => c.Name == "L_SELECT_ITEM") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "L_SELECT_ITEM").DisplayValue : "";
        L_FILL_OUT = LabelFBBTR001.Any(c => c.Name == "L_FILL_OUT") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "L_FILL_OUT").DisplayValue : "";
        L_THK = LabelFBBTR001.Any(c => c.Name == "L_THK") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "L_THK").DisplayValue : "";
        L_TITLE_WEB = LabelFBBTR001.Any(c => c.Name == "L_TITLE_WEB") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "L_TITLE_WEB").DisplayValue : "";

        L_TYPE_OF_RESIDENCE = LabelFBBTR001.Any(c => c.Name == "L_TYPE_OF_RESIDENCE") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "L_TYPE_OF_RESIDENCE").DisplayValue : "";
        L_OWNER = LabelFBBTR001.Any(c => c.Name == "L_OWNER") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "L_OWNER").DisplayValue : "";
        L_RENTAL = LabelFBBTR001.Any(c => c.Name == "L_RENTAL") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "L_RENTAL").DisplayValue : "";

        L_OTP_CUSTOMER = LabelFBBTR001.Any(c => c.Name == "L_OTP_CUSTOMER") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "L_OTP_CUSTOMER").DisplayValue : "";
        MOBILE_INFO_BY_ONLINE_QUERY_USE = LabelFBBTR001.Any(c => c.Name == "MOBILE_INFO_BY_ONLINE_QUERY_USE") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "MOBILE_INFO_BY_ONLINE_QUERY_USE").DisplayValue : "";
    }

    if (ViewBag.LabelFBBTR002 != null)
    {
        var LabelFBBTR002 = (List<LovScreenValueModel>)ViewBag.LabelFBBTR002;
        L_INPUT_ID_CARD = LabelFBBTR002.Any(c => c.Name == "L_INPUT_ID_CARD") ? LabelFBBTR002.FirstOrDefault(c => c.Name == "L_INPUT_ID_CARD").DisplayValue : "";
        L_INPUT_ID_CARD_WRONG = LabelFBBTR002.Any(c => c.Name == "L_INPUT_ID_CARD_WRONG") ? LabelFBBTR002.FirstOrDefault(c => c.Name == "L_INPUT_ID_CARD_WRONG").DisplayValue : "";

    }

    if (ViewBag.LabelFBBTR003 != null)
    {
        var labelFBBTR003 = (List<LovScreenValueModel>)ViewBag.LabelFBBTR003;
        lCARD_TYPE = labelFBBTR003.Any(c => c.Name == "L_CARD_TYPE") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_CARD_TYPE").DisplayValue : "";
        L_ERROR_LOAD_CARD = labelFBBTR003.Any(c => c.Name == "L_ERROR_LOAD_CARD") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_ERROR_LOAD_CARD").DisplayValue : "";
    }

    if (ViewBag.LabelFBBTR004 != null)
    {
        var labelFBBTR004 = (List<LovScreenValueModel>)ViewBag.LabelFBBTR004;
        L_CONFIRM_SMS = labelFBBTR004.Any(c => c.Name == "L_CONFIRM_SMS") ? labelFBBTR004.FirstOrDefault(c => c.Name == "L_CONFIRM_SMS").DisplayValue : "";
        B_RECEIVED_SMS = labelFBBTR004.Any(c => c.Name == "B_RECEIVED_SMS") ? labelFBBTR004.FirstOrDefault(c => c.Name == "B_RECEIVED_SMS").DisplayValue : "";
        B_NO_SMS = labelFBBTR004.Any(c => c.Name == "B_NO_SMS") ? labelFBBTR004.FirstOrDefault(c => c.Name == "B_NO_SMS").DisplayValue : "";
        L_PLEASE_CHECK_MOBILE = labelFBBTR004.Any(c => c.Name == "L_PLEASE_CHECK_MOBILE") ? labelFBBTR004.FirstOrDefault(c => c.Name == "L_PLEASE_CHECK_MOBILE").DisplayValue : "";
        B_CONFIRM = labelFBBTR004.Any(c => c.Name == "B_CONFIRM") ? labelFBBTR004.FirstOrDefault(c => c.Name == "B_CONFIRM").DisplayValue : "";

        L_POPUP_REGISTER_WTTX_ROUTER_1 = labelFBBTR004.Any(c => c.Name == "L_POPUP_REGISTER_WTTX_ROUTER_1") ? labelFBBTR004.FirstOrDefault(c => c.Name == "L_POPUP_REGISTER_WTTX_ROUTER_1").DisplayValue : "";
        L_POPUP_REGISTER_WTTX_ROUTER_2 = labelFBBTR004.Any(c => c.Name == "L_POPUP_REGISTER_WTTX_ROUTER_2") ? labelFBBTR004.FirstOrDefault(c => c.Name == "L_POPUP_REGISTER_WTTX_ROUTER_2").DisplayValue : "";
        L_POPUP_REGISTER_WTTX_ROUTER_3 = labelFBBTR004.Any(c => c.Name == "L_POPUP_REGISTER_WTTX_ROUTER_3") ? labelFBBTR004.FirstOrDefault(c => c.Name == "L_POPUP_REGISTER_WTTX_ROUTER_3").DisplayValue : "";
        L_POPUP_REGISTER_WTTX_ROUTER_4 = labelFBBTR004.Any(c => c.Name == "L_POPUP_REGISTER_WTTX_ROUTER_4") ? labelFBBTR004.FirstOrDefault(c => c.Name == "L_POPUP_REGISTER_WTTX_ROUTER_4").DisplayValue : "";
        L_POPUP_NON_RESIDENTIAL = labelFBBTR004.Any(c => c.Name == "L_POPUP_NON_RESIDENTIAL") ? labelFBBTR004.FirstOrDefault(c => c.Name == "L_POPUP_NON_RESIDENTIAL").DisplayValue : "";
        B_POPUP_NON_RESIDENTIAL_YES = labelFBBTR004.Any(c => c.Name == "B_POPUP_NON_RESIDENTIAL_YES") ? labelFBBTR004.FirstOrDefault(c => c.Name == "B_POPUP_NON_RESIDENTIAL_YES").DisplayValue : "";
        B_POPUP_NON_RESIDENTIAL_NO = labelFBBTR004.Any(c => c.Name == "B_POPUP_NON_RESIDENTIAL_NO") ? labelFBBTR004.FirstOrDefault(c => c.Name == "B_POPUP_NON_RESIDENTIAL_NO").DisplayValue : "";
    }

    if (ViewBag.LabelFBBOR015 != null)
    {
        var LabelFBBOR015 = (List<LovScreenValueModel>)ViewBag.LabelFBBOR015;
        L_WELCOME = LabelFBBOR015.Any(c => c.Name == "L_WELCOME") ? LabelFBBOR015.FirstOrDefault(c => c.Name == "L_WELCOME").DisplayValue : "";
        L_WELCOME_1 = LabelFBBOR015.Any(c => c.Name == "L_WELCOME_1") ? LabelFBBOR015.FirstOrDefault(c => c.Name == "L_WELCOME_1").DisplayValue : "";
        L_WELCOME_2 = LabelFBBOR015.Any(c => c.Name == "L_WELCOME_2") ? LabelFBBOR015.FirstOrDefault(c => c.Name == "L_WELCOME_2").DisplayValue : "";
        L_WELCOME_3 = LabelFBBOR015.Any(c => c.Name == "L_WELCOME_3") ? LabelFBBOR015.FirstOrDefault(c => c.Name == "L_WELCOME_3").DisplayValue : "";
        L_WELCOME_4 = LabelFBBOR015.Any(c => c.Name == "L_WELCOME_4") ? LabelFBBOR015.FirstOrDefault(c => c.Name == "L_WELCOME_4").DisplayValue : "";
        L_WELCOME_5 = LabelFBBOR015.Any(c => c.Name == "L_WELCOME_5") ? LabelFBBOR015.FirstOrDefault(c => c.Name == "L_WELCOME_5").DisplayValue : "";
        L_WELCOME_DISCOUNT = LabelFBBOR015.Any(c => c.Name == "L_WELCOME_DISCOUNT") ? LabelFBBOR015.FirstOrDefault(c => c.Name == "L_WELCOME_DISCOUNT").DisplayValue : "";
        L_MOBILE_NUMBER = LabelFBBOR015.Any(c => c.Name == "L_MOBILE_NUMBER") ? LabelFBBOR015.FirstOrDefault(c => c.Name == "L_MOBILE_NUMBER").DisplayValue : "";
        B_NEXT = LabelFBBOR015.Any(c => c.Name == "B_NEXT") ? LabelFBBOR015.FirstOrDefault(c => c.Name == "B_NEXT").DisplayValue : "";

        L_INPUT_OTP_1 = LabelFBBOR015.Any(c => c.Name == "L_INPUT_OTP_1") ? LabelFBBOR015.FirstOrDefault(c => c.Name == "L_INPUT_OTP_1").DisplayValue : "";
        L_INPUT_OTP_2 = LabelFBBOR015.Any(c => c.Name == "L_INPUT_OTP_2") ? LabelFBBOR015.FirstOrDefault(c => c.Name == "L_INPUT_OTP_2").DisplayValue : "";
        L_INPUT_OTP_3 = LabelFBBOR015.Any(c => c.Name == "L_INPUT_OTP_3") ? LabelFBBOR015.FirstOrDefault(c => c.Name == "L_INPUT_OTP_3").DisplayValue : "";
        L_INPUT_OTP_4 = LabelFBBOR015.Any(c => c.Name == "L_INPUT_OTP_4") ? LabelFBBOR015.FirstOrDefault(c => c.Name == "L_INPUT_OTP_4").DisplayValue : "";
        L_INPUT_OTP_5 = LabelFBBOR015.Any(c => c.Name == "L_INPUT_OTP_5") ? LabelFBBOR015.FirstOrDefault(c => c.Name == "L_INPUT_OTP_5").DisplayValue : "";
        L_PW = LabelFBBOR015.Any(c => c.Name == "L_PASSWORD") ? LabelFBBOR015.FirstOrDefault(c => c.Name == "L_PASSWORD").DisplayValue : "";
        L_SHOW_PW = LabelFBBOR015.Any(c => c.Name == "L_SHOW_PASSWORD") ? LabelFBBOR015.FirstOrDefault(c => c.Name == "L_SHOW_PASSWORD").DisplayValue : "";
        L_REQUEST_PW = LabelFBBOR015.Any(c => c.Name == "L_REQUEST_PASSWORD") ? LabelFBBOR015.FirstOrDefault(c => c.Name == "L_REQUEST_PASSWORD").DisplayValue : "";
        B_OK = LabelFBBOR015.Any(c => c.Name == "B_OK") ? LabelFBBOR015.FirstOrDefault(c => c.Name == "B_OK").DisplayValue : "";
        B_BACK = LabelFBBOR015.Any(c => c.Name == "B_BACK") ? LabelFBBOR015.FirstOrDefault(c => c.Name == "B_BACK").DisplayValue : "";
        L_INCORRECT_OTP = LabelFBBOR015.Any(c => c.Name == "L_INCORRECT_OTP") ? LabelFBBOR015.FirstOrDefault(c => c.Name == "L_INCORRECT_OTP").DisplayValue : "";

        L_BUNDLING_CONDITION = LabelFBBOR015.Any(c => c.Name == "L_BUNDLING_CONDITION") ? LabelFBBOR015.FirstOrDefault(c => c.Name == "L_BUNDLING_CONDITION").DisplayValue : "";
        L_BUNDLING_CONDITION_DETAIL = LabelFBBOR015.Any(c => c.Name == "L_BUNDLING_CONDITION_DETAIL") ? LabelFBBOR015.FirstOrDefault(c => c.Name == "L_BUNDLING_CONDITION_DETAIL").DisplayValue : "";
        L_ERR_NOT_FOUND = LabelFBBOR015.Any(c => c.Name == "L_ERR_NOT_FOUND") ? LabelFBBOR015.FirstOrDefault(c => c.Name == "L_ERR_NOT_FOUND").DisplayValue : "";
        L_LOGIN_FAILED = LabelFBBOR015.Any(c => c.Name == "L_LOGIN_FAILED") ? LabelFBBOR015.FirstOrDefault(c => c.Name == "L_LOGIN_FAILED").DisplayValue : "";
        L_CLOSE_PW = LabelFBBOR015.Any(c => c.Name == "L_CLOSE_PASSWORD") ? LabelFBBOR015.FirstOrDefault(c => c.Name == "L_CLOSE_PASSWORD").DisplayValue : "";
        //R21.10
        L_AIS_FIBRE_NO_MOU = LabelFBBOR015.Any(c => c.Name == "L_AIS_FIBRE_NO_MOU") ? LabelFBBOR015.FirstOrDefault(c => c.Name == "L_AIS_FIBRE_NO_MOU").DisplayValue : "";
    }

    string SERVICE_YEAR_NO_RENTAL = "0";
    List<FbbConstantModel> SERENADE_NO_RENTALS = new List<FbbConstantModel>();

    if (ViewBag.FbbConstant != null)
    {

        var LabelFbbConstant = (List<FbbConstantModel>)ViewBag.FbbConstant;
        Length_PW = LabelFbbConstant.Any(f => f.Field == "Length_Password") ? LabelFbbConstant.First(f => f.Field == "Length_Password").Validation : "";
        Input_PW = LabelFbbConstant.Any(f => f.Field == "Input_Password") ? LabelFbbConstant.First(f => f.Field == "Input_Password").Validation : "";
        Input_MobileNo = LabelFbbConstant.Any(f => f.Field == "Input_MobileNo") ? LabelFbbConstant.First(f => f.Field == "Input_MobileNo").Validation : "";
        MobileLength = LabelFbbConstant.Any(f => f.Field == "Mobile Length") ? LabelFbbConstant.First(f => f.Field == "Mobile Length").Validation : "";
        PREPAID_USAGE = LabelFbbConstant.Any(f => f.Field == "PREPAID_USAGE") ? LabelFbbConstant.First(f => f.Field == "PREPAID_USAGE").Validation : "";
        CheckSerenadeArray = LabelFbbConstant.Where(p => p.Field == "SERENADE_MOBILE_SEGMENT").Select(p => p.Validation).ToArray();

        FBB_Con_LengthIDCardNumberHILL_CARD = LabelFbbConstant.Any(f => f.Field == "Length ID Card Number HILL_CARD") ? LabelFbbConstant.First(f => f.Field == "Length ID Card Number HILL_CARD").Validation : "";
        FBB_Con_LengthIDCardNumberID_CARD = LabelFbbConstant.Any(f => f.Field == "Length ID Card Number ID_CARD") ? LabelFbbConstant.First(f => f.Field == "Length ID Card Number ID_CARD").Validation : "";
        FBB_Con_LengthIDCardNumberIMM_CARD = LabelFbbConstant.Any(f => f.Field == "Length ID Card Number IMM_CARD") ? LabelFbbConstant.First(f => f.Field == "Length ID Card Number IMM_CARD").Validation : "";
        FBB_Con_LengthIDCardNumberMONK_CERT = LabelFbbConstant.Any(f => f.Field == "Length ID Card Number MONK_CERT") ? LabelFbbConstant.First(f => f.Field == "Length ID Card Number MONK_CERT").Validation : "";
        FBB_Con_Length_ID_Card_Number_STA_LET = LabelFbbConstant.Any(f => f.Field == "Length ID Card Number STA_LET") ? LabelFbbConstant.First(f => f.Field == "Length ID Card Number STA_LET").Validation : "";
        FBB_Con_Length_ID_Card_Number_ROY_LET = LabelFbbConstant.Any(f => f.Field == "Length ID Card Number ROY_LET") ? LabelFbbConstant.First(f => f.Field == "Length ID Card Number ROY_LET").Validation : "";
        FBB_Con_Length_ID_Card_Number_EMB_LET = LabelFbbConstant.Any(f => f.Field == "Length ID Card Number EMB_LET") ? LabelFbbConstant.First(f => f.Field == "Length ID Card Number EMB_LET").Validation : "";
        FBB_Con_Length_ID_Card_Number_CERT_FOUND = LabelFbbConstant.Any(f => f.Field == "Length ID Card Number CERT_FOUND") ? LabelFbbConstant.First(f => f.Field == "Length ID Card Number CERT_FOUND").Validation : "";
        FBB_Con_Length_ID_Card_Number_TAX_ID = LabelFbbConstant.Any(f => f.Field == "Length ID Card Number TAX_ID") ? LabelFbbConstant.First(f => f.Field == "Length ID Card Number TAX_ID").Validation : "";
        FBB_Con_Length_ID_Card_Number_PASSPORT = LabelFbbConstant.Any(f => f.Field == "Length ID Card Number PASSPORT") ? LabelFbbConstant.First(f => f.Field == "Length ID Card Number PASSPORT").Validation : "";
        FBB_Con_Length_ID_Card_Number_GOV_LET = LabelFbbConstant.Any(f => f.Field == "Length ID Card Number GOV LET") ? LabelFbbConstant.First(f => f.Field == "Length ID Card Number GOV LET").Validation : "";
        FBB_Con_Input_CERT_FOUND = LabelFbbConstant.Any(f => f.Field == "Input CERT_FOUND") ? LabelFbbConstant.First(f => f.Field == "Input CERT_FOUND").Validation : "";
        FBB_Con_Input_EMB_LET = LabelFbbConstant.Any(f => f.Field == "Input EMB_LET") ? LabelFbbConstant.First(f => f.Field == "Input EMB_LET").Validation : "";
        FBB_Con_Input_HILL_CARD = LabelFbbConstant.Any(f => f.Field == "Input HILL_CARD") ? LabelFbbConstant.First(f => f.Field == "Input HILL_CARD").Validation : "";
        FBB_Con_Input_ID_CARD = LabelFbbConstant.Any(f => f.Field == "Input ID_CARD") ? LabelFbbConstant.First(f => f.Field == "Input ID_CARD").Validation : "";
        FBB_Con_Input_IMM_CARD = LabelFbbConstant.Any(f => f.Field == "Input IMM_CARD") ? LabelFbbConstant.First(f => f.Field == "Input IMM_CARD").Validation : "";
        FBB_Con_Input_MONK_CERT = LabelFbbConstant.Any(f => f.Field == "Input MONK_CERT") ? LabelFbbConstant.First(f => f.Field == "Input MONK_CERT").Validation : "";
        FBB_Con_Input_PASSPORT = LabelFbbConstant.Any(f => f.Field == "Input PASSPORT") ? LabelFbbConstant.First(f => f.Field == "Input PASSPORT").Validation : "";
        FBB_Con_Input_ROY_LET = LabelFbbConstant.Any(f => f.Field == "Input ROY_LET") ? LabelFbbConstant.First(f => f.Field == "Input ROY_LET").Validation : "";
        FBB_Con_Input_STA_LET = LabelFbbConstant.Any(f => f.Field == "Input STA_LET") ? LabelFbbConstant.First(f => f.Field == "Input STA_LET").Validation : "";
        FBB_Con_Input_TAX_ID = LabelFbbConstant.Any(f => f.Field == "Input TAX_ID") ? LabelFbbConstant.First(f => f.Field == "Input TAX_ID").Validation : "";
        FBB_Con_Input_GOV_LET = LabelFbbConstant.Any(f => f.Field == "Input GOV_LET") ? LabelFbbConstant.First(f => f.Field == "Input GOV_LET").Validation : "";

        FBB_Con_RELATE_MOBILE_SEGMENT = LabelFbbConstant.Any(f => f.Field == "RELATE_MOBILE_SEGMENT") ? LabelFbbConstant.First(f => f.Field == "RELATE_MOBILE_SEGMENT").Validation : "Non AIS";

        SERVICE_YEAR_NO_RENTAL = LabelFbbConstant.Any(f => f.Field == "SERVICE_YEAR_NO_RENTAL") ? LabelFbbConstant.First(f => f.Field == "SERVICE_YEAR_NO_RENTAL").Validation : "";

        SERENADE_NO_RENTALS = LabelFbbConstant.Where(f => f.Field == "SERENADE_NO_RENTAL").ToList();

        //20.3 Service Level
        SERVICE_LEVEL_H = LabelFbbConstant.Any(f => f.Field == "SERVICE_LEVEL_H") ? LabelFbbConstant.First(f => f.Field == "SERVICE_LEVEL_H").Validation : "";
        SERVICE_LEVEL_L = LabelFbbConstant.Any(c => c.Field == "SERVICE_LEVEL_L") ? LabelFbbConstant.First(c => c.Field == "SERVICE_LEVEL_L").Validation : "";
        SERVICE_LEVEL_FLAG_EXISTING = LabelFbbConstant.Any(f => f.Field == "SERVICE_LEVEL_FLAG_EXISTING") ? LabelFbbConstant.First(f => f.Field == "SERVICE_LEVEL_FLAG_EXISTING").Validation : "";
        SERVICE_LEVEL_FLAG_PA = LabelFbbConstant.Any(f => f.Field == "SERVICE_LEVEL_FLAG_PA") ? LabelFbbConstant.First(f => f.Field == "SERVICE_LEVEL_FLAG_PA").Validation : "";
        //20.5 Non-Res Register Residential
        NON_RESIDENTIAL_FOR = LabelFbbConstant.Any(f => f.Field == "NON_RESIDENTIAL_FOR") ? LabelFbbConstant.First(f => f.Field == "NON_RESIDENTIAL_FOR").Validation : "";
        NON_RESIDENTIAL_NONRESFLAG_YES = LabelFbbConstant.Any(f => f.Field == "NON_RESIDENTIAL_NONRESFLAG_YES") ? LabelFbbConstant.First(f => f.Field == "NON_RESIDENTIAL_NONRESFLAG_YES").Validation : "";
        NON_RESIDENTIAL_NONRESFLAG_NO = LabelFbbConstant.Any(f => f.Field == "NON_RESIDENTIAL_NONRESFLAG_NO") ? LabelFbbConstant.First(f => f.Field == "NON_RESIDENTIAL_NONRESFLAG_NO").Validation : "";
        //20.6
        NON_RESIDENTIAL_DEFAULT_CARDTYPE = LabelFbbConstant.Any(f => f.Field == "NON_RESIDENTIAL_DEFAULT_CARDTYPE") ? LabelFbbConstant.FirstOrDefault(f => f.Field == "NON_RESIDENTIAL_DEFAULT_CARDTYPE").Validation : "";
        //R21.10
        FBB_Con_MOU_FLAG = LabelFbbConstant.Any(f => f.Field == "MOU_FLAG") ? LabelFbbConstant.First(f => f.Field == "MOU_FLAG").Validation : "";
        LENGTH_MOBILE_INTERNET = LabelFbbConstant.Any(f => f.Field == "LENGTH_MOBILE_INTERNET") ? LabelFbbConstant.First(f => f.Field == "LENGTH_MOBILE_INTERNET").Validation : "";
        INPUT_MOBILE_INTERNET = LabelFbbConstant.Any(f => f.Field == "INPUT_MOBILE_INTERNET") ? LabelFbbConstant.First(f => f.Field == "INPUT_MOBILE_INTERNET").Validation : "";
        //R22.1
        CONFIG_STATUS_MOBILE = LabelFbbConstant.Where(f => f.Field == "CONFIG_STATUS_MOBILE").Select(f => f.Validation).ToArray();
    }
    else
    {
        CheckSerenadeArray = null;
        CONFIG_STATUS_MOBILE = null;
    }

    var L_CLOSE001 = "";
    if (null != ViewBag.LCLOSE)
    {
        L_CLOSE001 = ViewBag.LCLOSE;
    }

    var nonCoverage = false;
    if (null != ViewBag.nonCoverage)
    {
        nonCoverage = ViewBag.nonCoverage;
    }


    string officer = "";
    if (null != ViewBag.officer)
    {
        officer = "1";
    }

    var isSaveCommplete = false;
    var productSubType = "";
    var languagePage = "";
    var lclose = "";
    var lsave = "";
    var lpopupsave = "";
    var vas_flag = "";
    var topUp = "";
    string officeEnd = "";

    if (null != ViewBag.TopUp)
    {
        topUp = ViewBag.TopUp;
    }
    if (null != ViewBag.SaveSuccess)
    {
        isSaveCommplete = ViewBag.SaveSuccess;
    }
    if (null != ViewBag.SWifi)
    {
        productSubType = ViewBag.SWiFi;
    }
    if (null != ViewBag.LanguagePage)
    {
        languagePage = ViewBag.LanguagePage;
    }
    if (null != ViewBag.LCLOSE)
    {
        lclose = ViewBag.LCLOSE;
    }
    if (null != ViewBag.LSAVE)
    {
        lsave = ViewBag.LSAVE;
    }
    if (null != ViewBag.LPOPUPSAVE)
    {
        lpopupsave = ViewBag.LPOPUPSAVE;
    }
    if (null != ViewBag.officeEnd)
    {
        officeEnd = ViewBag.officeEnd;
    }
    var ESRIflag = "false";
    if (null != ViewBag.ESRIflag)
    {
        ESRIflag = ViewBag.ESRIflag;
    }
    if (null != ViewBag.Vas)
    {
        vas_flag = ViewBag.Vas;
        if (vas_flag == "") { vas_flag = "0"; }
    }
    var CheckcoveragBypassflag = "false";
    if (null != ViewBag.CheckcoveragBypassflag)
    {
        CheckcoveragBypassflag = ViewBag.CheckcoveragBypassflag;
    }

    string mainCode = "";
    string ontopCode = "";
    string entrancefee = "0";
    if (Model.SummaryPanelModel.PackageModelList.Count > 0)
    {
        if (language == "1")
        {
            mainCode = Model.SummaryPanelModel.PackageModelList.FirstOrDefault(t => t.PACKAGE_TYPE == "1").PACKAGE_DISPLAY_THA;
            var ontopCodeData = Model.SummaryPanelModel.PackageModelList.FirstOrDefault(t => t.PACKAGE_TYPE == "4" && string.IsNullOrEmpty(t.AUTO_MAPPING_PROMOTION_CODE));
            ontopCode = ontopCodeData == null ? "" : ontopCodeData.SFF_WORD_IN_STATEMENT_THA.ToSafeString();
            if (ontopCode != "")
            {
                ontopCode = "และ" + ontopCode;
            }
        }
        else
        {
            mainCode = Model.SummaryPanelModel.PackageModelList.FirstOrDefault(t => t.PACKAGE_TYPE == "1").PACKAGE_DISPLAY_ENG;
            var ontopCodeData = Model.SummaryPanelModel.PackageModelList.FirstOrDefault(t => t.PACKAGE_TYPE == "4" && string.IsNullOrEmpty(t.AUTO_MAPPING_PROMOTION_CODE));
            ontopCode = ontopCodeData == null ? "" : ontopCodeData.SFF_WORD_IN_STATEMENT_ENG.ToSafeString();
            if (ontopCode != "")
            {
                ontopCode = "and" + ontopCode;
            }
        }
        var entrancefeeData = Model.SummaryPanelModel.PackageModelList.FirstOrDefault(t => t.PACKAGE_TYPE == "6");
        entrancefee = entrancefeeData == null ? "0" : entrancefeeData.PRICE_CHARGE.ToSafeString();
    }

    string LcCode = "";
    string ASCCode = "";
    string EmployeeID = "";
    string outType = "";
    string outSubType = "";
    string outMobileNo = "";
    string PartnerName = "";
    string outLocationEmailByRegion = "";
    string outEmpName = "";
    string mobilePhoneNumber = "";

    if (ViewBag.LcCode != null)
    {
        LcCode = ViewBag.LcCode;
    }
    if (ViewBag.ASCCode != null)
    {
        ASCCode = ViewBag.ASCCode;
    }
    if (ViewBag.EmployeeID != null)
    {
        EmployeeID = ViewBag.EmployeeID;
    }
    if (ViewBag.outType != null)
    {
        outType = ViewBag.outType;
    }
    if (ViewBag.outSubType != null)
    {
        outSubType = ViewBag.outSubType;
    }
    if (ViewBag.outMobileNo != null)
    {
        outMobileNo = ViewBag.outMobileNo;
    }
    if (ViewBag.PartnerName != null)
    {
        PartnerName = ViewBag.PartnerName;
    }
    if (ViewBag.outLocationEmailByRegion != null)
    {
        outLocationEmailByRegion = ViewBag.outLocationEmailByRegion;
    }
    if (ViewBag.outEmpName != null)
    {
        outEmpName = ViewBag.outEmpName;
    }
    if (Model.CoveragePanelModel.CoverageMemberGetMember.IM_ORDER)
    {
        mobilePhoneNumber = Model.CoveragePanelModel.CoverageMemberGetMember.CustomerMobileNo;
    }

    string outTitle = "";
    string outCompanyName = "";
    string outDistChn = "";
    string outChnSales = "";
    string outShopType = "";
    string outOperatorClass = "";
    string outASCTitleThai = "";
    string outASCPartnerName = "";
    string outMemberCategory = "";
    string outPosition = "";
    string outLocationRegion = "";
    string outLocationSubRegion = "";
    string THFirstName = "";
    string THLastName = "";
    //21.5
    string outLocationProvince = "";

    //19.2021
    if (ViewBag.outTitle != null)
    {
        outTitle = ViewBag.outTitle;
    }
    if (ViewBag.outCompanyName != null)
    {
        outCompanyName = ViewBag.outCompanyName;
    }
    if (ViewBag.outDistChn != null)
    {
        outDistChn = ViewBag.outDistChn;
    }
    if (ViewBag.outChnSales != null)
    {
        outChnSales = ViewBag.outChnSales;
    }
    if (ViewBag.outShopType != null)
    {
        outShopType = ViewBag.outShopType;
    }
    if (ViewBag.outOperatorClass != null)
    {
        outOperatorClass = ViewBag.outOperatorClass;
    }
    if (ViewBag.outASCTitleThai != null)
    {
        outASCTitleThai = ViewBag.outASCTitleThai;
    }
    if (ViewBag.outASCPartnerName != null)
    {
        outASCPartnerName = ViewBag.outASCPartnerName;
    }
    if (ViewBag.outMemberCategory != null)
    {
        outMemberCategory = ViewBag.outMemberCategory;
    }
    if (ViewBag.outPosition != null)
    {
        outPosition = ViewBag.outPosition;
    }
    if (ViewBag.outLocationRegion != null)
    {
        outLocationRegion = ViewBag.outLocationRegion;
    }
    if (ViewBag.outLocationSubRegion != null)
    {
        outLocationSubRegion = ViewBag.outLocationSubRegion;
    }
    if (ViewBag.THFirstName != null)
    {
        THFirstName = ViewBag.THFirstName;
    }
    if (ViewBag.THLastName != null)
    {
        THLastName = ViewBag.THLastName;
    }
    //21.5
    if (ViewBag.outLocationProvince != null)
    {
        outLocationProvince = ViewBag.outLocationProvince;
    }

    //20.2
    var isWTTx = false;
    if (ViewBag.isWTTx != null)
    {
        isWTTx = ViewBag.isWTTx;
    }

    string WTTxMSG = "";
    if (ViewBag.WTTxMSG != null)
    {
        WTTxMSG = ViewBag.WTTxMSG;
    }

    string WTTxErrorMSG = "";
    if (ViewBag.WTTxErrorMSG != null)
    {
        WTTxErrorMSG = ViewBag.WTTxErrorMSG;
    }

    //20.6 AI Chat Bot - Bypass
    var isAIChatBotBypass = false;
    if (Model != null && Model.AIChatBotBypass_Flag == "Y")
    {
        isAIChatBotBypass = true;
    }

}
<script>
    (function (w, d, s, l, i) {
        //For process bypass IM order.
        if ('@Model.CoveragePanelModel.CoverageMemberGetMember.IM_ORDER'.toLowerCase() == 'true') {
            sessionStorage.removeItem('firstloadbuildingcount');
            sessionStorage.removeItem('firstloadcount');
            sessionStorage.removeItem('firstloadCheckcount');
        }

        w[l] = w[l] || []; w[l].push({
            'gtm.start':

                new Date().getTime(), event: 'gtm.js'
        }); var f = d.getElementsByTagName(s)[0],

            j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =

                '//www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);

    })(window, document, 'script', 'dataLayer', 'GTM-NS998W');</script>

<!-- End Google Tag Manager -->
<html class="no-js" lang="th">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=10,9" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=0" />
    <meta name="date" content="2016-03-12" />
    <meta name="sitecode" content="TH" />

    <title>@L_TITLE_WEB</title>

    <meta name="description" content="สิทธิพิเศษจากเอไอเอสไฟเบอร์">
    <meta name="KeyWords" content="ais, เอไอเอส, เน็ต, อินเทอร์เน็ต, ไฟเบอร์" />
    <meta name="thumbnail" content="https://www.ais.co.th/fibre_postpaid/share.jpg" />
    <meta name="thumbnail_height" content="110">
    <!--Fix ขนาดของความสูง ไว้เท่านี้ ไม่เปลี่ยน-->
    <meta name="thumbnail_width" content="75">
    <!--Fix ขนาดของความกว้าง ไว้เท่านี้ ไม่เปลี่ยน-->
    <!-- Facebook Propertie แชร์ Facebook -->
    <meta property="og:title" content="AIS Fibre Broadband ความเร็วสูง 1 Gbps" />
    <meta property="og:description" content="สิทธิพิเศษจากเอไอเอสไฟเบอร์" />
    <meta property="og:image" content="https://www.ais.co.th/fibre_postpaid/share.jpg" />

    <!-- Tweet Propertie แชร์ Tweet -->
    <meta property="tw:description" content="สิทธิพิเศษจากเอไอเอสไฟเบอร์" />

    <!-- Google Plus แชร์  Google -->
    <meta itemprop="name" content="AIS Fibre Broadband ความเร็วสูง 1 Gbps">
    <meta itemprop="description" content="สิทธิพิเศษจากเอไอเอสไฟเบอร์">
    <meta itemprop="image" content="https://www.ais.co.th/fibre_postpaid/share.jpg">
    <script src="//assets.adobedtm.com/75133ce79ba1f2c516f7d5f09b683f779a12ac39/satelliteLib-2756bab2480cb6c2674fb064e707912a7e9432b2-staging.js"></script>


    <link rel="shortcut icon" href="~/favicon.ico" type="image/x-icon">


    @Styles.Render("~/bundles/css/2016")
    @Styles.Render("~/Content/Content2016/fibrepostpaid")
    @Styles.Render("~/Content/Content2016/helvetica")
    @Styles.Render("~/bundles/css/2016plugin")
    @Styles.Render("~/Content/css/bootsrapcss")

    <style type="text/css">
    @Html.CssMinify(
        @<text>
        .i-hidden {
            display: none;
        }

        fieldset {
            border: 2px solid #83ad47;
            -webkit-border-radius: 5px;
            -khtml-border-radius: 5px;
            -moz-border-radius: 5px;
            border-radius: 5px;
        }

        #tbl-popup {
            width: 100%;
        }

        .btnmodal {
            padding: 10px 15px;
            background-color: #58AA0C;
            color: #fff !important;
        }

            .btnmodal:hover {
                padding: 10px 15px;
                background-color: #4a831c;
                color: #fff;
                text-decoration: none;
            }

        .btnP1, .btnP1:hover, .btnP2 {
            background-color: #8dc63f;
            color: #fff;
        }

        .modal-dialog-center {
            margin-top: 10%;
        }

        .btnP1:hover {
            cursor: not-allowed;
        }

        .btnP2:hover {
            background-color: #000;
            color: #fff;
        }

        .btnP3, .btnP3:hover {
            color: #fff !important;
        }

        .btnP3 {
            background-color: #ccc;
        }

            .btnP3:hover {
                background-color: #aaa;
                text-decoration: none;
            }

        .subheader-en, .subheader-th {
            font-size: 34px;
            font-family: db_helvethaicaais_x55_regular;
            background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAR4AAAAmCAYAAAASl/SiAAAFEElEQVR4nO2d3VIcNxCFz8z+wAaMnaq8DFfmqcwz8FZchadxEvNndudHuVCfUo/QwjoYbTDnq+qSWtJotLbnWN033YQQIN4f51dncwCtGVxLxh224ZoWwAGAudnC2mBzHO/tmZmN9wA27hw9gFt3lgHA3z/2y8RLuDi9rPKeeZW3iP8jcwArRHF4CcH2+gTgI4ATZ0cAjq39zdkKUai8Lc0WSMLlrUUUrBFA4/zezkHxGuxMXNPbWGtjA4DO+o3t92B70L+1dYP535BEcwRwDeC7vScAuAFwb3PB+tdu/sF8CvXa+cHec2MtrL13vy3Y++i/eSQ875fNT9qnRfyQR8SP4xuSsBxiKjJL157Y3AJJdOauXSAKi29b2/MYSXhmrt86awrtIZKQNXb+BlEY6QPAH4gfO4UG9n4/Rhuy/pD1Z7Z378Zo/RNGgaVQbqzlLfE7kjh1iOJ2b3PBxujT6Pe2vnPr4cZfnUahlhCiNrrxiL1xfnW2tO5/zTON9swS8TbTYHprYj6JodrarQGAO0zzS3du7w1iOCR25EfyQxIesU8oEi/ld8Qc04m1H6zv80tsD50xBGReiTkmn1tiOAekZHmLFHbRZ7jF3NGQ+QxHCUOexva6QxRG5n3+cc+MiEn2DimH9RXTsO2re7YH8Jc7Y2f7wfk37jxedEdUCLkUaom9cX51xtvKS+AeK6TENfNKKySBYX7pACnpvUASHp/YznNLFJ+TzM9zSw1STod+Y+dqnBHfz/NHsHcxXxQwzSmV8klMTs8wzSENru3ceOdaCiBzST6v9IAoTMwVrRHzRWukxPeDm6P5PJJPjI8SHiFEdfKYWgghXh0JjxCiOhIeIUR1JDxCiOpIeIQQ1ZHwCCGqI+ERQlRHwiOEqI6ERwhRHQmPEKI6Eh4hRHUkPEKI6kh4hBDVkfAIIaoj4RFCVEfCI4SojoRHCFEdCY8QojoSHiFEdSQ8QojqSHiEENWR8AghqiPhEUJUp/ny5+d9n0H8OqwwLVJHfOG+kLUsL+zHaYvMZ1E7FsYb3RhbYFoYz1fvLJ1tF556LhT64eL08rnyy++at1LC2Feb9P8IWOmxNHeAVM3Rz7WIHwjH/PzSrMnmG8Tqk202xjrcR4XxBqmipX+O/Y+YVqBkf4lY5ZJn8P+wj5D+zvIP+IPr80MMSBU0x2x8RBKK0oe6QrlqJStnDpn1hX5eyXJX6wpt3vf+Jhv3lTBZXbMmmz28803B+tB5aVXCEq3Nlv7Mjfl2gRTG+Y9q7uby8q8LN5fv68fY50eUr8v3zf3n1vHPocPj39U+sW9pn9KzDYDbLc95I7nAsB/w+JYAxJrYPR7fEkp+qR23+CNiqdp1tmYorBsKc6W+FzSWx83XDVueGQrzJcv/7F4b3XZ2QCWMhRDVeSuh1i/F+dXZzLp5GEie+9+A8/mNkG3A9IY1YHqr7ZwfEG8xnBvMFztwcXq57yO8SSQ8+4EC8TNYmR0W2kPE/I7v58a8lu8vXNsihjIMywNiKDe338D8DYVvYz6Fb40odAwf720eiGJ3g2mIdW3+6Pze+TdIoRx9HxreIYWUA2J4SKGmqPqQ0+dj+FvEK6NQaw+cX53xpvISeENhTs3bPOvTKEBzt2ae2azQHiMK02yLbct5fcL05pUn+/0ty3/0K6SkdJfNl5LWvNG12Xyfre0K80yuc97PbRCFyvsUyYBpknvI+j7ZzpxPuDi97CDwL/sTIT5apmjjAAAAAElFTkSuQmCC) right center no-repeat;
            max-width: 405px;
            margin-top: 30px;
        }

        .subheader-th {
            color: #000;
        }

            .subheader-th span {
                color: #8dc63f;
            }

        .subheader-en {
            color: #000;
        }

            .subheader-en span {
                color: #8dc63f;
            }

        .vertical-alignment-helper {
            display: table;
            height: 100%;
            width: 100%;
            pointer-events: none;
        }

        .vertical-align-center {
            display: table-cell;
            vertical-align: middle;
            pointer-events: none;
        }

        .modal-content {
            width: inherit;
            height: inherit;
            margin: 0 auto;
            pointer-events: all;
        }

        .fa-6 {
            font-size: 10em;
        }

        .sod_select.disabled {
            border-color: #ccc !important;
            box-shadow: 0 0 2px rgba(0,0,0,.2) !important;
        }

        .tgreen {
          color: #8dc63f;
        }

        .add-border-rounded-green-wttx {
            border-radius: 8px;
            border: 3px solid #8dc63f;
            background: #fff;
        }

        .add-border-rounded-green-wttx h3 {
            line-height: 1.6;
        }

    </text>)

    </style>

    @Scripts.Render("~/bundles/js/jquery")
    @Scripts.Render("~/bundles/js/jquerymigrate")
    @Scripts.Render("~/bundles/js/boostrapjs")
    <script type="text/javascript">
        $.salt = '978692';
    </script>
    @Scripts.RenderFormat("<script src='{0}' defer></script>", "~/bundles/js/fibrenet")
    @Scripts.RenderFormat("<script src='{0}' defer></script>", "~/bundles/js/typeaheadjs")
    @Scripts.RenderFormat("<script src='{0}' defer></script>", "~/bundles/js/responsivefibrejs")
    @Scripts.Render("~/bundles/js/wbb")
    @* @if (System.Configuration.ConfigurationManager.AppSettings["AdobeAnalytic"] == "STG")
        {
            <script src="~/js/analytic/satelliteLib-2756bab2480cb6c2674fb064e707912a7e9432b2-staging.js"></script>
        }
        @if (System.Configuration.ConfigurationManager.AppSettings["AdobeAnalytic"] == "PROD")
        {
            <script src="~/js/analytic/satelliteLib-2756bab2480cb6c2674fb064e707912a7e9432b2.js"></script>
        } *@

    <style>

        #ais_topbar .topbar_ribbon {
            padding-left: 10px;
            float: left;
            height: 60px;
        }

        #ribbonking {
            width: 100%;
            height: 60px;
            background: url("/Images/bg1366.jpg") no-repeat center;
            background-color: #000;
        }

        #ribbonking_wrapper {
            height: 60px;
            margin: 0 auto;
            max-width: 1140px;
        }
    </style>

</head>
<body>
    <div id="ais_topbar">
        @*<div id="ribbonking">
                <div id="ribbonking_wrapper">
                    <div class="topbar_ribbon"><img src="~/Images/iconribbon.png" alt="ais logo"></div>
                </div>
            </div>*@

        @*R18.11 IdCard Reader on PC*@
        <div id="divIdCardReaderPc" style="display: none; /*position: fixed;*/ top: 0; left: 0; width: 100%;">
            <div class="modal-content" style="border: 0;">
                <div class="progress" style="height: 4px; margin-bottom: 0px; background-color: #f5f5f5; border-radius: 0px;">
                    <div id="barIdCardReaderPc" class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width:0%; background-color: #8dc63f">
                    </div>
                </div>
            </div>
        </div>

        @if (Session[WBBWeb.Extension.WebConstants.SessionKeys.CurrentUICulture].ToString() == "1")
        {
        @Html.Partial("_MenuTH")
        }
        else
        {
        @Html.Partial("_MenuEN")
        }
    </div>

    <div id="fibre_container">
        <form id="PrePostPaid" method="post" action="/Process/LoadCheckCoverage">
            <div id="container">
                <div id="box1_holder">

                    <div class="panel_ais paddingmedium">
                        <div class="row_ais">
                            <p class="clearfix"></p>
                            <p class="clearfix"></p>
                            <div class="col-xs-12 col-sm-12 col-md-12" style="max-width: 1500px; padding-left: 0 !important; padding-right: 0 !important">
                                <div class="col-xs-12" style="text-align: right; padding-left: 0 !important; padding-right: 0 !important">
                                    <a id="btnTh" href="~/WBB/ChangeCurrentCulture?culture=2" onclick="sessionStorage.setItem('detectedIE', '');">
                                        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGMAAAAiCAYAAABLP2dcAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAADJmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMwNjcgNzkuMTU3NzQ3LCAyMDE1LzAzLzMwLTIzOjQwOjQyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxNSAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NUE4N0U3OTY1RERDMTFFNUE0N0FDRjlBOEM5QTgxQzEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NUE4N0U3OTc1RERDMTFFNUE0N0FDRjlBOEM5QTgxQzEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1QTg3RTc5NDVEREMxMUU1QTQ3QUNGOUE4QzlBODFDMSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1QTg3RTc5NTVEREMxMUU1QTQ3QUNGOUE4QzlBODFDMSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pvnw+psAAAM1SURBVGhD7ZtNSFRRFMfP3IWbZlyp+UHpJnBZoKjQxkUGrUQjc8JBsdI+XSaM2zFbpYvMFn2Q5EekCUJUVkIEOmiEUWC4GCzUUDFwdNpp/o/3TZP4lHm+3rxX9weXd+97dzHv/t+595w757rWNyDJt+lp6u/uobGREVpcWKD1tTX5RGEGLiEoJTWV8ouKqKzyNB3IzpZPNomK8bizk+7f7qA1hwqQlr6fXC4hW/YksrpK4eVlrosNYWou1NOpqipuAxYDQty91S5vOZP+V0O0z+2WLfvyNRTi2ef54CDBDmovXYwK4poOhdbrvGccaxEaThFD493wMAX8TVy/0/WIDubkkOjv6na8EE7kaHEx+c6f47GHBkCMB4NcUVhPuddLnuRk0jQQ8JoUiSEpKYkO5+Wx5wqEcl8TS0paajSEsLcv+J+hxLARSgwb4SopKIxuh8RD39BLcns8srU9H8bGqPHKVWpovEZH8vOpuvykfPIn/kCAMrIy6XJ1jbwTP0biDAS6CHj1yMjKogd9T7gP+sYGaLEE/H6amvzCfeOlo7WVnvb00ovREeOWUX6shI4XFnFBHUxNTkbvoUAI4PYk84vpiQch8Nxqvs/O8BUfFgZja9EG9+3rN3yFIHjHrczNzG6UGVoJh+UdY6hpKg7wMbW13JAt81FixEGFr4otY6epbS8oMeLgRGkpr329Dzv3PCVth6Vi6M3Nh3JzZY/EELv+xZZnAwOyx2+amgN8bWtp4auZWCqG3ktvtyhaid5HAkvYCtYNTFdY1LWF3SzUNGUAuLew5nvt5v4HpMQwCGInuLNmeldKDIPAMmAhWFcgihkoMfYAInIEq2Z5VqaIgR+Dr0NvIV4JL+8YoWoRrNWkZ25G/XqOhbZ9AyvQ20HAdAXg8u62PbQbhvem7IbT/gPXMGVvSmE+SgwbocSwEQIph4rE8TMS4bRPIJD7qUgcnyc+cv4tEHkFBVxRWM/46Cgnm2saiDJvJSfhKqwFuVI3m6/z2EMDIJDjWV1fxw2FNbwPBqmh9iwtzs9zJjo0AP/MkYAKn48z9OwKxvXH0hJ9mpjgTHTdIwGyrg7L/GV2PixD9AshPYKfkBl/CAAAAABJRU5ErkJggg==" alt="" border="0" />
                                    </a>
                                    <a id="btnEn" href="~/WBB/ChangeCurrentCulture?culture=1" class="i-hidden" onclick="sessionStorage.setItem('detectedIE', '');">
                                        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGMAAAAiCAYAAABLP2dcAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAADJmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMwNjcgNzkuMTU3NzQ3LCAyMDE1LzAzLzMwLTIzOjQwOjQyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxNSAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OEM3QTM3QTI1RERDMTFFNTlGOUZGQUU4OEUzRTI2QTUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OEM3QTM3QTM1RERDMTFFNTlGOUZGQUU4OEUzRTI2QTUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4QzdBMzdBMDVEREMxMUU1OUY5RkZBRTg4RTNFMjZBNSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4QzdBMzdBMTVEREMxMUU1OUY5RkZBRTg4RTNFMjZBNSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Ph1BX6MAAANLSURBVGhD7ZvPS1RRFMfPPDE3GipqppRCWAOFlqajmxZFBi1CVCojyzLSxoUUSdJAqwSDNv0a24SikE7kj41B9geYTBm4EtpoMU7+okxXIprf431mNs903vPNm7gfuNyfDPPe991zz7nca1tahgRfR0epq72DvP39NDU5SUuLi6JHYgQ2RaGExETKLSig4rLztCctTfSssCrGq7Y2am56TotCgKioKIqNj+eylfk+PU3z8/OiFj4oy8JcuVFNZ8vLRYsQA0K8eObmhkNZWXTxWiUdzslhJa1OnbOGhgYHRS38qKxxrgqifBkZ4RkBzpSW0sMmNx3JzQ0LIf4H8O6hAVC6XrazacrMzibnrZtSBJPBu4cGQPkwMMCFy1XXpRAhQtVAgdcUHRNDBzMzuUFiPtAAKHBfE5ISyWazcYPEfNQQgu1SREQEVyShRS4SFkKKYSFshY78pX37M8jd2iqaNkfJyUKam50VtcAgXml88pgeNT6gT14vtXS+Fj1/0uBykd83Rk9bmkXL5tEb9K0NugLh9/mooqSUx2AsgmMEyetxNTRQhv0Ajw2Gt+/7g58Zne/6+AeQUAYZdvtqGxKEAHOzP/mhtMSDEOgPBckpqZzj4zqVX/BXUl/usRPHOYcgeM717E5NWU6p7JkGizRTWwQfVG39HVEzFinGFvG0tvHM2Mi0BYsUY4u86enh9e/cpXJdJikQpoqhZZc/Dw+LEaFj7Rq4Np0uKhIjfnP/rovz2vp6zo3CVDG0HjjQgmg2Wh8KZsJ6sG7AXGFRVxd2I5BmKkjg3mJGX3U6RYt+pBg6QPwEd9Yo70qKoQPMDMwQrCsQRS9SDJ0gIkfAaoRnZYgY+CP4MrQW4uiYnRtGp2r0Ggq+ja1E/lrOhbqFg1mgtYsAcwXg8v5ri2gjgt6bsgrhfiBBBcJLM2UhpBgWQophIRScCJn5MSOqklCgnspRcPZzamKCJsfHuUFiPtAAKEcdDi50d3g4l5iPqoFSfKGMD+F2ezz0URymkpgH3j004PLe9HSqqK7iY4b3btfxlYCFhQXulGw/OIkODUDAKwGxcXGUnZdHScm7KDJyBw+0Kn29vTTu94ta+KB5JUCU5WWZbQZek/ZlGaJfCFh6RDoT4XEAAAAASUVORK5CYII=" alt="" border="0" />
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="row_ais">
                            <div class="column large-12">
                                <div class="fibrelogo">
                                    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJUAAABWCAYAAADG3tRVAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAFQ5JREFUeNrsXQmUFEW2jaxqFGTRjxug348L4oYs1QwqKKCCyCAfRnbBARRRZ0Z0+OB8ReWLc4bjPgougOAgKAqIIDiyHnDBEakGRB1GUFAGFxYZGGWVqn9v5cvu7OysqoyqrO6iO985r6MzMiMyMuLmey9evIwy4vG4CiggP8kIuiD/aPi0wjCS5uDLwBeAzwc3BJ8AriOX7QdvA/8JPOWx/qvjAagCcgLpDCTXgbuALwfXTHH5T+BnwU8DTF8HkiogJ5D6gnuBW3goQjCNAz8KMO0M1F9ACRoxvbA27NhecWX8GodtPI4BVdtU8D0A0zdVxqZatbFpXSSXgBf9otG6nwP4lKZRr0YuPxJXN2Fe1BN8XCxuKE6S4umHoAh8G8C0qkoa6gDWfyAZA34DwFpS1YH04OzISQDPAGBnCPj8WJwiJ64SqXAsZqiYe3Ea4qPBjwNQR9VL6rv6A7COQTIJfAp4JMD1cVUC0ti5EQNYaQvA3ALwXI/0mAR4IJlKgYlSKpGa5xxSazX4BoDp88ClUAIs1vsA+D7wTL60ANdnlRlMjy0oPB24uBE8GIA5uwQ8pkEULwaPsoErLqAqPo+i8bEA12gA6vDR2hc5NdQBrhuQvACm9JoFfhjgWl1ZgDR+YaTGkZjqDkAMBCauBjgMShs7YOzgsoHHzFclUgvndiDpO7ZvdOnR3i85n/0BWDTe3wCfKlkr6F8Bzz0aDfqJSyMhAKA1ADAAaW+kdeIJ1RYvBkoJmCRf2QFlB1qx5HoPae+Heuf/zC5vXAoAFv0xr4Mjtmx24BROlQGuvLYdpr5TSCC1AveLx9T1SOsrm8HtBhgnuI5YoCtzTk0AuH43usfqQ5VFgpebnwrAqq5Mx91NLqc/FNtrFgD2VT50zIz3W9QGGDpi3LsAAJ0x+KcUG9VUWzHLXjLBpVzAFbOklVJuKvFn/D/s3u7RZyqbfVnuzk+Ai6AaDz42ySWfgt8GLwP/DSD7oTza9cYqgEgZrWOxeDsMeDsMeCGOw3aAKKUcMzbbTI7SJ2ZJIUNA56ISEzZXfBeOe9zdNbq8Mk5aKsSjDmBxsfRl8HkeLt8AXokBofOPanJjq3PX/TPTey9c27wa6moIPhsD2wSD3Az/R/D/uXH2Rxm7x5JIjpmbMkrOxSzQeVKJ6/F/1+Fdolsq60y4wpZpAKwanImDb9MpJ5E6+zCom/DGf490N0ZrN7J349xBSyqY1xo1cU1d5J+MrBOR1ocUoX0XjjsH3Q4aZRnZpspSpWZvRlnDWwBmV4lxd3DNAN88rHP0p8rsXqnwtT+AiyvzlrPUI7LMgVd2APFRbNN0B7hM52IpiWGUqDOb2lLihCwlkWLxUuXMusqCK4W9xSpG3t4x+piqAlRhoBo+rZD35ur8nN6tDtdC+gh4cAZSqzS4LLDY8iwJoyxD2QZMyzZSNinl9CPFXVSiHXh29Wga46Xsra9xfsDQq6PvqCpCoYq6sQSVcdY3f+aqguNhkNOAbyd2k7c3wjA58SCGyYaRsIwSb0vIlobolsTThnAQNkrKMj8css6Z14aRF0qwVaecwwHTcMi8xrrOOrbKhKUu1DktZBgXVyVA5YX6GzG9sAcGYxIGYcif+kRnQh1yVjgC/AeVOlAtqeTSVomqxBnpqhKVcjXS41KZi731Da67Y8AV0dmqClJexFPdMyPyJN7oYQDWy3jT7xjdY/UugKu+MiMeBtKw9sveisXLqkvLf1RKJSYuKqsSlcM9YNlbogKPoK6nUOcDfdtE/62qKOUFqO57rbAAKmYJANUWqmgH/v/NqO7RmWLIn4PkfnA/HXAls7ecgMvU3nL6rZDOBY/qcWnRJ6qKU95Efv7f7MJToQZXAVBnhE0bZh5ANnzEddFNAq6GSP4HPAh8nC64xOmYViXawRV3uBuSuCAWIhnVrWVR1gvlg7p2MkQy9wAz6HEN+OEp897ekkWdhUhuMOWuehF1rdcoyw8urlFmqPPJ4ALwbvC3ygzPedetbXkVTvzHOZEmANNKgKkW1CEN38MwesehkQ8O6xz9l4CLX5MwFPcW8EUV5ILYh+Ql5I3rEin6REJ9qmOysT9LUD2JZJgjm7HozTB42zKojx9QMOqhmmSxfZejrmiacuzXP4Ov9HCblcpcfnsV9cYqdPbnRvd2j64HoHqHDSMms6xqGK278P8X4xcV/uG5xZHaGLi94KfBTdjZ4orYlE4eG6VmgqbrnDNFwyjJs88gDYIaB9YsEbO7GEC+DP8PDYVVg84t1tx6Sp0jnwJQ3VDtZJEE2QCKA3mHy6mTKMgz9dzYAEWqkeQe9nbQzIh6BBSJn5FxdaRIniE/P3x4fEHkVozns+Ygc3Bleh9SezDMTwNsfx7cvvTXJBhcLvlcC75CmR8UnJSNvSUSahvyl+BgOfLeurLJ2u1yL8aH9QH/Hvxf4JYA+aYsQTVZVLsbMYLhDEiC7zXrXI6krSN7LurpluR6XrssC2GzGdyoIB9B9ftfRp976q+R0wCoUTZA4Q0wjg+H1Sgcj3jpnchs4G0y/l/Wr000jkHlGiH5CVFHHOyLwRcq80PM08H1wHVQjhETNQGcvaGEFjR24C8GzNiGgy+Q9zEAtb7N+Wu3OYDbCMkAUb2MD2M8WBcfAHWKTESSEUH8G5mw5JLGZ6m9zgQ3yOtPtJ5ZFAGo1JiwSCzD5pw0VVJCVW1G3kxcNx/pyl+1KjriZxtk9skPPOn9v9RxejAANcUHA320MsOvU9FOkVb7cyGpcG1EjG8n0RnN9n0kgOPLehX4RnB9x7V7mFeQz6C6vWP0oYlLIzsBqPEAVCgsHmsLUAm7y1Bn4ngk7J+RANgPb65usRTHqziTxLXRTs3XeF68/fDzpuyPxijPaNWWYlc0StY8nwBFqXm7h0upzvuDJ+aou1u75NFO7AAQfu0A2WK0e5Soa6ZnCKAGEfR5DSrSkKuiz01ZXrgVIHkZwKkTthnXxf+HDGuJpC6Oe+L/ngnwAXSL1zX7Dv9/hfwtuG4PgLcfx/twmr6x2uBasKbqIe8sdg6OvfQJAfWsT4/YT6brdvoOvEikgZ3uxGBOwsDlYt+EBi55+xyAKibkU/VPFFuQZbcj76ASv0Pe06B2qxdMezfSCmCZh0FvVCyxEut45iwuZF/LE0CFTNDVw2E9AKpV8XUyC1QyC7TyPExbDnCgAaiZvjyX6Ze6y+XUBPAcF1Bxs46O4IU56GY3iV4LbewDsMxIVgjnaG5steeF1FFC/S+PbgBIWgBEL4aKVV+J1JJpf2Ix1wYoMfKNYuCVchuoEjB6ABSN9qv8ApTQ1S6+NkqACRistUjfd5vH5KiLkwU+vgxgvQruCD7GS0VHDahIfVoX/djrsqJBABTV23clPiaJGAiVSKsSsJUGVAI/jggED8SvgS4GoFb6/EhuUmqOzdE53uV8R8sf5DO9rUp8xA4vX2KSQum4G/eeB74N3LBSgMoizPBmQSI1Bj8dDsWPFLscbIAKF+eVBpB1nOit9IDaJTO87n7HymNQLL+a27TeIkY5uPmm7vS7TwFkLr1MTXMZl8cYVMmPNTbjGVaBhzgl2FEJKtJ1hUV7u0SK7gBAzguF1V8ApiOWrVViUwm4ij3qngG1T5me+nP8mOFpSKlPMLgrbAN9SOyrMtYABvLkHLTpt0lUbjJqKe3bhPZce9SDyqJOzddsuqbpmoEAS0MAZQzsp60WoIoD9RwGeQpAfWlNkQEm7gPxr5xMPLp2OlGcqKmklEXPg52+N8ac3ZYDafUjkvbSBzqhO/8Jfotq0dt85yijFZ8146SwENwZD3cZ1B1X2E9KMsPjintU3s4FdP4BSDnf5hCdfy+Sh1xmX42TzMKmgX/pyNsuztCDfjg/XcrWkdlnb2Wu73kRQAR/s4LKBqq2F6wlKD4StpyaXJqhL4WOxrAM3He5kkRpBstacnFSzRQzMDfi0g5DWibnop0A3l5lRh+MQ5u5RdRVAuzOKvlHKuzb4ZUOVG7U6tx17KC9edIcvvn1/bLLMOBTcuQMtQOMEp0brMzC/SixuGh/v6hKJ3UIqYDKm+7ysa6LRIKUGzFmCrxc7rvA5ZL6BcEYl6vqa6fMraz9BukSH9rWXuw8qro3wWPEcE8GrjjKLHWx9WIBqMqX3PxLHLgvPJbnrPF0R15n+rwwyBuyABTV8XxVEqbNMOK+yOdXTbNkKcZZhlOea1yq+zYAVflJKYbQdHU59UcM2liPdXB2uCGJtBqaRfMuVWXj/ukm4JofnZxcUXhPmds/kbj4PjiJ6l0Z2FTlR8NcXDhcoPYcygLw/UOZ0QtOulF8X5nS5hTnzhTQ0rv/gfD0FLbcswGoyo/6u+TNAFB2adYzziWvuotto2N886udR314xpe4IhCAqvzIzdR4KoN6OONyC19224lvh0veziTAov3EsJq/Z/h8lGQ3858AVOVHTzqOJ4mE0J7Siyq1f72zUWZsTnpYmZ9lWURf3eMp6l6MhF8p9ZIZpZcvhAjCgeCeslYZ/IxIORrq7OvuylyEXQee6Tar0qiPrgkutzCMd4o4KN2uYzg0v/zhvV7BdZs17kH3Ar8dbKrMj0Ysu223gGkl6lsdjG5AAQUUUEABBRRQQAEFFFBAAQUUUED5SFk7P4f+9i7WwZ+xr17Obacz7+7nxz3xs60tdNIN0qjjCZT/ylaeu9fp7KwyE+XfD2BUmvwIfeEmFndXQNvn2wElxO0b+3ssz3jw4Y48xnwP81ieSxiPBRAqS36s/Q2toLZPcEhMSpmeGuVfACidyyS3aJRfiPJbAwj5DCoMJL+q6FYB7aaUecuRRwl1rMfy/FBgsuNZ+BnSRZmCOiD/1N9AVXpPyVREVcUw1Z0+tPuwi5Th79tM9Vg+hvJ7s5BS/ER8fgAfnw11MdC5AdY5Hou8joG8Ph87Ac9ygjJDZWt4LPIQnuW+AD7+S6q2GoBK2DB53A8DNABF6gUgXif/nyDpv2VGelCkMQPkaHNxs/51AOGGHL0Q/ICTZgg/luU+pKdJ2sCW3on7f5iijtrKDMm5UMaUZRjqUltMCvbNAWFGqn4vAoXxYO+i7h/8ApWOuuBubG/nUMo8qVFkOjphsSPvJs3bnptBO78SFU03xk8erq+RBigc9PoCqFQa5zk3QKF+brLLYDx+cdwsC611BHVxbMdY9zEyHEjuP8k9lI7xWOR+3HBMjkD1O+U9LJcG+pkO39QvlPlrXuVFDG5rizbscHkW7pT3uoCljk/3iuBe+21Srbe4Ulr4/Fzs2wc4zplKql9rAOqIruqb9d4FfHju38Qdc/kzGAd6tPlsZJLLb9aoepEdUBXkEuFkhZvt355E+jf26T4M7e1rA1R7efku8gAO7uL3MZh7TdBVw+jPhh7s8wdxn88LMpAMhobqY9jpS3iwb1IAKCTqpKVwRMSx/Tu0G5O0hVLmYo3mT3SUpzToo1n+GelskrVxBbfeOV6jnktcnqV6sudMQtvFrvmn8DbhrZJ+S+cw6uXsnHtteXHqcuvJe1Buk8uY07H8sIc6Mtqgo00Sm4JTdP54dtRiNO7LJACK2KQQY61rpQFmsn02daQMjct5Lr4trz+exDd4rOOZttBYRafzw4M3NNrithd6TwGpV7oabVmfRgDQ0J6jvO23MAz1uZoRyOezP4L6uJ/8FWnqaZ4JqG4RAEUdvElubgHI6NDngkYCHksKpQOQG02F6jvg0mG6UmYy2nfYkTdEo/wS50tio6jmM72b5cTnAw+AoqG/QFRXOnomGaActMYDqAoyAdU9FNNOAHEqChBFbFIo4pOxmcxzrStlJjk63VKzXmlSinPtNZ9puqMtjUUD+Omeed4joOgi+F+P9/WyYrFHG1Rc7wKIzrIBqKWoMT8A5KT3IKU+88Gl4SZldFTnjjTqLVspo1Oe/rAZaaRUX+W+/aPry+KyumCvi5qFtiuXsa7xUN+XaUFFADmkT0RT92dDLyR5ULahaRYGOm2NvhrlX0THH0rSlvM1pYyzLcfKbNorTUvl5xK190imEhjl+ZMgrQVEl0k/hzXq21DgANAZInXsUqiuqhjiR5Kv+WCgU8rMdeT11bTtUi0e36wpZZzPxKWrE31qC4lbP57msS7+Cn1dAGmYAKi1RtmkvrECAKmRDUT2bZT5+yhvqoqjv0H17Usyo8lWyuiAcplziu2zlNFRfR+h/NoUUqpAeY8HU2J0++X4PSQz7JUFGDhOhzem09N5RFlJGXQ8Pck63uRUW/1kJWXEQG+rY9KmOc8ll9N97u/dApZt4htzpvRBfg+wF+9e48lQx8O3EbXohRgROQ43ieUIVNlKGR11tUv8PH4Y6G5SRmfNkTvuvZrmmn4a9XHR+0sBzLeimay0+H+0+aDuAHmd/fFnyLwGsP3Vo89DH02mgd4i0zcb5Wsq7+HGpL8k69RspQzKc5lroEb5V9CWH1P0DR3L12rU1yGVKs2GQh4GMp8iIm/SlDJOA53O0to+PYtOW9zcAN1U2d/5y0b1na3h1tmeK0B5ApXKk4hIn6SMjmT4O8r/I0lbdKXMDBcDXUeNF6F8Oq99fc0XLtvxOE5WNfTUnxTS+ZhgissXLn5RVlJGgHCJRnl2mmFfOfBLyqBeBsJd6aOUsmwur9QYbThPJ3BQnKCtxO3QVtxNZ2ViU+kuheQyulPnzV7hImWqK72gRP4A9SR0JkOHN9s6l/XcmqWU0VlzJFhe8SJZ5VovM2NqqA/wLPyBpWUyk6NX/VjppwbCdOxeKCnVa9hh4+3MBFTZLoX4pfqayZuRsS3EpQiJJmikUQ+3dR6MclyIPqj0F8PdpFQ1Td/Wa2h72l+0YtwU6ua9hnuslxGz9wpnQhO0bSqJVWqaaef5TDpvNu2F2UnOMTDuQAb3r5YhoNykDPdSPzVH/cq4riUq90SpuCITQz3bWCW/pBTV7w0aRaYlcwMgnx1eKG3NlR9tj3Q44+Z/5SJldPqVH0ys8oy+cU8cELcCdxre4eMzsT8ZrsPtDTqBmyexNZOrP4llrpcKjQ563SVWyS8iCNb69WajnZ8i+W+Js6fBSdXaRJV8RMDFcrcoTk5AfhLQ0MtMe4JOQkZdMtqSUZgbUf+WFC/ICdLnK3IgpaznYzsfxb3oK+ygzLAcPmNDmVzUcZGmh0TC/yDPxQ9V+Bw0Zz6V5/I8ATPi8Zz/ZmJAVYz+X4ABABuCfqSNlquqAAAAAElFTkSuQmCC" alt="" />
                                </div>
                                <div class="welcometext">@L_WELCOME</div>
                            </div>
                        </div>
                        <div class="row_ais">
                            <div class="column large-4">
                                <div id="welcome_msg" class="subheader">@L_WELCOME_1 <span>@L_WELCOME_2</span></div>
                                <div class="detailtext">
                                    @L_WELCOME_3<br>
                                    @L_WELCOME_4<br>
                                    @L_WELCOME_5
                                </div>
                            </div>
                        </div>
                        <div id="divBoxform" class="boxform" style="@(isAIChatBotBypass ? "display:none;" : "")">
                            <div id="col-form">
                                <div class="row_ais">
                                    <div class="column large-5 medium-6 small-12">
                                        <div class="labeltext">@(Html.Raw(L_WELCOME_DISCOUNT))</div>
                                        <div class="mobile-number">
                                            <input id="AisAirNumber" class="inputform" type="text" autocomplete="off" maxlength="10" placeholder="@L_MOBILE_NUMBER" value="@mobilePhoneNumber">
                                        </div>

                                        @*R21.10 MOU*@
                                        @if (FBB_Con_MOU_FLAG == "Y")
                                        {
                                            if (officer == "1")
                                            {
                                        <div class="internet-number">
                                            <input id="InternetNumber" class="inputform" type="text" autocomplete="off" maxlength="@LENGTH_MOBILE_INTERNET" placeholder="@L_AIS_FIBRE_NO_MOU" value="">
                                        </div>
                                            }
                                        }

                                        <div id="searchProfileCardNoType" style="display: none;">
                                            <div class="cardtype">
                                                <select id="ID_CARD_NAMEs" onchange="onChangeID_CARD_NAMEs(this);" data-placeholder-option="true"
                                                        class="basic" title="@L_SELECT_ITEM"></select>
                                            </div>
                                            <div class="card-number">
                                                <input type="text" class="inputform" id="L_CARD_NOs" autocomplete="off" placeholder="@L_CARD_NUMBER" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row_ais">
                                    <div class="column large-5">
                                        <div class="submit-manual">


                                            <input id="CancleIdCard" class="btnP3 btn btn-for-xs i-hidden" type="button" style="font-size:20px; border: 0 !important; border-radius: 0 !important; display: none" value="@B_BACK" onclick="Cancle()" />

                                            @if (vas_flag == "1")
                                            {
                                            <input id="backProcessSelect" class="btnP3 btn btn-for-xs" type="button" style="font-size:20px; border: 0 !important; border-radius: 0 !important" value="@B_BACK" onclick="window.location.href = '/ProcessSelect/'" />
                                            }
                                            else if (vas_flag == "3")
                                            {
                                            <input id="backtripleplay" class="btnP3 btn btn-for-xs" type="button" style="font-size:20px; border: 0 !important; border-radius: 0 !important" value="@B_BACK" onclick="window.location.href = '/Process/tripleplay'" />
                                            }
                                            else if (officer != "" && Model.MemberGetMemberFlag != "Y")
                                            {
                                            <input id="backOfficer" class="btnP3 btn btn-for-xs" type="button" style="font-size:20px; border: 0 !important; border-radius: 0 !important" value="@B_BACK" onclick="backToMenuOfficer()" />
                                            }

                                            <input id="Continue1" class="btnP1 btn btn-for-xs" type="button" style="font-size: 20px; border: 0 !important; border-radius: 0 !important; " value="@B_NEXT" />
                                            <input id="Continue2" class="btnP2 btn btn-for-xs i-hidden" type="button" style="font-size: 20px; border: 0 !important; border-radius: 0 !important; display: none;" value="@B_NEXT" onclick="checkProcess()" />
                                            <input id="Continue3" class="btnP2 btn btn-for-xs i-hidden" type="button" style="font-size: 20px; border: 0 !important; border-radius: 0 !important; display: none;" value="@B_NEXT" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div id="col-OTP" style="display: none;">
                                <div class="row_ais">
                                    <div class="column large-5 medium-6 small-12">
                                        <div class="labeltext">@(Html.Raw(L_INPUT_OTP_1)) @(Html.Raw(L_INPUT_OTP_2)) @(Html.Raw(L_INPUT_OTP_3)) @(Html.Raw(L_INPUT_OTP_4)) @(Html.Raw(L_INPUT_OTP_5))</div>
                                        <div class="mobile-number">
                                            <input id="passOTP" class="inputform" type="password" autocomplete="off" maxlength="@Length_PW" placeholder="@L_PW">
                                        </div>
                                    </div>
                                </div>

                                <div class="row_ais">
                                    <div class="column large-5">
                                        <div class="submit-manual">

                                            <a id="showPass" style="color: gray;" onclick="ShowPW()">@L_SHOW_PW</a> <span style="font-size: large; color: gray;">|</span> <a style="color: gray;" onclick="SentPW()">@L_REQUEST_PW</a>
                                        </div>
                                    </div>
                                </div>

                                <div class="row_ais">
                                    <div class="column large-5">
                                        <div class="submit-manual">

                                            <input id="otpOK1" class="btnP1 btn btn-for-xs" type="button" style="font-size: 20px; border: 0 !important; border-radius: 0 !important; " value="@B_OK" />
                                            <input id="otpOK2" class="btnP2 btn btn-for-xs i-hidden" type="button" style="font-size: 20px; border: 0 !important; border-radius: 0 !important; " onclick="SubmitOTP()" value="@B_OK" />
                                            <input id="otpCancle" class="btnP3 btn btn-for-xs" type="button" style="font-size: 20px; border: 0 !important; border-radius: 0 !important; " onclick="BackOTP()" value="@B_BACK" />
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div id="col-err" style="display: none;">
                                <div class="row_ais">
                                    <div class="column large-5 medium-6 small-12">

                                        <h1 style="color: #91908e">@L_LOGIN_FAILED</h1>
                                        <h3 id="lb-failed"></h3>

                                        <br />
                                        <br />
                                        <br />
                                    </div>
                                </div>
                                <div class="row_ais">
                                    <div class="column large-5">
                                        <div class="submit-manual">

                                            <input id="btOK" class="btnP2 btn btn-for-xs" type="button" style="font-size:20px;" onclick="backForm()" value="@B_OK" />
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div id="idCardErrorMessage" style="display: none;">
                                <div class="row_ais">
                                    <div class="column large-5 medium-6 small-12">
                                        <br />
                                        <h4 style="color: red">@L_INPUT_ID_CARD_WRONG</h4>
                                        <br />
                                        <br />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="boxfootshader">
                        <div class="panel_ais">
                            <div class="row_ais">
                                <div class="column large-8">
                                    <div class="foottext">
                                        <div class="condition-head">@L_BUNDLING_CONDITION</div>
                                        <ol>
                                            <span class="t_inline">@(Html.Raw(L_BUNDLING_CONDITION_DETAIL))</span>
                                        </ol>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="box2_holder">
                </div>
                <div id="box3_holder">
                </div>

                <div class="modal fade" id="basic-modal-content" tabindex="-1"
                     data-backdrop="static" data-keyboard="false"
                     role="dialog" aria-labelledby="basic-modal-content_label">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">

                            <div class="modal-body" id="divSMS">
                                <div class="add-border-rounded-green">
                                    <p class="clearfix"></p>
                                    <div>
                                        <h3 class="text-center">
                                            @Html.Raw(L_CONFIRM_SMS)
                                        </h3>
                                    </div>
                                    <p class="clearfix"></p>
                                    <p class="clearfix"></p>
                                    <div class="col-md-12 text-center">
                                        <p class="clearfix"></p>
                                        <button type="button" class="btn btn-success" onclick="$('#divSMS').hide(); $('#divPDF').show();">&nbsp; @B_RECEIVED_SMS &nbsp;</button>
                                        &nbsp;&nbsp;
                                        <button type="button" class="btn btn-success" onclick="$('#divSMS').hide(); $('#divSMSConfirm').show();">&nbsp; @B_NO_SMS &nbsp; </button>
                                    </div>
                                </div>
                            </div>

                            <div class="modal-body i-hidden" id="divSMSConfirm">
                                <div class="add-border-rounded-green">
                                    <p class="clearfix"></p>
                                    <div>
                                        <h3 class="text-center">
                                            @Html.Raw(L_PLEASE_CHECK_MOBILE)
                                        </h3>
                                        @Html.TextBoxFor(model => model.CustomerRegisterPanelModel.L_MOBILE,
         new
         {
             @name = "L_MOBILE",
             @class = "form-control",
             @maxlength = MobileLength,
             Style = "font-size: 2.4rem; height: auto;",
             AutoComplete = "off"
         })
                                        <br />
                                    </div>
                                    <p class="clearfix"></p>
                                    <p class="clearfix"></p>
                                    <div class="col-md-12 text-center">
                                        <p class="clearfix"></p>
                                        <button type="button" id="btnConfirmSendSms" class="btn btn-success" onclick="ChangeMobileContact(); SendSMS(); $('#divSMSConfirm').hide(); $('#divPDF').show();">&nbsp; @B_CONFIRM &nbsp;</button>
                                    </div>
                                </div>
                            </div>

                            <div class="modal-body i-hidden" id="divPDF">
                                <div class="add-border-rounded-green">
                                    <p class="clearfix"></p>
                                    <div id="LastPopupMessage">
                                    </div>
                                    <div id="MessageSavePDF">
                                        <h3 class="text-center">
                                            @foreach (var rowpopupsave in DataConvertHelpers.ToDecodeList(lpopupsave))
                                            {
                                            @rowpopupsave<br />
                                            }
                                        </h3>
                                    </div>
                                    <p class="clearfix"></p>
                                    <p class="clearfix"></p>
                                    <div class="col-md-12 text-center">
                                        <p class="clearfix"></p>
                                        <button id="btnDownloadPDF" type="button" class="btn btn-success" onclick="DownloadPDF();">
                                            &nbsp; @lsave &nbsp; <i class="fa fa-arrow-circle-o-right "></i>
                                        </button>
                                        @*<button id="btnGetPDF" type="button" class="btn btn-success" style="display:none;" onclick="GetPDF();">*@
                                        <button id="btnGetPDF" type="button" class="btn btn-success" style="display:none;" onclick="DownloadPDF();">
                                            &nbsp; @lsave &nbsp; <i class="fa fa-arrow-circle-o-right "></i>
                                        </button>
                                        &nbsp;&nbsp;
                                        <button id="btnClosePDF" type="button" class="btn btn-default" data-dismiss="modal" onclick="Reload();">&nbsp; @lclose &nbsp; </button>
                                    </div>
                                </div>
                            </div>


                            <div class="modal-footer" style="border-top: none;">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal fade" id="modal001" tabindex="-1" role="dialog" aria-labelledby="modal001_label">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header" style="border-bottom: none;">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            </div>
                            <div class="modal-body">
                                <div class="add-border-rounded-green">
                                    <p class="clearfix"></p>
                                    <h3 id="modal001txt" class="text-center">
                                        @(Html.Raw(L_THK))
                                    </h3>
                                    <p class="clearfix"></p>
                                    <div class="col-md-12 text-center">
                                        <p class="clearfix"></p>
                                        <button type="button" id="modal001btn" class="btn btn-default" data-dismiss="modal" onclick="$.modal.close();">&nbsp; @L_CLOSE001 &nbsp; </button>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer" style="border-top: none;">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal fade" id="modalwttx" tabindex="-1" role="dialog" aria-labelledby="modalwttx_label">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header" style="border-bottom: none;">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            </div>
                            <div class="modal-body">
                                <div class="add-border-rounded-green-wttx">
                                    <p class="clearfix"></p>
                                    <h3 id="modalwttxtxt" class="text-center">
                                    </h3>
                                    <p class="clearfix"></p>
                                    <div class="col-md-12 text-center">
                                        <p class="clearfix"></p>
                                        <button type="button" id="modalwttxbtn" class="btn btn-default" data-dismiss="modal" onclick="$.modal.close();">&nbsp; @L_CLOSE001 &nbsp; </button>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer" style="border-top: none;">
                            </div>
                        </div>
                    </div>
                </div>

                <div style="display: none;" class="modal fade" id="modal_success_wttx" tabindex="-1" role="dialog" aria-labelledby="modal001_label">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header" style="border-bottom: none;">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                            </div>
                            <div class="modal-body">
                                <div class="add-border-rounded-green">
                                    <h3 class="tgreen text-center"><span class="hightlight">@Html.Raw(@L_POPUP_REGISTER_WTTX_ROUTER_1)</span></h3>
                                    <p class="clearfix"></p>
                                    <div class="tgreen" style="padding: 0 20px 20px 20px;font-size:18px;">
                                        <ul>
                                            <li>
                                                @Html.Raw(L_POPUP_REGISTER_WTTX_ROUTER_2)
                                            </li>
                                            <li>
                                                @Html.Raw(L_POPUP_REGISTER_WTTX_ROUTER_3)
                                            </li>
                                            <li>
                                                @Html.Raw(L_POPUP_REGISTER_WTTX_ROUTER_4)
                                            </li>
                                        </ul>
                                    </div>
                                    <p class="clearfix"></p>
                                    <div class="col-xs-12 text-center">
                                        <p class="clearfix"></p>
                                        <button type="button" id="" class="btn btn-default" data-dismiss="modal" onclick="$.modal.close();">&nbsp; @Html.Raw(B_OK) &nbsp; </button>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer" style="border-top: none;">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal fade" id="modal-non_residential" tabindex="-1" role="dialog">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header" style="border-bottom: none;">
                                @*<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>*@
                            </div>
                            <div class="modal-body">
                                <div class="add-border-rounded-green">
                                    <p class="clearfix"></p>
                                    <h3 class="text-center">
                                        @L_POPUP_NON_RESIDENTIAL
                                    </h3>
                                    <p class="clearfix"></p>
                                    <div class="col-md-12 text-center">
                                        <button type="button" id="btn-non_residential_yes" class="btn btn-success" data-dismiss="modal">&nbsp; @B_POPUP_NON_RESIDENTIAL_YES &nbsp; </button>
                                        <button type="button" id="btn-non_residential_no" class="btn btn-default" data-dismiss="modal">&nbsp; @B_POPUP_NON_RESIDENTIAL_NO &nbsp; </button>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer" style="border-top: none;">
                            </div>
                        </div>
                    </div>
                </div>

                <div id="ProgressIcon" class="modal fade">
                    <div class="vertical-alignment-helper">
                        <div class="modal-dialog vertical-align-center">
                            <div class="text-center" style="color: white;">
                                <div>
                                    <i class="fa fa-spinner fa-spin fa-6" style="position: inherit;"></i>
                                </div>
                                <div id="txtLoading" style="text-align: center;">
                                    LOADING
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div>
                    <input type="hidden" id="LanguagePage" />
                    <input type="hidden" id="GSSO_transactionID" />
                    <input type="hidden" id="chk_OTP" />
                    <input type="hidden" id="chkMobileSegment" />
                    <input type="hidden" id="chkProjectName" />
                    <input type="hidden" id="HdchkSerenade_Flag" />
                    <input type="hidden" id="chkSubNetworkType" />
                    @Html.HiddenFor(a => a.CoveragePanelModel.P_MOBILE, new { @id = "CoveragePanelModel_P_MOBILE" })
                    @Html.HiddenFor(a => a.CoveragePanelModel.Serenade_Flag, new { @id = "CoveragePanelModel_Serenade_Flag" })
                    @Html.HiddenFor(a => a.CoveragePanelModel.L_CONTACT_PHONE, new { @id = "CoveragePanelModel_L_CONTACT_PHONE" })
                    @Html.HiddenFor(a => a.CustomerRegisterPanelModel.L_MOBILE, new { @id = "CustomerRegisterPanelModel_L_MOBILE" })
                    @Html.HiddenFor(a => a.CoveragePanelModel.Mobile_Segment, new { @id = "CoveragePanelModel_MobileSegment" })
                    @Html.HiddenFor(a => a.CoveragePanelModel.NetworkType, new { @id = "CoveragePanelModel_NetworkType" })
                    @Html.HiddenFor(a => a.CoveragePanelModel.ChargeType, new { @id = "CoveragePanelModel_ChargeType" })
                    @Html.HiddenFor(a => a.CustomerRegisterPanelModel.L_CARD_NO, new { @id = "CustomerRegisterPanelModel_L_CARD_NO" })
                    @Html.HiddenFor(a => a.CustomerRegisterPanelModel.Project_name, new { @id = "CustomerRegisterPanelModel_Project_name" })
                    @Html.HiddenFor(a => a.CustomerRegisterPanelModel.AccountCategory, new { @id = "CustomerRegisterPanelModel_AccountCategory" })
                    @Html.HiddenFor(a => a.Register_device, new { @id = "Register_device" })
                    @Html.HiddenFor(a => a.Browser_type, new { @id = "Browser_type" })
                    @Html.HiddenFor(a => a.CustomerRegisterPanelModel.OrderNo, new { @id = "CustomerRegisterPanelModel_OrderNo" })
                    @Html.HiddenFor(a => a.CustomerRegisterPanelModel.outSubType, new { @id = "CustomerRegisterPanelModel_outSubType" })
                    @Html.HiddenFor(a => a.CustomerRegisterPanelModel.outMobileNo, new { @id = "CustomerRegisterPanelModel_outMobileNo" })
                    @Html.HiddenFor(a => a.CustomerRegisterPanelModel.PartnerName, new { @id = "CustomerRegisterPanelModel_PartnerName" })
                    @*18.8 Premium Install*@
                    @Html.HiddenFor(a => a.CustomerRegisterPanelModel.SUB_ACCESS_MODE, new { @id = "CustomerRegisterPanelModel_SUB_ACCESS_MODE" })
                    @Html.HiddenFor(a => a.CustomerRegisterPanelModel.REQUEST_SUB_FLAG, new { @id = "CustomerRegisterPanelModel_REQUEST_SUB_FLAG" })
                    @Html.HiddenFor(a => a.CustomerRegisterPanelModel.PREMIUM_FLAG, new { @id = "CustomerRegisterPanelModel_PREMIUM_FLAG" })
                    @Html.HiddenFor(a => a.CustomerRegisterPanelModel.RELATE_MOBILE_SEGMENT, new { @id = "CustomerRegisterPanelModel_RELATE_MOBILE_SEGMENT" })
                    @Html.HiddenFor(a => a.CustomerRegisterPanelModel.REF_UR_NO, new { @id = "CustomerRegisterPanelModel_REF_UR_NO" })
                    @Html.HiddenFor(a => a.CustomerRegisterPanelModel.LOCATION_EMAIL_BY_REGION, new { @id = "CustomerRegisterPanelModel_LOCATION_EMAIL_BY_REGION" })
                    @Html.HiddenFor(a => a.CustomerRegisterPanelModel.EMP_NAME, new { @id = "CustomerRegisterPanelModel_EMP_NAME" })

                    <!-- Member get member -->
                    @Html.HiddenFor(a => a.MemberGetMemberFlag, new { @id = "MemberGetMemberFlag" })
                    @Html.HiddenFor(a => a.RegisterChannel, new { @id = "RegisterChannel" })
                    @Html.HiddenFor(a => a.CoveragePanelModel.CoverageMemberGetMember.FULL_ADDRESS, new { @id = "CoverageMemberGetMember_FULL_ADDRESS" })
                    @Html.HiddenFor(a => a.CoveragePanelModel.CoverageMemberGetMember.AddressType, new { @id = "CoverageMemberGetMember_AddressType" })
                    @Html.HiddenFor(a => a.CoveragePanelModel.CoverageMemberGetMember.IM_ORDER, new { @id = "CoverageMemberGetMember_IM_Order" })
                    @Html.HiddenFor(a => a.CoveragePanelModel.CoverageMemberGetMember.RefferenceNo, new { @id = "CoverageMemberGetMember_RefferenceNo" })
                    @Html.HiddenFor(a => a.CoveragePanelModel.CoverageMemberGetMember.SERVICE_CASE_ID, new { @id = "CoverageMemberGetMember_SERVICE_CASE_ID" })
                    @Html.HiddenFor(a => a.CoveragePanelModel.CoverageMemberGetMember.Language, new { @id = "CoverageMemberGetMember_Language" })
                    @Html.HiddenFor(a => a.CoveragePanelModel.CoverageMemberGetMember.BuildingName, new { @id = "CoverageMemberGetMember_BuildingName" })
                    @Html.HiddenFor(a => a.CoveragePanelModel.CoverageMemberGetMember.VillageName, new { @id = "CoverageMemberGetMember_VillageName" })
                    @Html.HiddenFor(a => a.CoveragePanelModel.CoverageMemberGetMember.Province, new { @id = "CoverageMemberGetMember_Province" })
                    @Html.HiddenFor(a => a.CoveragePanelModel.CoverageMemberGetMember.Distrinct, new { @id = "CoverageMemberGetMember_Distrinct" })
                    @Html.HiddenFor(a => a.CoveragePanelModel.CoverageMemberGetMember.SubDistrict, new { @id = "CoverageMemberGetMember_SubDistrict" })
                    @Html.HiddenFor(a => a.CoveragePanelModel.CoverageMemberGetMember.PostCode, new { @id = "CoverageMemberGetMember_PostCode" })
                    @Html.HiddenFor(a => a.CoveragePanelModel.CoverageMemberGetMember.HouseNo, new { @id = "CoverageMemberGetMember_HouseNo" })
                    @Html.HiddenFor(a => a.CoveragePanelModel.CoverageMemberGetMember.Soi, new { @id = "CoverageMemberGetMember_Soi" })
                    @Html.HiddenFor(a => a.CoveragePanelModel.CoverageMemberGetMember.Road, new { @id = "CoverageMemberGetMember_Road" })
                    @Html.HiddenFor(a => a.CoveragePanelModel.CoverageMemberGetMember.CustomerName, new { @id = "CoverageMemberGetMember_CustomerName" })
                    @Html.HiddenFor(a => a.CoveragePanelModel.CoverageMemberGetMember.CustomerSurname, new { @id = "CoverageMemberGetMember_CustomerSurname" })
                    @Html.HiddenFor(a => a.CoveragePanelModel.CoverageMemberGetMember.CustomerEmail, new { @id = "CoverageMemberGetMember_CustomerEmail" })
                    @Html.HiddenFor(a => a.CoveragePanelModel.CoverageMemberGetMember.CustomerMobileNo, new { @id = "CoverageMemberGetMember_CustomerMobileNo" })
                    @Html.HiddenFor(a => a.CoveragePanelModel.CoverageMemberGetMember.CustomerLineId, new { @id = "CoverageMemberGetMember_CustomerLineId" })
                    @Html.HiddenFor(a => a.CoveragePanelModel.CoverageMemberGetMember.VoucherDesc, new { @id = "CoverageMemberGetMember_VoucherDesc" })
                    @Html.HiddenFor(a => a.CoveragePanelModel.CoverageMemberGetMember.CampaignProjectName, new { @id = "CoverageMemberGetMember_CampaignProjectName" })
                    @Html.HiddenFor(a => a.CoveragePanelModel.CoverageMemberGetMember.VoucherPin, new { @id = "CoverageMemberGetMember_VoucherPin" })
                    @Html.HiddenFor(a => a.CoveragePanelModel.LOCATION, new { @id = "CoveragePanelModel_LOCATION" })
                    @Html.HiddenFor(a => a.CoveragePanelModel.CoverageMemberGetMember.FLOOR, new { @id = "CoverageMemberGetMember_FLOOR" })
                    @Html.HiddenFor(a => a.CoveragePanelModel.CoverageMemberGetMember.MOO, new { @id = "CoverageMemberGetMember_MOO" })
                    @Html.HiddenFor(a => a.CoveragePanelModel.CoverageMemberGetMember.BUILDING_NO, new { @id = "CoverageMemberGetMember_BUILDING_NO" })
                    @Html.HiddenFor(a => a.CoveragePanelModel.CoverageMemberGetMember.RELATE_MOBILE_NO, new { @id = "CoverageMemberGetMember_RELATE_MOBILE_NO" })
                    @Html.HiddenFor(a => a.CoveragePanelModel.CoverageMemberGetMember.FBB_PERCENT_DISCOUNT, new { @id = "CoverageMemberGetMember_FBB_PERCENT_DISCOUNT" })
                    @Html.HiddenFor(a => a.CustomerRegisterPanelModel.L_SALE_REP, new { @id = "CustomerRegisterPanelModel_L_SALE_REP" })
                    @Html.HiddenFor(a => a.CustomerRegisterPanelModel.SffServiceYear, new { @id = "CustomerRegisterPanelModel_SffServiceYear" })
                    @Html.HiddenFor(a => a.CustomerRegisterPanelModel.SubNetworkType, new { @id = "CustomerRegisterPanelModel_SubNetworkType" })
                    @Html.HiddenFor(a => a.CustomerRegisterPanelModel.SffRegisteredDate, new { @id = "CustomerRegisterPanelModel_SffRegisteredDate" })

                    <input id="LcCode" name="LcCode" type="hidden" value="@LcCode" />
                    <input id="ASCCode" name="ASCCode" type="hidden" value="@ASCCode" />
                    <input id="EmployeeID" name="EmployeeID" type="hidden" value="@EmployeeID" />
                    <input id="outType" name="outType" type="hidden" value="@outType" />
                    <input id="outSubType" name="outSubType" type="hidden" value="@outSubType" />
                    <input id="outMobileNo" name="outMobileNo" type="hidden" value="@outMobileNo" />
                    <input id="PartnerName" name="PartnerName" type="hidden" value="@PartnerName" />
                    <input id="outLocationEmailByRegion" name="outLocationEmailByRegion" type="hidden" value="@outLocationEmailByRegion" />
                    <input id="outEmpName" name="outEmpName" type="hidden" value="@outEmpName" />
                    @*R18.11 IdCard Reader on PC*@
                    @Html.Hidden("hdIdCardReaderOnPcFlag", "Y") @*Flag ต้องการให้ระบบ อ่านบัตรประชาชน บน PC*@

                    @Html.Hidden("outTitle", Model.OfficerInfoPanelModel.outTitle)
                    @Html.Hidden("outCompanyName", Model.OfficerInfoPanelModel.outCompanyName)
                    @Html.Hidden("outDistChn", Model.OfficerInfoPanelModel.outDistChn)
                    @Html.Hidden("outChnSales", Model.OfficerInfoPanelModel.outChnSales)
                    @Html.Hidden("outShopType", Model.OfficerInfoPanelModel.outShopType)
                    @Html.Hidden("outOperatorClass", Model.OfficerInfoPanelModel.outOperatorClass)
                    @Html.Hidden("outASCTitleThai", Model.OfficerInfoPanelModel.outASCTitleThai)
                    @Html.Hidden("outASCPartnerName", Model.OfficerInfoPanelModel.outASCPartnerName)
                    @Html.Hidden("outMemberCategory", Model.OfficerInfoPanelModel.outMemberCategory)
                    @Html.Hidden("outPosition", Model.OfficerInfoPanelModel.outPosition)
                    @Html.Hidden("outLocationRegion", Model.OfficerInfoPanelModel.outLocationRegion)
                    @Html.Hidden("outLocationSubRegion", Model.OfficerInfoPanelModel.outLocationSubRegion)
                    @Html.Hidden("THFirstName", Model.OfficerInfoPanelModel.THFirstName)
                    @Html.Hidden("THLastName", Model.OfficerInfoPanelModel.THLastName)
                    @*21.5 Pool Villa*@
                    @Html.Hidden("outLocationProvince", Model.OfficerInfoPanelModel.outLocationProvince)

                    @*20.6 AI Chat Bot - Bypass*@
                    @Html.HiddenFor(model => model.AIChatBotBypass_Channel, new { @id = "AIChatBotBypass_Channel" })
                    @Html.HiddenFor(model => model.AIChatBotBypass_Flag, new { @id = "AIChatBotBypass_Flag" })
                    @Html.HiddenFor(model => model.IDCardNo)
                    @Html.HiddenFor(model => model.IDCardType)
                    @Html.HiddenFor(model => model.IDCardTypeENG)

                    @*21.3*@
                    @Html.HiddenFor(model => model.StaffPrivilegeBypass_TransactionID, new { @id = "StaffPrivilegeBypass_TransactionID" })
                    @Html.HiddenFor(model => model.StaffPrivilegeBypass_Channel, new { @id = "StaffPrivilegeBypass_Channel" })
                    @Html.HiddenFor(model => model.StaffPrivilegeBypass_Flag, new { @id = "StaffPrivilegeBypass_Flag" })

                    @Html.HiddenFor(model => model.CoveragePanelModel.SAVEORDER_FMPA_FLAG, new { @id = "CoveragePanelModel_SAVEORDER_FMPA_FLAG" })
                    @Html.HiddenFor(model => model.CoveragePanelModel.SAVEORDER_CVM_FLAG, new { @id = "CoveragePanelModel_SAVEORDER_CVM_FLAG" })
                    @Html.HiddenFor(model => model.CoveragePanelModel.SAVEORDER_FMC_SPECIAL_FLAG, new { @id = "CoveragePanelModel_SAVEORDER_FMC_SPECIAL_FLAG" })
                    @Html.HiddenFor(model => model.CoveragePanelModel.EXISTING_MOBILE_FLAG, new { @id = "CoveragePanelModel_EXISTING_MOBILE_FLAG" })
                    @Html.HiddenFor(model => model.CoveragePanelModel.USE_INPUT_MOBILE_ONLINE_QUERY, new { @id = "CoveragePanelModel_USE_INPUT_MOBILE_ONLINE_QUERY" })

                    @*21.10 MOU*@
                    @Html.HiddenFor(model => model.CustomerRegisterPanelModel.FIBRE_ID, new { @id = "CustomerRegisterPanelModel_FIBRE_ID" })
                    @Html.HiddenFor(model => model.CoveragePanelModel.SAVEORDER_MOU_FLAG, new { @id = "CoveragePanelModel_SAVEORDER_MOU_FLAG" })

                    @Html.Hidden("tmpDataID")
                    @Html.Hidden("tmpDataIDType")
                    @Html.Hidden("tmpFibrenetInfoDataID")
                    @Html.Hidden("tmpFibrenetInfoDataIDType")

                    @*R24.01 Max test ViewBag.AllowCheckFraud*@
                    @Html.HiddenFor(a => a.CoveragePanelModel.Address.L_HOME_NUMBER_1, new { @id = "allowCheckFraud" })
                </div>

                <!--start new design-->
                <div style="clear: both;"></div>
                <div id="aisfooter">
                    @if (Session[WBBWeb.Extension.WebConstants.SessionKeys.CurrentUICulture].ToString() == "1")
                    {
                    @Html.Partial("_FooterTH")
                    }
                    else
                    {
                    @Html.Partial("_FooterEN")
                    }
                    <div class="footer_content" style="text-align: center;">
                        <script type="text/javascript" src="https://lvs.truehits.in.th/datasecure/s0029135.js"></script>



                        <script src='http://hits.truehits.in.th/data/s0029135.js'></script>
                    </div>
                </div>
                <div class="truehits-bg">&nbsp;</div>

                <!--end new design-->
            </div>
        </form>
    </div>

    <script type="text/javascript">

        var digitalData = {};
        digitalData.page = {};
        digitalData.page.pageInfo = {};

        var dataSubtype = "";
        //chist699 releasePort 3bb
        var  popupMessageErrorRelease = "@popupMessageErrorReleasePort";

        if ( popupMessageErrorRelease != null && popupMessageErrorRelease != "")
            {
                $('#divSMS').hide();
                $('#divPDF').show();
                $('#btnDownloadPDF').hide();
                $('#btnGetPDF').hide();
                $('#MessageSavePDF').html("<h3 class='text-center'>"+popupMessageErrorRelease+"<h3>");
            }
        function setCardMaxlength() {

            if ($("#ID_CARD_NAMEs :selected").val() == "TAX_ID")
                $("#L_CARD_NOs").attr("maxlength", "@FBB_Con_Length_ID_Card_Number_TAX_ID");
            else if ($("#ID_CARD_NAMEs :selected").val() == "MONK_CERT")
                $("#L_CARD_NOs").attr("maxlength", "@FBB_Con_LengthIDCardNumberMONK_CERT");
            else if ($("#ID_CARD_NAMEs :selected").val() == "GOV_LET")
                $("#L_CARD_NOs").attr("maxlength", "@FBB_Con_Length_ID_Card_Number_GOV_LET");
            else if ($("#ID_CARD_NAMEs :selected").val() == "PASSPORT")
                $("#L_CARD_NOs").attr("maxlength", "@FBB_Con_Length_ID_Card_Number_PASSPORT");
            else if ($("#ID_CARD_NAMEs :selected").val() == "EMB_LET")
                $("#L_CARD_NOs").attr("maxlength", "@FBB_Con_Length_ID_Card_Number_EMB_LET");
            else if ($("#ID_CARD_NAMEs :selected").val() == "IMM_CARD")
                $("#L_CARD_NOs").attr("maxlength", "@FBB_Con_LengthIDCardNumberIMM_CARD");
            else if ($("#ID_CARD_NAMEs :selected").val() == "STA_LET")
                $("#L_CARD_NOs").attr("maxlength", "@FBB_Con_Length_ID_Card_Number_STA_LET");
            else if ($("#ID_CARD_NAMEs :selected").val() == "HILL_CARD")
                $("#L_CARD_NOs").attr("maxlength", "@FBB_Con_LengthIDCardNumberHILL_CARD");
            else if ($("#ID_CARD_NAMEs :selected").val() == "CERT_FOUND")
                $("#L_CARD_NOs").attr("maxlength", "@FBB_Con_Length_ID_Card_Number_CERT_FOUND");
            else if ($("#ID_CARD_NAMEs :selected").val() == "ID_CARD")
                $("#L_CARD_NOs").attr("maxlength", "@FBB_Con_LengthIDCardNumberID_CARD");
            else if ($("#ID_CARD_NAMEs :selected").val() == "ROY_LET")
                $("#L_CARD_NOs").attr("maxlength", "@FBB_Con_Length_ID_Card_Number_ROY_LET");
        }

        $(document).ready(function () {

            sessionStorage.setItem("outTitle", '@outTitle');
            sessionStorage.setItem("outCompanyName", '@outCompanyName');
            sessionStorage.setItem("outDistChn", '@outDistChn');
            sessionStorage.setItem("outChnSales", '@outChnSales');
            sessionStorage.setItem("outShopType", '@outShopType');
            sessionStorage.setItem("outOperatorClass", '@outOperatorClass');
            sessionStorage.setItem("outASCTitleThai", '@outASCTitleThai');
            sessionStorage.setItem("outASCPartnerName", '@outASCPartnerName');
            sessionStorage.setItem("outMemberCategory", '@outMemberCategory');
            sessionStorage.setItem("outPosition", '@outPosition');
            sessionStorage.setItem("outLocationRegion", '@outLocationRegion');
            sessionStorage.setItem("outLocationSubRegion", '@outLocationSubRegion');
            sessionStorage.setItem("THFirstName", '@THFirstName');
            sessionStorage.setItem("THLastName", '@THLastName');
            sessionStorage.setItem("outLocationProvince", '@outLocationProvince');


            if ("@Session[WBBWeb.Extension.WebConstants.SessionKeys.CurrentUICulture].ToString()" == "1") {
                ais_interface_setup('mini-menu', 'postpaid', 'th', '', false);
            } else {
                ais_interface_setup('mini-menu', 'postpaid', 'en', '', false);
            }

            if (typeof aisNative == "undefined" || typeof aisNative == "" || typeof aisNative == null) {
            } else {
                var result = aisNative.sendIccCommand(0, 2, "");
            }

            // Update 17.2 ใช้เก็บ Interface Log ลงใน transection_id
            sessionStorage.setItem("Temp_AisAirNumber", sessionStorage.getItem("AisAirNumber"));

            currentStatus = false;
            lastStatus = false;

            chk_BrowserType();
            chk_RegisterDevice();
            getCustomerCardTypes();
            sessionStorage.setItem("vas_flag", null);
            sessionStorage.setItem("AisAirNumber", null);
            sessionStorage.setItem("ID_CARD_NAMEs", null);
            sessionStorage.setItem("L_CARD_NOs", null);
            sessionStorage.setItem("CoveragePanelModel_L_CONTACT_PHONE", "");
            sessionStorage.setItem("CoveragePanelModel_MobileSegment", "");
            sessionStorage.setItem("CoveragePanelModel_NetworkType", "");
            sessionStorage.setItem("CoveragePanelModel_ChargeType", "");
            sessionStorage.setItem("CustomerRegisterPanelModel_Project_name", "");
            sessionStorage.setItem("CoveragePanelModel_P_PrePostpiad", "ProfilePrePostPaid");
            sessionStorage.setItem("CustomerRegisterPanelModel_AccountCategory", "");
            sessionStorage.setItem("CustomerRegisterPanelModel_CustomerSubtype", "");
            sessionStorage.setItem("SffServiceYear", "0");
            sessionStorage.setItem("SubNetworkType", "");
            //20.5 Non-Res Register Residential
            sessionStorage.setItem("Customer_NonResFlag", "");

            if ('@Model.StaffPrivilegeBypass_Flag' == 'Y') {
                sessionStorage.setItem("AisAirNumber", '@Model.CoveragePanelModel.P_MOBILE');
                sessionStorage.setItem("ID_CARD_NAMEs", '@Model.IDCardType');
                sessionStorage.setItem("L_CARD_NOs", '@Model.IDCardNo');
            }

            if ('@Model.TopUp' == "5" || '@ViewBag.Vas' == "1") {
                $('#btnTh').hide();
                $('#btnEn').hide();

                $.get('/WBB/GetCurrentCulture').done(function (x) {
                    $("#LanguagePage").val(x);
                    if (x == 1) {
                        $("#welcome_msg").removeClass('subheader').addClass('subheader-th');
                        language = "th";
                    }
                    else {
                        $("#welcome_msg").removeClass('subheader').addClass('subheader-en');
                        language = "en";
                    }

                    digitalData.page = {
                        pageInfo: {
                            pageName: "newfibre:" + language + ":searchProfile",
                            site: "newfibre",
                            language: language
                        }
                    }

                });

                $("#divSMS").hide();
                $("#btnGetPDF").hide();
                $("#btnDownloadPDF").show();
                $("#btnClosePDF").show();

                $.ajax({
                    type: "GET",
                    url: "/PrePrint/getSubtype",
                    dataType: "json",
                    async: false,
                    success: function (data) {
                        if (data.indexOf($("#CustomerRegisterPanelModel_outSubType").val()) == -1 && $("#TopUp").val() == "5") {
                            $("#btnDownloadPDF").show();
                        }
                        else {
                            $("#btnGetPDF").show();
                            $("#btnDownloadPDF").hide();
                        }
                    }
                });

                //if ($("#CustomerRegisterPanelModel_outSubType").val() == dataSubtype && (typeof aisNative != "undefined" && typeof aisNative != "" && typeof aisNative != null)) {
                //    $("#btnClosePDF").hide();
                //}


                $("#divPDF").show();
            } else {
                $.get('/WBB/GetCurrentCulture').done(function (x) {
                    $("#LanguagePage").val(x);
                    changeLanguage();

                    //script Adobe Analytic
                    if (x == 1)
                        language = "th";
                    else
                        language = "en";

                    digitalData.page = {
                        pageInfo: {
                            pageName: "newfibre:" + language + ":searchProfile",
                            site: "newfibre",
                            language: language
                        }
                    }

                });
            }

            $("#AisAirNumber").attr('disabled', false);
            $("#InternetNumber").attr('disabled', false);//R21.10 MOU

            var success = '@isSaveCommplete';
            if (success == 'True') {
                var isWTTx = '@isWTTx';
                if (isWTTx == 'True') {
                    if ('@WTTxErrorMSG' != '') {
                        $('#modalwttxtxt').html('@Html.Raw(WTTxErrorMSG)');
                        setTimeout(function () {
                            $('#modalwttx').modal();
                        }, 200);
                    }
                    else if ('@WTTxMSG' != '') {
                        $('#modalwttxtxt').html('@Html.Raw(WTTxMSG)');
                        setTimeout(function () {
                            $('#modalwttx').modal();
                        }, 200);
                    }

                }
                else {
                    setTimeout(function () {
                        SendSMS();
                        $('#basic-modal-content').modal();
                    }, 200);
                }
            }

            var nonCoverage = "@nonCoverage";
            //console.log("nonCoverage: ", nonCoverage)
            if (nonCoverage == 'True') {
                setTimeout(function () {
                    $('#modal001').modal();
                }, 200);
            }

            $("#L_CARD_NOs").keyup(function () {

                if ($("#ID_CARD_NAMEs :selected").val() == "TAX_ID")
                    CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_TAX_ID");
                else if ($("#ID_CARD_NAMEs :selected").val() == "MONK_CERT")
                    CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_MONK_CERT");
                else if ($("#ID_CARD_NAMEs :selected").val() == "GOV_LET")
                    CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_GOV_LET");
                else if ($("#ID_CARD_NAMEs :selected").val() == "PASSPORT")
                    CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_PASSPORT");
                else if ($("#ID_CARD_NAMEs :selected").val() == "EMB_LET")
                    CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_EMB_LET");
                else if ($("#ID_CARD_NAMEs :selected").val() == "IMM_CARD")
                    CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_IMM_CARD");
                else if ($("#ID_CARD_NAMEs :selected").val() == "STA_LET")
                    CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_STA_LET");
                else if ($("#ID_CARD_NAMEs :selected").val() == "HILL_CARD")
                    CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_HILL_CARD");
                else if ($("#ID_CARD_NAMEs :selected").val() == "CERT_FOUND")
                    CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_CERT_FOUND");
                else if ($("#ID_CARD_NAMEs :selected").val() == "ID_CARD")
                    CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_ID_CARD");
                else if ($("#ID_CARD_NAMEs :selected").val() == "ROY_LET")
                    CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_ROY_LET");

                checkBeforeInputMobileNumber();
            });

            if ($('html').is('.lt-ie7, .lt-ie8, .lt-ie9')) {
                oldIE = true;
            }

            if (oldIE) {
                if (sessionStorage.getItem('detectedIE') != 'detected') {
                    var oldIENoticeMassage = 'เว็ปไซต์สามารถใช้งานได้ดีกับ Microsoft Internet Explorer 9 ขึ้นไป หรือ Google Chrome / Firefox เวอร์ชั่นล่าสุด',
                        oldIEBtnMessage = 'ตกลง';

                    if (language == 'en') {
                        oldIENoticeMassage = 'This site is best viewed using Internet Explorer 9, Chrome, Safari and browser later.';
                        oldIEBtnMessage = 'Okay';
                    }

                    sessionStorage.setItem('detectedIE', 'detected');
                    bootbox.dialog({
                        message:
                            "<p class='clearfix'></p>" +
                                "<div class='add-border-rounded-green'>" +
                                "<p class='clearfix'></p>" +
                                "<h3 class='text-center'>" +
                                oldIENoticeMassage +
                                "</h3>" +
                                "</div>" +
                                "<p class='clearfix'></p>",
                        buttons: {
                            success: {
                                label: oldIEBtnMessage,
                                className: "btn-success",
                            }
                        }
                    });
                }
            }

            //R18.11 IdCard Reader on PC
            if (typeof aisNative == "undefined" || typeof aisNative == "" || typeof aisNative == null) {
                if ($("#hdIdCardReaderOnPcFlag").val() == "Y") {
                    getIdCARDInfoBySocketPc();
                }
            }

                //20.4
            if ($("#CoverageMemberGetMember_CampaignProjectName").val() == "SUPERCONVERGENCE") {
                $("#AisAirNumber").val($("#CoverageMemberGetMember_RELATE_MOBILE_NO").val());
                document.getElementById("AisAirNumber").disabled = true;
                $("#AisAirNumber").attr("readonly", true);
                }

            //20.6 AI Chat Bot - Bypass
            setAIChatBotBypass("set-mobile");


        });

        @*R18.11 IdCard Reader on PC*@
        window.addEventListener('unload', function (event) {
            onPageUnloadIdCARDInfoBySocketPc();
            console.log("Close _ws: ID Card Reader USB");
        });

        function delayedTrigger(callback, timeout, params) {
            setTimeout(function () {
                callback.apply(null, params);
            }, timeout);
        }

        function onTimerTicked() {
            var result = aisNative.sendIccCommand(0, 2, "");


            if (result == "Presented") {
                currentStatus = true;
            } else {
                currentStatus = false;
            }

            if (currentStatus && !lastStatus) {
                clearPageContents();

                htmlCtl = document.getElementById("labelStatus");
                htmlCtl.innerHTML = "Loading data ...";
                htmlCtl.style.color = "blue";

                gotProfile = false;
                gotPhoto = false;
                lastStatus = true;
            }

            if (!currentStatus && lastStatus) {
                htmlCtl = document.getElementById("labelStatus");
                htmlCtl.innerHTML = "Card removed.";
                htmlCtl.style.color = "blue";

                lastStatus = false;
            }

            if (lastStatus) {

                var result = aisNative.sendIccCommand(0, 3, "");
                var progress = parseInt(result, 10);

                if (progress > 10 && !gotProfile) {
                    var profile = aisNative.sendIccCommand(0, 4, "");
                    showCardData(profile);
                    gotProfile = true;
                }

                if (progress >= 100 && !gotPhoto) {
                    var base64str = aisNative.sendIccCommand(0, 5, "");
                    if (base64str && base64str.length > 0) {
                        var img = document.getElementById("imgPhoto");
                        img.setAttribute("src", 'data:image/jpg;base64,' + base64str + '');
                        gotPhoto = true;
                    }

                    htmlCtl = document.getElementById("labelStatus");
                    htmlCtl.innerHTML = "";
                }
            }
        }

        function isEmpty(str) {
            return (!str || 0 === str.length);
        }

        function convertToLongDate(shortDate) {

            var monthArr = ["ม.ค.", "ก.พ.", "มี.ค.", "เม.ย.", "พ.ค.", "มิ.ย.", "ก.ค.", "ส.ค.", "ก.ย.", "ต.ค.", "พ.ย.", "ธ.ค."];
            var day = shortDate.substring(0, 2);
            var month = shortDate.substring(3, 5);
            var year = shortDate.substring(6, 10);

            var longDate = day.toString() + " " + monthArr[month - 1] + " " + year;
            return longDate;
        }

        function getIDCARDInfo() {
            getIDCARDInfoWithCallback(function () {
                return false;
            });
        }

        function getIDCARDInfoWithCallback(callback) {

            // Update 17.4 Script Adobe Analytic
            digitalData.customLinkName = "input-mobile-number:next";
            console.log("custom-link-click : button Continue2 func getIDCARDInfoWithCallback");


            try {
                var profile = aisNative.sendIccCommand(0, 4, "");

                var base64str = aisNative.sendIccCommand(0, 5, "");
                if (base64str && base64str.length > 0) {
                    sessionStorage.setItem('Card_PICTURE', base64str);
                }

                showCardDataWithCallback(profile, function () {
                    $('#L_CARD_NOs').val(sessionStorage.getItem('Card_id_card'));
                    showCardDataWithCallback(profile, function () {
                        $('#L_CARD_NOs').val(sessionStorage.getItem('Card_id_card'));
                        delayedTrigger(function () {

                            $('#L_CARD_NOs').trigger("keyup");
                        }, 1100);
                        callback();
                    });
                    callback();
                });
            }
            catch (err) {
                LockScreen(false);
                console.log(err);
                callback();
            }
        }

        function showCardData(textProfile) {
            showCardDataWithCallback(textProfile, function () {
                return false;
            });
        }

        function showCardDataWithCallback(textProfile, callback) {
            try {
                var fieldValues = textProfile.split("#");

                var PICTURE = aisNative.sendIccCommand(0, 5, "");

                var NATIONALID = fieldValues[2];

                var TITLE_TH = fieldValues[3];

                var FIRSTNAME_TH = fieldValues[4];
                var LASTNAME_TH = fieldValues[6];

                var TITLE_EN = fieldValues[7];
                var FIRSTNAME_EN = fieldValues[8];
                var LASTNAME_EN = fieldValues[10];

                var SEX = fieldValues[12];

                var ADDRESS = fieldValues[13];

                var MOO = "";
                if (!isEmpty(fieldValues[14])) {
                    MOO = "หมู่ " + fieldValues[14];
                }

                var ALLEY = "";
                if (!isEmpty(fieldValues[15])) {
                    ALLEY = fieldValues[15];
                }

                var SOI = "";
                if (!isEmpty(fieldValues[16])) {
                    SOI = "ซอย" + fieldValues[16];
                }

                var STREET = "";
                if (!isEmpty(fieldValues[17])) {
                    STREET = "ถนน" + fieldValues[17];
                }

                var SUBDISTRICT = "";
                var DISTRICT = "";
                var PROVINCE = (fieldValues[20] == "กรุงเทพมหานคร");

                if (PROVINCE) {
                    SUBDISTRICT = "แขวง" + fieldValues[18];
                } else {
                    SUBDISTRICT = "ต." + fieldValues[18];
                }

                if (PROVINCE) {
                    DISTRICT = "เขต" + fieldValues[19];
                } else {
                    DISTRICT = "อ." + fieldValues[19];
                }

                if (PROVINCE) {
                    PROVINCE = " " + fieldValues[20];
                } else {
                    PROVINCE = "จ." + fieldValues[20];
                }

                var day = fieldValues[11].substring(0, 2);
                var month = fieldValues[11].substring(3, 5);
                var year = fieldValues[11].substring(6, 10);
                var BIRTHDATE = day + "-" + month + "-" + year;

                var ISSUEPLACE = fieldValues[21];

                var day_open = fieldValues[22].substring(0, 2);
                var month_open = fieldValues[22].substring(3, 5);
                var year_open = fieldValues[22].substring(6, 10);
                var ISSUEDATE = day_open + "-" + month_open + "-" + year_open;

                var day_exp = fieldValues[23].substring(0, 2);
                var month_exp = fieldValues[23].substring(3, 5);
                var year_exp = fieldValues[23].substring(6, 10);
                var EXPIREDATE = day_exp + "-" + month_exp + "-" + year_exp;

                sessionStorage.setItem('Card_l_TITLE_TH', TITLE_TH);
                sessionStorage.setItem('Card_f_name', FIRSTNAME_TH);
                sessionStorage.setItem('Card_l_name', LASTNAME_TH);
                sessionStorage.setItem('Card_l_TITLE_EN', TITLE_EN);
                sessionStorage.setItem('Card_f_name_en', FIRSTNAME_EN);
                sessionStorage.setItem('Card_l_name_en', LASTNAME_EN);
                sessionStorage.setItem('Card_id_card', NATIONALID);
                sessionStorage.setItem('Card_province', PROVINCE);
                sessionStorage.setItem('Card_district', DISTRICT);
                sessionStorage.setItem('Card_subDistrict', SUBDISTRICT);
                sessionStorage.setItem('Card_moo', MOO);
                sessionStorage.setItem('Card_soi', SOI);
                sessionStorage.setItem('Card_road', STREET);
                sessionStorage.setItem('Card_houseNo', ADDRESS);
                sessionStorage.setItem('chk_open', "Y");
                sessionStorage.setItem('Card_BIRTHDATE', BIRTHDATE);

                $.ajax({
                    url: '/Process/SaveSessionCardReader',
                    data: {
                        NATIONALID: NATIONALID,
                        TITLE_TH: TITLE_TH,
                        FIRSTNAME_TH: FIRSTNAME_TH,
                        LASTNAME_TH: LASTNAME_TH,
                        TITLE_EN: TITLE_EN,
                        FIRSTNAME_EN: FIRSTNAME_EN,
                        LASTNAME_EN: LASTNAME_EN,
                        BIRTHDATE: BIRTHDATE,
                        SEX: SEX,
                        ADDRESS: ADDRESS,
                        MOO: MOO,
                        ALLEY: ALLEY,
                        SOI: SOI,
                        STREET: STREET,
                        SUBDISTRICT: SUBDISTRICT,
                        DISTRICT: DISTRICT,
                        PROVINCE: PROVINCE,
                        PICTURE: PICTURE,
                        ISSUEPLACE: ISSUEPLACE,
                        ISSUEDATE: ISSUEDATE,
                        EXPIREDATE: EXPIREDATE
                    },
                    dataType: "json",
                    type: 'POST',
                    async: false,
                    success: function (data) {
                        $.ajax({
                            type: "POST",
                            url: "/Process/usedData_flag",
                            data: { 'status': 'Y' },
                            async: false,
                            dataType: "json",
                            success: function (data) {
                                LockScreen(false);
                                callback();
                            }
                        });
                    }
                });
            } catch (e) {
                LockScreen(false);
                callback();
            }
        }

        function backToMenuOfficer()
        {
            $("#PrePostPaid").attr("action", "@Url.Action("MenuOfficer", "Process")");
            $("#PrePostPaid").submit();
        }
    </script>

    <script type="text/javascript">
        var currentStatus;
        var lastStatus;
        var gotProfile;
        var gotPhoto;
        var timerID;
        var counterTT = 0;
        var oldIE;
        var language = "";
        //R22.1 Issue MOU
        var ConfigStatusMobileArray = [];

        $(document).ready(function () {
            if ('@Model.StaffPrivilegeBypass_Flag' == 'Y' && '@isSaveCommplete' != 'True') {
                LockScreen(true, "");
                $("#AisAirNumber").val('0000000000');
                $("#CustomerRegisterPanelModel_L_MOBILE").val('@Model.CoveragePanelModel.P_MOBILE');
                $("#CustomerRegisterPanelModel_FIBRE_ID").val('@Model.CustomerRegisterPanelModel.FIBRE_ID');
                checkProcess();
            }
            $("#AisAirNumber").trigger("keyup");

            //R22.1 Issue MOU
            @foreach (var ConfigStatusMobileItem in CONFIG_STATUS_MOBILE)
            {
                @:ConfigStatusMobileArray.push("@ConfigStatusMobileItem");
            }
            console.log(ConfigStatusMobileArray);
        });

        //Added and Created by PatthamawadeeH. 5Jan2017
        function CheckbtnConfirmValidateMobile() {
            CheckKeyUps("CustomerRegisterPanelModel_L_MOBILE", "@Input_MobileNo", "M");

            if ($("#CustomerRegisterPanelModel_L_MOBILE").val().length == "@MobileLength") {
                cchk = CheckValidateInputMobile("CustomerRegisterPanelModel_L_MOBILE");
            }

            if ($("#CustomerRegisterPanelModel_L_MOBILE").val().substr(0, 1) == "0" && $.trim($("#CustomerRegisterPanelModel_L_MOBILE").val().substring(0, 3)) != "007" && cchk != false && $("#CustomerRegisterPanelModel_L_MOBILE").val().length == "@MobileLength") {
                $("#btnConfirmSendSms").removeAttr("disabled");
            }
            else {
                $("#btnConfirmSendSms").attr("disabled", true);
            }
        }

        $("#AisAirNumber").keyup(function () {
            CheckKeyUps("AisAirNumber", "@Input_MobileNo", "M");
            if ($("#AisAirNumber").val().length == "@MobileLength"
                && $("#AisAirNumber").val().substr(0, 1) == "0"
                && $.trim($("#AisAirNumber").val().substring(0, 3)) != "007") {
                $("#Continue1").hide();
                $("#Continue2").show();
            }
            else {
                $("#Continue1").show();
                $("#Continue2").hide();
            }
        });

        $("#InternetNumber").keyup(function () {
            //R21.10
            CheckKeyUps("InternetNumber", "@INPUT_MOBILE_INTERNET", "M");
            if ($("#AisAirNumber").val().length == "@MobileLength") {
                if ($("#InternetNumber").val() != "") {
                    if ($("#InternetNumber").val().length == "@LENGTH_MOBILE_INTERNET") {//กรอก 88 ครบ ไปต่อได้
                        $("#Continue1").hide();
                        $("#Continue2").show();
                    }
                    else {//กรอก 88 ไม่ครบ ห้ามไปต่อ
                        $("#Continue1").show();
                        $("#Continue2").hide();
                    }
                }
                else {//ไม่กรอก 88 ไปต่อได้
                    $("#Continue1").hide();
                    $("#Continue2").show();
                }
            }
            else {//กรอก เบอร์มือถือ ไม่ครบ ห้ามไปต่อ
                $("#Continue1").show();
                $("#Continue2").hide();
            }
        });

        $("#CustomerRegisterPanelModel_L_MOBILE").keyup(function () {
            CheckbtnConfirmValidateMobile();
        });

        //Added and Created by PatthamawadeeH. 5Jan2017
        $("#CustomerRegisterPanelModel_L_MOBILE").keydown(function () {
            CheckbtnConfirmValidateMobile();
        });

        //Added and Created by PatthamawadeeH. 5Jan2017
        $("#CustomerRegisterPanelModel_L_MOBILE").keypress(function () {
            CheckbtnConfirmValidateMobile();
        });

        $("#passOTP").keyup(function () {
            CheckKeyUps("passOTP", "@Input_PW");
            if ($("#passOTP").val().length == "@Length_PW") {
                $("#otpOK1").hide();
                $("#otpOK2").show();
            }
            else {
                $("#otpOK1").show();
                $("#otpOK2").hide();
            }
        });

        function checkBeforeInputMobileNumber() {
            var ml = "";
            if ($("#ID_CARD_NAMEs :selected").val() == "TAX_ID")
                ml = "@FBB_Con_Length_ID_Card_Number_TAX_ID";
            else if ($("#ID_CARD_NAMEs :selected").val() == "MONK_CERT")
                ml = "@FBB_Con_LengthIDCardNumberMONK_CERT";
            else if ($("#ID_CARD_NAMEs :selected").val() == "GOV_LET")
                ml = "@FBB_Con_Length_ID_Card_Number_GOV_LET";
            else if ($("#ID_CARD_NAMEs :selected").val() == "PASSPORT")
                ml = "@FBB_Con_Length_ID_Card_Number_PASSPORT";
            else if ($("#ID_CARD_NAMEs :selected").val() == "EMB_LET")
                ml = "@FBB_Con_Length_ID_Card_Number_EMB_LET";
            else if ($("#ID_CARD_NAMEs :selected").val() == "IMM_CARD")
                ml = "@FBB_Con_LengthIDCardNumberIMM_CARD";
            else if ($("#ID_CARD_NAMEs :selected").val() == "STA_LET")
                ml = "@FBB_Con_Length_ID_Card_Number_STA_LET";
            else if ($("#ID_CARD_NAMEs :selected").val() == "HILL_CARD")
                ml = "@FBB_Con_LengthIDCardNumberHILL_CARD";
            else if ($("#ID_CARD_NAMEs :selected").val() == "CERT_FOUND")
                ml = "@FBB_Con_Length_ID_Card_Number_CERT_FOUND";
            else if ($("#ID_CARD_NAMEs :selected").val() == "ID_CARD")
                ml = "@FBB_Con_LengthIDCardNumberID_CARD";
            else if ($("#ID_CARD_NAMEs :selected").val() == "ROY_LET")
                ml = "@FBB_Con_Length_ID_Card_Number_ROY_LET";

            if (($("#L_CARD_NOs").val() != ""
                && $("#ID_CARD_NAMEs :selected").val() != "ID_CARD")
                || ($("#L_CARD_NOs").val().length == ml
                && $("#ID_CARD_NAMEs :selected").val() == "ID_CARD")) {

                $("#Continue1").hide();
                $("#Continue3").show();
            }
            else {
                $("#Continue1").show();
                $("#Continue3").hide();
            }
        }

        function PopupMessage() {

            var swifi = '@productSubType';
            var language_ = '@languagePage';
            var ProSubType = "";
            if (swifi == "SWiFi") {
                ProSubType = "L_POP_UP_WIRELESS";
            }
            else {
                ProSubType = "L_POP_UP_WIRE";
            }

            var strBuilder = '';
            $.ajax({
                type: "GET",
                url: "/MasterData/GetLastPopupMessage?LovName=" + ProSubType + "&dataType=1",
                dataType: "json",
                async: false,
                success: function (data) {
                    $.each(data, function (i, e) {
                        if (language_ == "2") {
                            strBuilder += e.LovValue2 + "<br>";
                        }
                        else {
                            strBuilder += e.LovValue1 + "<br>";
                        }
                    });
                    setTimeout(function () {
                        $("#basic-modal-content").find("#LastPopupMessage").html("");
                        $("#basic-modal-content").find("#LastPopupMessage").html("<h3 class='text-center'>" + strBuilder + "</h3>");
                    }, 100);
                }
            });

            $.get("/Process/Submit", function (result) { });
        }

        function DownloadPDF() {
            window.location.href = "/Process/download";
            setTimeout(function () { Reload() }, 3000);
        }
        function GetPDF() {
            //window.location.href = "/PdfViewer/web/viewer.html?file=pdf64";
            //window.location.href = "/pdfhack/test.html";
            if ($("#Register_device").val() == "MOBILE APP") {
                if ($("#CustomerRegisterPanelModel_outSubType").val() != dataSubtype) {
                    window.location.href = "/PdfViewer/web/viewer.html?file=pdf64";
                }
                else {
                    window.location.href = "/PdfViewer/pdfhtml.html";
                }
            }
            else {
                if ($("#CustomerRegisterPanelModel_outSubType").val() != dataSubtype) {
                    window.location.href = "/PdfViewer/web/viewer.html?file=pdf64";
                }
                else {
                    window.location.href = "/PdfViewer/pdfhtml.html";
                }
            }
        }

        function Reload() {
            if ('@Model.TopUp' == "1")
                window.location.href = "/process/topup";
            else if ('@vas_flag' == "0" && '@Model.TopUp' != "7")
                window.location.href = "/Process/Index";
            else if ('@Model.TopUp' == "7" && '@vas_flag' == "0")
                window.location.href = "/Process/Engineer";
            else if ('@vas_flag' == "6")
                get('/Process/staff', { EmpName: '@Model.CustomerRegisterPanelModel.L_FIRST_NAME', EmpLastName: '@Model.CustomerRegisterPanelModel.L_LAST_NAME', EmpID: '@Model.CustomerRegisterPanelModel.L_STAFF_ID', TransactionID: '@Model.TransactionID' });
            else if ('@officeEnd' != "") {
                $.ajax({
                    type: "POST",
                    url: "/Process/CheckOfficerTimeOut",
                    dataType: "json",
                    async: false,
                    success: function (data) {
                        if (data) {
                            window.location.href = "/Process/Index";
                        }
                        else {
                            window.location.href = "/Officer/Index";
                        }
                    }
                });
            }
            else
                window.location.href = "/Process/Index";
        }

        function checkProcessOnlineQueryCallback() {
            LockScreen(true, "");
            digitalData.customLinkName = "input-mobile-number:next";


            sessionStorage.setItem("AisAirNumber", null);
            sessionStorage.setItem("InternetNumber", null);//R21.10 MOU
            sessionStorage.setItem("ID_CARD_NAMEs", null);
            sessionStorage.setItem("L_CARD_NOs", null);
            sessionStorage.setItem("CoveragePanelModel_L_CONTACT_PHONE", "");
            sessionStorage.setItem("CoveragePanelModel_MobileSegment", "");
            sessionStorage.setItem("CoveragePanelModel_NetworkType", "");
            sessionStorage.setItem("CoveragePanelModel_ChargeType", "");
            sessionStorage.setItem("CustomerRegisterPanelModel_Project_name", "");
            sessionStorage.setItem("CustomerRegisterPanelModel_AccountCategory", "");
            sessionStorage.setItem("CustomerRegisterPanelModel_CustomerSubtype", "");
            sessionStorage.setItem("SffServiceYear", "0");
            sessionStorage.setItem("SubNetworkType", "");

            sessionStorage.setItem("CoveragePanelModel_P_PrePostpiad", "ProfilePrePostPaid");
            $('#CoveragePanelModel_P_PrePostpiad').val("ProfilePrePostPaid");

            if ('@Model.StaffPrivilegeBypass_Flag' == 'Y') {
                sessionStorage.setItem("AisAirNumber", '@Model.CoveragePanelModel.P_MOBILE');
                sessionStorage.setItem("ID_CARD_NAMEs", '@Model.IDCardType');
                sessionStorage.setItem("L_CARD_NOs", '@Model.IDCardNo');
            }

            $("#idCardErrorMessage").hide();
            $("#Continue1").show();
            $("#Continue2").hide();

            var chk_Serenade_Flag = "N";

            //ลูกค้าใหม่
            sessionStorage.setItem("vas_flag", "@vas_flag");
            sessionStorage.setItem("type", "NEW");
            $("#HdchkSerenade_Flag").val(chk_Serenade_Flag);
            $('#CoveragePanelModel_Serenade_Flag').val("N");
            //ส่งค่าไปOutofcoveragt
            $('#CoveragePanelModel_L_CONTACT_PHONE').val($("#AisAirNumber").val());
            //ส่งค่าไป CustomerRegister
            $('#CustomerRegisterPanelModel_L_MOBILE').val($("#AisAirNumber").val());
            $('#CoveragePanelModel_P_MOBILE').val($("#AisAirNumber").val());
            sessionStorage.setItem("AisAirNumber", $("#AisAirNumber").val());
            sessionStorage.setItem("CoveragePanelModel_Serenade_Flag", $("#HdchkSerenade_Flag").val());
            sessionStorage.setItem("CoveragePanelModel_L_CONTACT_PHONE", $("#CoveragePanelModel_L_CONTACT_PHONE").val());

            //20.3 Service Level
            sessionStorage.removeItem("ServiceLevel_Action");
            sessionStorage.removeItem("ServiceLevel");
            sessionStorage.removeItem("ServiceLevel_Flag");
            sessionStorage.setItem("ServiceLevel_Action", 4);
            sessionStorage.setItem("ServiceLevel", "null");
            sessionStorage.setItem("ServiceLevel_Flag", "null");

            sessionStorage.setItem("MobileStatus", "");

            if ('' == '@L_TYPE_OF_RESIDENCE' && '' == '@L_OWNER' && '' == '@L_RENTAL') {
                sessionStorage.setItem("ShowRental", "false");
            }
            else {
                sessionStorage.setItem("ShowRental", "true");
            }

            $('#CustomerRegisterPanelModel_RELATE_MOBILE_SEGMENT').val("@FBB_Con_RELATE_MOBILE_SEGMENT");
            sessionStorage.setItem("CustomerRegisterPanelModel_RELATE_MOBILE_SEGMENT", $('#CustomerRegisterPanelModel_RELATE_MOBILE_SEGMENT').val());
            sessionStorage.setItem("Customer_NonResFlag", "");
            sessionStorage.setItem("IsSerenade", "false");
            sessionStorage.setItem("IsServiceYear", "false");
            $("#CoveragePanelModel_SAVEORDER_FMPA_FLAG").val("");
            $("#CoveragePanelModel_SAVEORDER_CVM_FLAG").val("");
            $("#CoveragePanelModel_SAVEORDER_FMC_SPECIAL_FLAG").val("");
            $("#CoveragePanelModel_EXISTING_MOBILE_FLAG").val("");
            $("#CoveragePanelModel_USE_INPUT_MOBILE_ONLINE_QUERY").val("Y");
            $("#CoveragePanelModel_SAVEORDER_MOU_FLAG").val("");//R21.10 MOU
            sessionStorage.setItem("CoveragePanelModel_SAVEORDER_FMPA_FLAG", "");//R21.10 MOU
            sessionStorage.setItem("CoveragePanelModel_SAVEORDER_CVM_FLAG", "");//R21.10 MOU
            sessionStorage.setItem("CoveragePanelModel_SAVEORDER_FMC_SPECIAL_FLAG", "");//R21.10 MOU
            sessionStorage.setItem("CoveragePanelModel_EXISTING_MOBILE_FLAG", "");//R21.10 MOU
            sessionStorage.setItem("CoveragePanelModel_SAVEORDER_MOU_FLAG", "");//R21.10 MOU
            sessionStorage.setItem("CoveragePanelModel_USE_INPUT_MOBILE_ONLINE_QUERY", "Y");//R21.10 MOU
            sessionStorage.setItem("CustomerRegisterPanelModel_FIBRE_ID", "");//R21.10 MOU

            $("#tmpDataID").val("");
            $("#tmpDataIDType").val("");
            $("#tmpFibrenetInfoDataID").val("");//R21.10 MOU
            $("#tmpFibrenetInfoDataIDType").val("");//R21.10 MOU

            if ($("#AisAirNumber").val() != "0000000000" || ($("#AisAirNumber").val() == "0000000000" && '@officer' == "1" && '@FBB_Con_MOU_FLAG' == "Y")) {
                //R21.10 MOU Case Input 00000000 and channel officer and FBB_Con_MOU_FLAG = Y
                // Call check Mobile online query
                $.ajax({
                    url: '/CheckCoverage/GetCheckMobileOnlineQuery',
                    data: {
                        mobileNo: $.trim($("#AisAirNumber").val()),
                        fibreID: $.trim($("#InternetNumber").val()),
                        locationCode: $("#LcCode").val()
                    },
                    dataType: "json",
                    type: 'POST',
                    success: function (response) {
                        if (response) {
                            //check session lost
                            if (response.ReloadToLogin == "Y") {
                                window.location.href = "/Officer/Index";
                            }

                            //R22.1 Issue MOU
                            var tmpPerMOBILE_NO_STATUS = (response.PersonalInfo.MOBILE_NO_STATUS != "" || response.PersonalInfo.MOBILE_NO_STATUS != null) ? response.PersonalInfo.MOBILE_NO_STATUS : "";
                            //-----------------------------
                            if (response.SubNetworkType != "") {
                                ///SetValue in Post-paid all Pre-paid
                                var tmpPersonalInfo = response.PersonalInfo;
                                var tmpSpecialOffer = response.SpecialOffer;
                                var tmpFibrenetInfo = response.FibrenetInfo;//R21.10

                                var SERENADE_FLAG = tmpSpecialOffer.filter(function (elem) {
                                    return elem.NAME == "SERENADE_FLAG";
                                });
                                if (SERENADE_FLAG.length > 0) {
                                    chk_Serenade_Flag = SERENADE_FLAG[0].VALUE;
                                }
                                $("#HdchkSerenade_Flag").val(chk_Serenade_Flag);
                                $('#CoveragePanelModel_Serenade_Flag').val($("#HdchkSerenade_Flag").val());
                                sessionStorage.setItem("CoveragePanelModel_Serenade_Flag", $("#HdchkSerenade_Flag").val());

                                var FMPA_FLAG = tmpSpecialOffer.filter(function (elem) {
                                    return elem.NAME == "FMPA_FLAG";
                                });
                                if (FMPA_FLAG.length > 0) {
                                    $("#CoveragePanelModel_SAVEORDER_FMPA_FLAG").val(FMPA_FLAG[0].VALUE);
                                    sessionStorage.setItem("CoveragePanelModel_SAVEORDER_FMPA_FLAG", FMPA_FLAG[0].VALUE);//R21.10
                                }

                                var CVM_FLAG = tmpSpecialOffer.filter(function (elem) {
                                    return elem.NAME == "CVM_FLAG";
                                });
                                if (CVM_FLAG.length > 0) {
                                    $("#CoveragePanelModel_SAVEORDER_CVM_FLAG").val(CVM_FLAG[0].VALUE);
                                    sessionStorage.setItem("CoveragePanelModel_SAVEORDER_CVM_FLAG", CVM_FLAG[0].VALUE);//R21.10
                                }

                                var FMC_SPECIAL_FLAG = tmpSpecialOffer.filter(function (elem) {
                                    return elem.NAME == "FMC_SPECIAL_FLAG";
                                });
                                if (FMC_SPECIAL_FLAG.length > 0) {
                                    $("#CoveragePanelModel_SAVEORDER_FMC_SPECIAL_FLAG").val(FMC_SPECIAL_FLAG[0].VALUE);
                                    sessionStorage.setItem("CoveragePanelModel_SAVEORDER_FMC_SPECIAL_FLAG", FMC_SPECIAL_FLAG[0].VALUE);//R21.10
                                }

                                var EXISTING_MOBILE_FLAG = tmpSpecialOffer.filter(function (elem) {
                                    return elem.NAME == "EXISTING_MOBILE_FLAG";
                                });
                                if (EXISTING_MOBILE_FLAG.length > 0) {
                                    $("#CoveragePanelModel_EXISTING_MOBILE_FLAG").val(EXISTING_MOBILE_FLAG[0].VALUE);
                                    sessionStorage.setItem("CoveragePanelModel_EXISTING_MOBILE_FLAG", EXISTING_MOBILE_FLAG[0].VALUE);//R21.10
                                }

                                //R21.10 MOU
                                var MOU_FLAG = tmpSpecialOffer.filter(function (elem) {
                                    return elem.NAME == "MOU_FLAG";
                                });
                                if (MOU_FLAG.length > 0) {
                                    $("#CoveragePanelModel_SAVEORDER_MOU_FLAG").val(MOU_FLAG[0].VALUE);
                                    sessionStorage.setItem("CoveragePanelModel_SAVEORDER_MOU_FLAG", MOU_FLAG[0].VALUE);//R21.10
                                }

                                $("#tmpFibrenetInfoDataID").val(tmpFibrenetInfo.ID_CARD_NO);
                                $("#tmpFibrenetInfoDataIDType").val(tmpFibrenetInfo.ID_CARD_TYPE);

                                $("#CoveragePanelModel_L_CONTACT_PHONE").val(sessionStorage.getItem("CoveragePanelModel_L_CONTACT_PHONE"));
                                $("#CoveragePanelModel_Serenade_Flag").val(sessionStorage.getItem("CoveragePanelModel_Serenade_Flag"));

                                $("#tmpDataID").val(tmpPersonalInfo.ID_CARD_NO);
                                $("#tmpDataIDType").val(tmpPersonalInfo.ID_CARD_TYPE);

                                $('#chkMobileSegment').val(tmpPersonalInfo.MOBILE_SEGMENT);
                                $('#CoveragePanelModel_MobileSegment').val($('#chkMobileSegment').val());
                                sessionStorage.setItem("CoveragePanelModel_MobileSegment", $("#CoveragePanelModel_MobileSegment").val());

                                $('#CustomerRegisterPanelModel_RELATE_MOBILE_SEGMENT').val($("#CoveragePanelModel_MobileSegment").val().toUpperCase());
                                sessionStorage.setItem("CustomerRegisterPanelModel_RELATE_MOBILE_SEGMENT", $('#CustomerRegisterPanelModel_RELATE_MOBILE_SEGMENT').val());

                                $("#CustomerRegisterPanelModel_Project_name").val(tmpPersonalInfo.PROJECT_NAME);
                                sessionStorage.setItem("CustomerRegisterPanelModel_Project_name", $("#CustomerRegisterPanelModel_Project_name").val());

                                $("#CustomerRegisterPanelModel_AccountCategory").val(tmpPersonalInfo.ACCOUNT_CATEGORY);
                                sessionStorage.setItem("CustomerRegisterPanelModel_AccountCategory", $('#CustomerRegisterPanelModel_AccountCategory').val());

                                $("#CustomerRegisterPanelModel_SffServiceYear").val(tmpPersonalInfo.SERVICE_YEAR_DAY);
                                sessionStorage.setItem("SffServiceYear", $("#CustomerRegisterPanelModel_SffServiceYear").val());


                                $("#CustomerRegisterPanelModel_SubNetworkType").val(tmpPersonalInfo.SUB_NETWORK_TYPE);
                                sessionStorage.setItem("SubNetworkType", $("#CustomerRegisterPanelModel_SubNetworkType").val());

                                $("#CustomerRegisterPanelModel_SffRegisteredDate").val(tmpPersonalInfo.REGISTER_DATE);
                                sessionStorage.setItem("SffRegisteredDate", $("#CustomerRegisterPanelModel_SffRegisteredDate").val());

                                var chkNetworkType = tmpPersonalInfo.NETWORK_TYPE;
                                if (chkNetworkType == "01") {
                                    $('#CoveragePanelModel_NetworkType').val("2G");
                                } else if (chkNetworkType == "23") {
                                    $('#CoveragePanelModel_NetworkType').val("2G");
                                } else if (chkNetworkType == "03") {
                                    $('#CoveragePanelModel_NetworkType').val("3G");
                                } else {
                                    $('#CoveragePanelModel_NetworkType').val(chkNetworkType);
                                }
                                sessionStorage.setItem("CoveragePanelModel_NetworkType", $("#CoveragePanelModel_NetworkType").val());

                                if (response.SubNetworkType == "Post-paid" && jQuery.inArray(tmpPerMOBILE_NO_STATUS, ConfigStatusMobileArray) !== -1) {
                                    $("#CoveragePanelModel_ChargeType").val("POSTPAID");
                                    sessionStorage.setItem("MobileStatus", "post");

                                    if ('' != '@L_TYPE_OF_RESIDENCE' && '' != '@L_OWNER' && '' != '@L_RENTAL') {
                                        var diffmonth = response.Diffmonth;
                                        if ($.isNumeric(diffmonth)) {
                                            ServiceYear = parseInt(diffmonth);}
                                        if ($.isNumeric(@SERVICE_YEAR_NO_RENTAL)) {
                                            CheckServiceYear = parseInt(@SERVICE_YEAR_NO_RENTAL);
                                        }
                                        if (ServiceYear > CheckServiceYear) {

                                            sessionStorage.setItem("IsServiceYear", "true");

                                        }

                                        var serenadeArray = [];
                                    @foreach (var item in SERENADE_NO_RENTALS)
                                    {
                                        @:serenadeArray.push("@item.Validation");
                                    }
                                        if ($.inArray(sessionStorage.getItem("CoveragePanelModel_MobileSegment"), serenadeArray) != -1) {
                                            sessionStorage.setItem("IsSerenade", "true");
                                        }

                                    }

                                    var chkServiceLevelData = "";
                                    var chkoutPaGroupData = "";

                                    if (checkNullOrUndefined(tmpPersonalInfo.SERVICE_LEVEL)) {
                                        chkServiceLevelData = "@SERVICE_LEVEL_L";
                                    } else {
                                        chkServiceLevelData = tmpPersonalInfo.SERVICE_LEVEL;
                                    }

                                    if (!checkNullOrUndefined(tmpPersonalInfo.PA_GROUP)) {
                                        chkoutPaGroupData = tmpPersonalInfo.PA_GROUP;
                                    }

                                    if (chkServiceLevelData == "@SERVICE_LEVEL_H") {
                                        sessionStorage.setItem("ServiceLevel_Action", 1);
                                        sessionStorage.setItem("ServiceLevel", "@SERVICE_LEVEL_H");
                                        sessionStorage.setItem("ServiceLevel_Flag", "@SERVICE_LEVEL_FLAG_EXISTING");
                                    }
                                    else if (chkoutPaGroupData != "" && chkoutPaGroupData != null) {
                                        sessionStorage.setItem("ServiceLevel_Action", 2);
                                        sessionStorage.setItem("ServiceLevel", "@SERVICE_LEVEL_H");
                                        sessionStorage.setItem("ServiceLevel_Flag", "@SERVICE_LEVEL_FLAG_PA");
                                    } else {
                                        sessionStorage.setItem("ServiceLevel_Action", 3);
                                        sessionStorage.setItem("ServiceLevel", chkServiceLevelData);
                                        sessionStorage.setItem("ServiceLevel_Flag", "null");
                                    }

                                    if (tmpPersonalInfo.PROJECT_NAME == "") {
                                        sessionStorage.setItem("type", "AIS");
                                    }
                                }
                                else if (response.SubNetworkType == "Pre-paid") {
                                    $("#CoveragePanelModel_ChargeType").val("PREPAID");
                                    sessionStorage.setItem("MobileStatus", "pre");

                                    if (tmpPersonalInfo.PROJECT_NAME == "") {
                                        if (chk_Serenade_Flag == "Y") {
                                            sessionStorage.setItem("type", "AIS");
                                        }
                                        else {
                                            $.ajax({
                                                url: '/CheckCoverage/GetMobileDataUsage',
                                                data: { mobileNo: $.trim($("#AisAirNumber").val()), networkType: $('#CoveragePanelModel_ChargeType').val() },
                                                dataType: "json",
                                                type: 'POST',
                                                async: false,
                                                success: function (data) {
                                                    var Usage = 0;
                                                    if (data != null) {
                                                        Usage = data.ARPU;
                                                        if (parseFloat(Usage) >= parseFloat('@PREPAID_USAGE')) { //Usage >= 300
                                                            //ลูกค้าเก่า
                                                            sessionStorage.setItem("type", "AIS");
                                                        }
                                                    }
                                                }
                                            });
                                        }
                                    }
                                }
                                sessionStorage.setItem("CoveragePanelModel_ChargeType", $("#CoveragePanelModel_ChargeType").val());
                            }
                            else {
                                sessionStorage.setItem("MobileStatus", "none");
                                $('#CustomerRegisterPanelModel_RELATE_MOBILE_SEGMENT').val("@FBB_Con_RELATE_MOBILE_SEGMENT");
                                sessionStorage.setItem("CustomerRegisterPanelModel_RELATE_MOBILE_SEGMENT", $('#CustomerRegisterPanelModel_RELATE_MOBILE_SEGMENT').val());

                                //R21.10 MOU
                                if ('@FBB_Con_MOU_FLAG' == "Y") {
                                    if ('@officer' == "1") {
                                        var tmpPersonalInfo = response.PersonalInfo;
                                        var tmpSpecialOffer = response.SpecialOffer;
                                        var tmpFibrenetInfo = response.FibrenetInfo;//R21.10
                                        if (tmpPersonalInfo.ID_CARD_TYPE == "" && tmpFibrenetInfo.ID_CARD_TYPE != "") {
                                            var SERENADE_FLAG = tmpSpecialOffer.filter(function (elem) {
                                                return elem.NAME == "SERENADE_FLAG";
                                            });
                                            if (SERENADE_FLAG.length > 0) {
                                                chk_Serenade_Flag = SERENADE_FLAG[0].VALUE;
                                            }
                                            $("#HdchkSerenade_Flag").val(chk_Serenade_Flag);
                                            $('#CoveragePanelModel_Serenade_Flag').val($("#HdchkSerenade_Flag").val());
                                            sessionStorage.setItem("CoveragePanelModel_Serenade_Flag", $("#HdchkSerenade_Flag").val());

                                            var FMPA_FLAG = tmpSpecialOffer.filter(function (elem) {
                                                return elem.NAME == "FMPA_FLAG";
                                            });
                                            if (FMPA_FLAG.length > 0) {
                                                $("#CoveragePanelModel_SAVEORDER_FMPA_FLAG").val(FMPA_FLAG[0].VALUE);
                                                sessionStorage.setItem("CoveragePanelModel_SAVEORDER_FMPA_FLAG", FMPA_FLAG[0].VALUE);//R21.10
                                            }

                                            var CVM_FLAG = tmpSpecialOffer.filter(function (elem) {
                                                return elem.NAME == "CVM_FLAG";
                                            });
                                            if (CVM_FLAG.length > 0) {
                                                $("#CoveragePanelModel_SAVEORDER_CVM_FLAG").val(CVM_FLAG[0].VALUE);
                                                sessionStorage.setItem("CoveragePanelModel_SAVEORDER_CVM_FLAG", CVM_FLAG[0].VALUE);//R21.10
                                            }

                                            var FMC_SPECIAL_FLAG = tmpSpecialOffer.filter(function (elem) {
                                                return elem.NAME == "FMC_SPECIAL_FLAG";
                                            });
                                            if (FMC_SPECIAL_FLAG.length > 0) {
                                                $("#CoveragePanelModel_SAVEORDER_FMC_SPECIAL_FLAG").val(FMC_SPECIAL_FLAG[0].VALUE);
                                                sessionStorage.setItem("CoveragePanelModel_SAVEORDER_FMC_SPECIAL_FLAG", FMC_SPECIAL_FLAG[0].VALUE);//R21.10
                                            }

                                            var EXISTING_MOBILE_FLAG = tmpSpecialOffer.filter(function (elem) {
                                                return elem.NAME == "EXISTING_MOBILE_FLAG";
                                            });
                                            if (EXISTING_MOBILE_FLAG.length > 0) {
                                                $("#CoveragePanelModel_EXISTING_MOBILE_FLAG").val(EXISTING_MOBILE_FLAG[0].VALUE);
                                                sessionStorage.setItem("CoveragePanelModel_EXISTING_MOBILE_FLAG", EXISTING_MOBILE_FLAG[0].VALUE);//R21.10
                                            }

                                            var MOU_FLAG = tmpSpecialOffer.filter(function (elem) {
                                                return elem.NAME == "MOU_FLAG";
                                            });
                                            if (MOU_FLAG.length > 0) {
                                                $("#CoveragePanelModel_SAVEORDER_MOU_FLAG").val(MOU_FLAG[0].VALUE);
                                                sessionStorage.setItem("CoveragePanelModel_SAVEORDER_MOU_FLAG", MOU_FLAG[0].VALUE);//R21.10
                                            }

                                            $("#tmpFibrenetInfoDataID").val(tmpFibrenetInfo.ID_CARD_NO);
                                            $("#tmpFibrenetInfoDataIDType").val(tmpFibrenetInfo.ID_CARD_TYPE);
                                        }
                                    }
                                }
                                //--End R21.10 MOU
                            }

                            //console.log("end bind value");
                            //R22.1 Issue MOU
                            var tmpPerMOBILE_NO_STATUS = (response.PersonalInfo.MOBILE_NO_STATUS != "" || response.PersonalInfo.MOBILE_NO_STATUS != null) ? response.PersonalInfo.MOBILE_NO_STATUS : "";
                            //-----------------------------
                            if (response.SubNetworkType == "Post-paid" && jQuery.inArray(tmpPerMOBILE_NO_STATUS, ConfigStatusMobileArray) !== -1) {
                                LockScreen(false);
                                //console.log("Post-paid");
                                var isOpenPopup = false;

                                if (tmpPersonalInfo.ID_CARD_TYPE_FOR == "@NON_RESIDENTIAL_FOR") {
                                    isOpenPopup = true;
                                }
                                if (isOpenPopup) {
                                    $('#btn-non_residential_yes').unbind('click');
                                    $('#btn-non_residential_yes').click(function () {
                                        $('#ID_CARD_NAMEs').val('@NON_RESIDENTIAL_DEFAULT_CARDTYPE');
                                        $("#ID_CARD_NAMEs").selectOrDie("update");
                                        $("#ID_CARD_NAMEs").selectOrDie("disable");
                                        sessionStorage.setItem("Customer_NonResFlag", '@NON_RESIDENTIAL_NONRESFLAG_YES');
                                    });
                                    $('#btn-non_residential_no').unbind('click');
                                    $('#btn-non_residential_no').click(function () {
                                        $('#ID_CARD_NAMEs option:eq(1)').attr('selected', 'selected');
                                        $("#ID_CARD_NAMEs").selectOrDie("update");
                                        $("#ID_CARD_NAMEs").selectOrDie("enable");
                                        sessionStorage.setItem("Customer_NonResFlag", '@NON_RESIDENTIAL_NONRESFLAG_NO');
                                    });
                                    $('#modal-non_residential').on('hidden.bs.modal', function () {
                                        //console.log("showButtonWithSelectCardType");
                                        showButtonWithSelectCardType();
                                    });
                                    $('#modal-non_residential').modal({
                                        backdrop: "static",
                                        keyboard: false,
                                        show: true
                                    });
                                    //20.6 AI Chat Bot - Bypass
                                    setAIChatBotBypass("stop-bypass");
                                } else {
                                    $('#ID_CARD_NAMEs option:eq(1)').attr('selected', 'selected');
                                    $("#ID_CARD_NAMEs").selectOrDie("update");
                                    $("#ID_CARD_NAMEs").selectOrDie("enable");
                                    //console.log("showButtonWithSelectCardType");
                                    showButtonWithSelectCardType();
                                }
                            } else if (response.SubNetworkType == "Pre-paid") {
                                if ('@FBB_Con_MOU_FLAG' == "Y") {
                                    //R22.04 Issue MOU
                                    if ('@officer' == "1") {
                                        if ($("#tmpFibrenetInfoDataIDType").val() != "") {
                                            LockScreen(false);
                                            $('#ID_CARD_NAMEs option:eq(1)').attr('selected', 'selected');
                                            $("#ID_CARD_NAMEs").selectOrDie("update");
                                            $("#ID_CARD_NAMEs").selectOrDie("enable");
                                            showButtonWithSelectCardType();
                                        }
                                        else {
                                            $('#PrePostPaid').submit();
                                        }
                                    } else {
                                        $('#PrePostPaid').submit();
                                    }
                                }
                                else {
                                    //Old
                                    //console.log("Pre-paid");
                                    $("#L_CARD_NOs").val('');
                                    /// callCheckIdcard
                                    checkProcessPrePostPaidOnlineQuery();
                                }
                            } else {
                                if ('@FBB_Con_MOU_FLAG' == "Y") {
                                    //R21.10 MOU
                                    if ('@officer' == "1") {
                                        if ($("#tmpFibrenetInfoDataIDType").val() != "") {
                                            LockScreen(false);
                                            $('#ID_CARD_NAMEs option:eq(1)').attr('selected', 'selected');
                                            $("#ID_CARD_NAMEs").selectOrDie("update");
                                            $("#ID_CARD_NAMEs").selectOrDie("enable");
                                            showButtonWithSelectCardType();
                                        }
                                        else {
                                            $('#PrePostPaid').submit();
                                        }
                                    } else {
                                        $('#PrePostPaid').submit();
                                    }
                                }
                                else {
                                    //Old
                                    $('#PrePostPaid').submit();
                                }
                            }
                        }
                    }
                });
            }
            else {
                sessionStorage.setItem("MobileStatus", "none");
                $('#CustomerRegisterPanelModel_RELATE_MOBILE_SEGMENT').val("@FBB_Con_RELATE_MOBILE_SEGMENT");
                sessionStorage.setItem("CustomerRegisterPanelModel_RELATE_MOBILE_SEGMENT", $('#CustomerRegisterPanelModel_RELATE_MOBILE_SEGMENT').val());
                $('#PrePostPaid').submit();
            }
        }

        function checkProcessPrePostPaidOnlineQuery() {
            LockScreen(true,"");
            //R18.11 IdCard Reader on PC
            if (typeof aisNative == "undefined" || typeof aisNative == "" || typeof aisNative == null) {
            }
            else {
                if (!validateNativeInput()) {
                    LockScreen(false);
                    if (!$("#L_CARD_NOs").is(":hidden")) {
                        if (typeof aisNative == "undefined" || typeof aisNative == "" || typeof aisNative == null) {
                            var cardIdUsb = sessionStorage.getItem('Card_id_card_usb');
                            $("#L_CARD_NOs").val(cardIdUsb);

                            if (cardIdUsb) {
                                $('#Continue1').hide();
                                $('#Continue3').show();
                            } else {
                                $('#Continue3').hide();
                                $('#Continue1').show();
                            }
                        }
                        else {
                            var result = aisNative.sendIccCommand(0, 2, "");
                            if (result == "Presented") {
                                var fieldValues = aisNative.sendIccCommand(0, 4, "").split("#");
                                var cardIdNative = fieldValues[2];
                                $("#L_CARD_NOs").val(cardIdNative);

                                if (cardIdNative) {
                                    $('#Continue1').hide();
                                    $('#Continue3').show();
                                } else {
                                    $('#Continue3').hide();
                                    $('#Continue1').show();
                                }
                            }

                        }
                    }
                    //20.6 AI Chat Bot - Bypass
                    setAIChatBotBypass("set-card-no");
                    return;
                }
            }

            /// call CheckIDCard

            /// bind value Id card

            var isNonRes = sessionStorage.getItem("Customer_NonResFlag") == '@NON_RESIDENTIAL_NONRESFLAG_YES';

            var tmpMouFlag = '@FBB_Con_MOU_FLAG';//R21.10
            var tmpOfficer = '@officer';//R21.10

            $.ajax({
                url: '/CheckCoverage/GetCheckIDCardOnlineQuery',
                data: {
                    mobileNo: $.trim($("#AisAirNumber").val()),
                    tmpDataID: $("#tmpDataID").val(),
                    tmpDataIDType: $("#tmpDataIDType").val(),
                    idCard: $("#L_CARD_NOs").val(),
                    idCardType: $("#ID_CARD_NAMEs :selected").val(),
                    SubNetworkType: $("#CoveragePanelModel_ChargeType").val(),
                    StatusNonRes: isNonRes,
                    tmpFibrenetInfoDataID: $("#tmpFibrenetInfoDataID").val(),//R21.10
                    tmpFibrenetInfoDataIDType: $("#tmpFibrenetInfoDataIDType").val()//R21.10
                },
                dataType: "json",
                type: 'POST',
                success: function (response) {
                    if (response.data) {
                        var data = response.data;
                        var checkID = false;
                        var cardID_SFF = "";
                        var cardType_SFF = "";

                        if (tmpMouFlag == "Y")
                        {//R21.10 MOU
                            //var on_type = sessionStorage.getItem("type");
                            //if (tmpOfficer == "1" && on_type == "NEW")
                            if (tmpOfficer == "1" && $("#InternetNumber").val() != "")
                            {//OFFICER //Line NewRegis
                                if (data.V1 == "Y" && data.V4 == "Y") {
                                    //081ตรง 88ตรง
                                    checkID = true;
                                    $("#CustomerRegisterPanelModel_FIBRE_ID").val($("#InternetNumber").val());
                                    sessionStorage.setItem("CustomerRegisterPanelModel_FIBRE_ID", $("#InternetNumber").val());
                                    cardID_SFF = base64_decode(data.V2);
                                    cardType_SFF = base64_decode(data.V3);
                                    $('#CustomerRegisterPanelModel_L_CARD_NO').val(cardID_SFF);
                                    sessionStorage.setItem("ID_CARD_NAMEs", cardType_SFF);
                                    sessionStorage.setItem("L_CARD_NOs", $("#L_CARD_NOs").val());
                                    sessionStorage.setItem("L_CARD_NO_2", data.V2);
                                    sessionStorage.setItem("L_CARD_TYPE", data.V3);
                                }
                                else if (data.V1 == "N" && data.V4 == "Y") {
                                    //081ไม่ตรง 88ตรง
                                    checkID = true;
                                    $("#CustomerRegisterPanelModel_FIBRE_ID").val($("#InternetNumber").val());
                                    sessionStorage.setItem("CustomerRegisterPanelModel_FIBRE_ID", $("#InternetNumber").val());

                                    if ($("#CoveragePanelModel_Serenade_Flag").val() == "Y") {
                                        $("#CoveragePanelModel_Serenade_Flag").val("N");
                                        sessionStorage.setItem("CoveragePanelModel_Serenade_Flag", "N");
                                    }

                                    if ($("#CoveragePanelModel_SAVEORDER_FMPA_FLAG").val() == "Y") {
                                        $("#CoveragePanelModel_SAVEORDER_FMPA_FLAG").val("N");
                                        sessionStorage.setItem("CoveragePanelModel_SAVEORDER_FMPA_FLAG", "N");
                                    }

                                    if ($("#CoveragePanelModel_SAVEORDER_CVM_FLAG").val() == "Y") {
                                        $("#CoveragePanelModel_SAVEORDER_CVM_FLAG").val("N");
                                        sessionStorage.setItem("CoveragePanelModel_SAVEORDER_CVM_FLAG", "N");
                                    }

                                    if ($("#CoveragePanelModel_SAVEORDER_FMC_SPECIAL_FLAG").val() == "Y") {
                                        $("#CoveragePanelModel_SAVEORDER_FMC_SPECIAL_FLAG").val("N");
                                        sessionStorage.setItem("CoveragePanelModel_SAVEORDER_FMC_SPECIAL_FLAG", "N");
                                    }

                                    if ($("#CoveragePanelModel_EXISTING_MOBILE_FLAG").val() == "Y") {
                                        $("#CoveragePanelModel_EXISTING_MOBILE_FLAG").val("N");
                                        sessionStorage.setItem("CoveragePanelModel_EXISTING_MOBILE_FLAG", "N");
                                    }

                                    cardID_SFF = base64_decode(data.V2);//FibrenetInfo.ID_CARD_NO
                                    cardType_SFF = base64_decode(data.V3);//FibrenetInfo.ID_CARD_TYPE
                                    $('#CustomerRegisterPanelModel_L_CARD_NO').val(cardID_SFF);
                                    sessionStorage.setItem("ID_CARD_NAMEs", cardType_SFF);
                                    sessionStorage.setItem("L_CARD_NOs", $("#L_CARD_NOs").val());
                                    sessionStorage.setItem("L_CARD_NO_2", data.V2);
                                    sessionStorage.setItem("L_CARD_TYPE", data.V3);
                                }
                                else if (data.V1 == "Y" && data.V4 == "N") {
                                    //081ตรง 88ไม่ตรง
                                    checkID = true;
                                    $("#CustomerRegisterPanelModel_FIBRE_ID").val("");
                                    sessionStorage.setItem("CustomerRegisterPanelModel_FIBRE_ID", "");

                                    if ($("#CoveragePanelModel_SAVEORDER_MOU_FLAG").val() == "Y") {
                                        $("#CoveragePanelModel_SAVEORDER_MOU_FLAG").val("N");
                                        sessionStorage.setItem("CoveragePanelModel_SAVEORDER_MOU_FLAG", "N");
                                    }

                                    cardID_SFF = base64_decode(data.V2);
                                    cardType_SFF = base64_decode(data.V3);
                                    $('#CustomerRegisterPanelModel_L_CARD_NO').val(cardID_SFF);
                                    sessionStorage.setItem("ID_CARD_NAMEs", cardType_SFF);
                                    sessionStorage.setItem("L_CARD_NOs", $("#L_CARD_NOs").val());
                                    sessionStorage.setItem("L_CARD_NO_2", data.V2);
                                    sessionStorage.setItem("L_CARD_TYPE", data.V3);
                                }
                                else {
                                    //081ไม่ตรง 88ไม่ตรง
                                    checkID = false;
                                    $("#CustomerRegisterPanelModel_FIBRE_ID").val("");
                                    sessionStorage.setItem("CustomerRegisterPanelModel_FIBRE_ID", "");
                                }
                            }
                            else
                            { //CUSTOMER
                                if (data.V1 == "Y") {
                                    checkID = true;
                                    cardID_SFF = base64_decode(data.V2);
                                    cardType_SFF = base64_decode(data.V3);
                                    $('#CustomerRegisterPanelModel_L_CARD_NO').val(cardID_SFF);
                                    sessionStorage.setItem("ID_CARD_NAMEs", cardType_SFF);
                                    sessionStorage.setItem("L_CARD_NOs", $("#L_CARD_NOs").val());
                                    sessionStorage.setItem("L_CARD_NO_2", data.V2);
                                    sessionStorage.setItem("L_CARD_TYPE", data.V3);
                                }
                            }
                        }
                        else {
                            //Old
                            if (data.V1 == "Y") {
                                checkID = true;
                                cardID_SFF = base64_decode(data.V2);
                                cardType_SFF = base64_decode(data.V3);
                                $('#CustomerRegisterPanelModel_L_CARD_NO').val(cardID_SFF);
                                sessionStorage.setItem("ID_CARD_NAMEs", cardType_SFF);
                                sessionStorage.setItem("L_CARD_NOs", $("#L_CARD_NOs").val());
                                sessionStorage.setItem("L_CARD_NO_2", data.V2);
                                sessionStorage.setItem("L_CARD_TYPE", data.V3);
                            }
                        }


                        if ($("#CoveragePanelModel_ChargeType").val() == "POSTPAID") {
                            if (checkID) {
                                $('#PrePostPaid').submit();
                            }
                            else {
                                LockScreen(false);
                                $("#idCardErrorMessage").show();
                                //20.6 AI Chat Bot - Bypass
                                setAIChatBotBypass("stop-bypass");
                            }
                        }
                        else if ($("#CoveragePanelModel_ChargeType").val() == "PREPAID") {
                            if ("@Model.TopUp" == "5" || "@ViewBag.Vas" == "1") {
                                $('#PrePostPaid').submit();
                            }
                            else {
                                if ('@L_OTP_CUSTOMER' == "Y") {
                                    LockScreen(false);
                                    $.ajax({
                                        url: '/Process/SendOneTimePW',
                                        data: { msisdn: $.trim($("#AisAirNumber").val()), accountType: $('#CoveragePanelModel_ChargeType').val() },
                                        dataType: "json",
                                        type: 'POST',
                                        async: false,
                                        success: function (data3) {
                                            LockScreen(false);
                                            if (data3 != null) {
                                                if (data3.code == "000") {
                                                    $('#GSSO_transactionID').val(data3.transactionID);

                                                    $("#AisAirNumber").attr("disabled", true);
                                                    $('#col-Condition').hide();
                                                    $('#Continue2').hide();
                                                    $('#Continue1').hide();
                                                    $('#col-OTP').show();
                                                    $("#btnTh").hide();
                                                    $("#btnEn").hide();
                                                    $(".display-th").hide();
                                                    $(".display-en").hide();
                                                    //20.6 AI Chat Bot - Bypass
                                                    setAIChatBotBypass("stop-bypass");
                                                } else {
                                                    $.ajax({
                                                        url: '/Process/getErrorCodeOTP',
                                                        data: { Error_Code: data3.code, Mobile_No: $.trim($("#AisAirNumber").val()) },
                                                        dataType: "text",
                                                        type: 'POST',
                                                        async: false,
                                                        success: function (data4) {

                                                            if (data4 != null && data4 != "") {
                                                                $('#col-form').hide();
                                                                $('#col-Condition').hide();
                                                                $('#col-OTP').hide();
                                                                $('#lb-failed').html(data4);
                                                                $('#col-err').show();
                                                                //20.6 AI Chat Bot - Bypass
                                                                setAIChatBotBypass("stop-bypass");
                                                            } else {
                                                                $('#col-form').hide();
                                                                $('#col-Condition').hide();
                                                                $('#col-OTP').hide();
                                                                $('#lb-failed').html('@L_ERR_NOT_FOUND');
                                                                $('#col-err').show();
                                                                //20.6 AI Chat Bot - Bypass
                                                                setAIChatBotBypass("stop-bypass");
                                                            }
                                                        }
                                                    });
                                                }
                                            }
                                            else {

                                                $('#col-form').hide();
                                                $('#col-Condition').hide();
                                                $('#col-OTP').hide();
                                                $('#lb-failed').html('@L_ERR_NOT_FOUND');
                                                $('#col-err').show();
                                                //20.6 AI Chat Bot - Bypass
                                                setAIChatBotBypass("stop-bypass");
                                            }
                                        }
                                    });
                                }
                                else {
                                    $('#PrePostPaid').submit();
                                }
                            }
                        }
                        else {
                            if ('@FBB_Con_MOU_FLAG' == "Y") {
                                if ('@officer' == "1") {
                                    if (checkID) {
                                        $('#PrePostPaid').submit();
                                    }
                                    else {
                                        LockScreen(false);
                                        $("#idCardErrorMessage").show();
                                        //20.6 AI Chat Bot - Bypass
                                        setAIChatBotBypass("stop-bypass");
                                    }
                                }
                            }
                        }
                    }
                    else {
                        LockScreen(false);
                        $("#idCardErrorMessage").show();
                        //20.6 AI Chat Bot - Bypass
                        setAIChatBotBypass("stop-bypass");
                    }
                }
            });
        }

        function checkProcessCallback() {
            // Update 17.4 Script Adobe Analytic
            digitalData.customLinkName = "input-mobile-number:next";
            //console.log("custom-link-click : button Continue2 func checkProcessCallback");


            sessionStorage.setItem("AisAirNumber", null);
            sessionStorage.setItem("ID_CARD_NAMEs", null);
            sessionStorage.setItem("L_CARD_NOs", null);
            sessionStorage.setItem("CoveragePanelModel_L_CONTACT_PHONE", "");
            sessionStorage.setItem("CoveragePanelModel_MobileSegment", "");
            sessionStorage.setItem("CoveragePanelModel_NetworkType", "");
            sessionStorage.setItem("CoveragePanelModel_ChargeType", "");
            sessionStorage.setItem("CustomerRegisterPanelModel_Project_name", "");
            sessionStorage.setItem("CoveragePanelModel_P_PrePostpiad", "ProfilePrePostPaid");
            sessionStorage.setItem("CustomerRegisterPanelModel_AccountCategory", "");
            sessionStorage.setItem("CustomerRegisterPanelModel_CustomerSubtype", "");
            sessionStorage.setItem("SffServiceYear", "0");
            sessionStorage.setItem("SubNetworkType", "");

            if ('@Model.StaffPrivilegeBypass_Flag' == 'Y') {
                sessionStorage.setItem("AisAirNumber", '@Model.CoveragePanelModel.P_MOBILE');
                sessionStorage.setItem("ID_CARD_NAMEs", '@Model.IDCardType');
                sessionStorage.setItem("L_CARD_NOs", '@Model.IDCardNo');
            }

            $("#idCardErrorMessage").hide();
            $("#Continue1").show();
            $("#Continue2").hide();
            var timerID;
            var chkBundling = "";
            var chk_Serenade_Flag = "N";

            //ลูกค้าใหม่
            sessionStorage.setItem("vas_flag", "@vas_flag");
            sessionStorage.setItem("type", "NEW");
            $("#HdchkSerenade_Flag").val(chk_Serenade_Flag);
            $('#CoveragePanelModel_Serenade_Flag').val("N");
            //ส่งค่าไปOutofcoveragt
            $('#CoveragePanelModel_L_CONTACT_PHONE').val($("#AisAirNumber").val());
            //ส่งค่าไป CustomerRegister
            $('#CustomerRegisterPanelModel_L_MOBILE').val($("#AisAirNumber").val());
            $('#CoveragePanelModel_P_MOBILE').val($("#AisAirNumber").val());
            sessionStorage.setItem("AisAirNumber", $("#AisAirNumber").val());
            sessionStorage.setItem("CoveragePanelModel_Serenade_Flag", $("#HdchkSerenade_Flag").val());
            sessionStorage.setItem("CoveragePanelModel_L_CONTACT_PHONE", $("#CoveragePanelModel_L_CONTACT_PHONE").val());
            var nonAis = false;
            var number_type = null;

            if ('' == '@L_TYPE_OF_RESIDENCE' && '' == '@L_OWNER' && '' == '@L_RENTAL') {
                sessionStorage.setItem("ShowRental", "false");
            }
            else {
                sessionStorage.setItem("ShowRental", "true");
            }
            sessionStorage.setItem("MobileStatus", "");

            // 18.8
            $('#CustomerRegisterPanelModel_RELATE_MOBILE_SEGMENT').val("@FBB_Con_RELATE_MOBILE_SEGMENT");
            sessionStorage.setItem("CustomerRegisterPanelModel_RELATE_MOBILE_SEGMENT", $('#CustomerRegisterPanelModel_RELATE_MOBILE_SEGMENT').val());
            //20.6 Non-Res Register Residential
            sessionStorage.setItem("Customer_NonResFlag", "");

            $.ajax({
                url: '/CheckCoverage/GetCCCustInfoQuery',
                data: { mobileNo: $.trim($("#AisAirNumber").val()), device_type: $("#Register_device").val(), browser_type: $("#Browser_type").val() },
                dataType: "json",
                type: 'POST',
                success: function (response) {
                    var data = response.data;
                    if (data && data.GUIDKEY != "") {
                        if (data.TYPE) {
                            if (data.TYPE == "Post-paid" && (data.STATE.toUpperCase() == "ACTIVE"
                                || data.STATE.toUpperCase() == "SA"
                                || data.STATE.toUpperCase() == "SS"
                                || data.STATE.toUpperCase().indexOf("SUSPEND") > -1)) {
                                nonAis = true;

                                var isOpenPopup = false;
                                if (data.CARD_TYPE_F ==  "@NON_RESIDENTIAL_FOR") {
                                    isOpenPopup = true;
                                }
                                if (isOpenPopup) {
                                    $('#btn-non_residential_yes').unbind('click');
                                    $('#btn-non_residential_yes').click(function () {
                                        $('#ID_CARD_NAMEs').val('@NON_RESIDENTIAL_DEFAULT_CARDTYPE');
                                        $("#ID_CARD_NAMEs").selectOrDie("update");
                                        $("#ID_CARD_NAMEs").selectOrDie("disable");
                                        sessionStorage.setItem("Customer_NonResFlag", '@NON_RESIDENTIAL_NONRESFLAG_YES');
                                    });
                                    $('#btn-non_residential_no').unbind('click');
                                    $('#btn-non_residential_no').click(function () {
                                        $('#ID_CARD_NAMEs option:eq(1)').attr('selected', 'selected');
                                        $("#ID_CARD_NAMEs").selectOrDie("update");
                                        $("#ID_CARD_NAMEs").selectOrDie("enable");
                                        sessionStorage.setItem("Customer_NonResFlag", '@NON_RESIDENTIAL_NONRESFLAG_NO');
                                    });
                                    $('#modal-non_residential').on('hidden.bs.modal', function () {
                                        showButtonWithSelectCardType(data);
                                    });
                                    $('#modal-non_residential').modal({
                                        backdrop: "static",
                                        keyboard: false,
                                        show: true
                                    });
                                    //20.6 AI Chat Bot - Bypass
                                    setAIChatBotBypass("stop-bypass");
                                } else {
                                    $('#ID_CARD_NAMEs option:eq(1)').attr('selected', 'selected');
                                    $("#ID_CARD_NAMEs").selectOrDie("update");
                                    $("#ID_CARD_NAMEs").selectOrDie("enable");

                                    showButtonWithSelectCardType(data);
                                }
                            } else if (data.TYPE == "Pre-paid" && (data.STATE.toUpperCase() == "ACTIVE"
                                || data.STATE.toUpperCase() == "SA"
                                || data.STATE.toUpperCase() == "SS"
                                || data.STATE.toUpperCase().indexOf("SUSPEND") > -1)) {

                                number_type = "pre";
                                sessionStorage.setItem("MobileStatus", "pre");

                                $("#L_CARD_NOs").val('');
                                nonAis = true;
                                checkProcessPrePostPaid(data.GUIDKEY);
                            }
                        }
                    }

                    //20.3 Service Level
                    sessionStorage.removeItem("ServiceLevel_Action");
                    sessionStorage.removeItem("ServiceLevel");
                    sessionStorage.removeItem("ServiceLevel_Flag");
                    sessionStorage.setItem("ServiceLevel_Action", 4);
                    sessionStorage.setItem("ServiceLevel", "null");
                    sessionStorage.setItem("ServiceLevel_Flag", "null");

                    if (!nonAis) {
                        LockScreen(true, "");

                        number_type = "none";
                        sessionStorage.setItem("MobileStatus", "none");
                        sessionStorage.setItem("CoveragePanelModel_P_PrePostpiad", "ProfilePrePostPaid");
                        // 18.8
                        $('#CustomerRegisterPanelModel_RELATE_MOBILE_SEGMENT').val("@FBB_Con_RELATE_MOBILE_SEGMENT");
                        sessionStorage.setItem("CustomerRegisterPanelModel_RELATE_MOBILE_SEGMENT", $('#CustomerRegisterPanelModel_RELATE_MOBILE_SEGMENT').val());

                        $('#PrePostPaid').submit();
                    } else {
                        //R18.11 IdCard Reader on PC
                        if (!$("#L_CARD_NOs").is(":hidden")) {
                            if (typeof aisNative == "undefined" || typeof aisNative == "" || typeof aisNative == null) {
                                var cardIdUsb = sessionStorage.getItem('Card_id_card_usb');
                                $("#L_CARD_NOs").val(cardIdUsb);

                                if (cardIdUsb) {
                                    $('#Continue1').hide();
                                    $('#Continue3').show();
                                } else {
                                    $('#Continue3').hide();
                                    $('#Continue1').show();
                                }
                            }
                            else {
                                var result = aisNative.sendIccCommand(0, 2, "");
                                if (result == "Presented") {
                                    var fieldValues = aisNative.sendIccCommand(0, 4, "").split("#");
                                    var cardIdNative = fieldValues[2];
                                    $("#L_CARD_NOs").val(cardIdNative);

                                    if (cardIdNative) {
                                        $('#Continue1').hide();
                                        $('#Continue3').show();
                                    } else {
                                        $('#Continue3').hide();
                                        $('#Continue1').show();
                                    }
                                }

                            }
                        }

                        //20.6 AI Chat Bot - Bypass
                        setAIChatBotBypass("set-card-no");
                    }
                }
            });
        }

        //20.6 AI Chat Bot - Bypass
        function setAIChatBotBypass(stepCase) {
            if ($("#AIChatBotBypass_Flag").val() == "Y") {
                var btnContinue1 = document.getElementById("Continue1");
                var btnContinue2 = document.getElementById("Continue2");
                var btnContinue3 = document.getElementById("Continue3");
                var docAisAirNumber = document.getElementById("AisAirNumber");
                var pMobile = $("#CoveragePanelModel_P_MOBILE").val();
                var docCardType = document.getElementById("ID_CARD_NAMEs");
                var docCardNos = document.getElementById("L_CARD_NOs");
                var pIDCardNo = $("#IDCardNo").val();
                var pIDCardType = $("#IDCardType").val();

                if (stepCase == "set-mobile") {

                    if (docAisAirNumber != undefined && pMobile != undefined && pMobile != '') {

                        docAisAirNumber.value = $.trim(pMobile);
                        var pMobileLength = docAisAirNumber.value.length;

                        if (pMobileLength == 10) {
                            if (btnContinue1 != undefined && btnContinue2 != undefined && btnContinue3 != undefined) {
                                btnContinue1.style.display = "none";
                                btnContinue2.style.display = "inline-block";
                                btnContinue3.style.display = "none";
                                btnContinue2.click();
                            }
                        }
                        else {
                            $("#AIChatBotBypass_Flag").val("N");
                            $("#divBoxform").show();
                        }
                    }
                    else {
                        $("#AIChatBotBypass_Flag").val("N");
                        $("#divBoxform").show();
                    }
                }

                if (stepCase == "set-card-no") {
                    if (docAisAirNumber != undefined && pMobile != undefined && pMobile != '') {
                        if (docCardType != undefined && pIDCardType != undefined && pIDCardType != '') {
                            var selectionIndex = 0;
                            if (docCardType.options.length > 0) {
                                //console.log("set-card-no : length = " + docCardType.options.length);
                                for (var i = 0; i < docCardType.options.length; i++) {
                                    //console.log("set-card-no : index : " + i + " ; val : " + docCardType.options[i].value + " ; text : " + docCardType.options[i].text);
                                    if (docCardType.options[i].value == pIDCardType) {
                                        selectionIndex = i;
                                    }
                                }
                            }
                            if (selectionIndex > 0) {
                                $('#ID_CARD_NAMEs option:eq(' + selectionIndex + ')').attr('selected', 'selected');
                                $("#ID_CARD_NAMEs").selectOrDie("update");
                                $("#ID_CARD_NAMEs").selectOrDie("enable");
                            }
                        }

                        if (docCardNos != undefined && pIDCardNo != undefined && pIDCardNo != '') {
                            docCardNos.value = $.trim(pIDCardNo);
                        }

                        if (docCardNos != undefined && docCardNos.value != undefined && docCardNos.value != '') {
                            if (btnContinue1 != undefined && btnContinue2 != undefined && btnContinue3 != undefined) {
                                btnContinue1.style.display = "none";
                                btnContinue2.style.display = "none";
                                btnContinue3.style.display = "inline-block";
                                btnContinue3.click();
                            }
                        }
                        else {
                            if (btnContinue1 != undefined && btnContinue2 != undefined && btnContinue3 != undefined) {
                                btnContinue1.style.display = "inline-block";
                                btnContinue2.style.display = "none";
                                btnContinue3.style.display = "none";
                            }
                            $("#AIChatBotBypass_Flag").val("N");
                            $("#divBoxform").show();
                        }
                    }
                }

                if (stepCase == "stop-bypass") {
                    if (btnContinue1 != undefined && btnContinue2 != undefined && btnContinue3 != undefined) {
                        if (docCardNos != undefined && docCardNos.value != undefined && docCardNos.value != '') {
                            btnContinue1.style.display = "none";
                            btnContinue2.style.display = "none";
                            btnContinue3.style.display = "inline-block";
                        }
                        else {
                            btnContinue1.style.display = "inline-block";
                            btnContinue2.style.display = "none";
                            btnContinue3.style.display = "none";
                        }
                    }

                    $("#AIChatBotBypass_Flag").val("N");
                    $("#divBoxform").show();
                }
            }

            if ($("#AIChatBotBypass_Flag").val() == "N") {
                var btnContinue1 = document.getElementById("Continue1");
                var btnContinue2 = document.getElementById("Continue2");
                var btnContinue3 = document.getElementById("Continue3");
                var docAisAirNumber = document.getElementById("AisAirNumber");
                var pMobile = $("#CoveragePanelModel_P_MOBILE").val();
                var docCardType = document.getElementById("ID_CARD_NAMEs");
                var docCardNos = document.getElementById("L_CARD_NOs");
                var pIDCardNo = $("#IDCardNo").val();
                var pIDCardType = $("#IDCardType").val();

                if (stepCase == "close-non-residential") {

                    var valNonResFlag = sessionStorage.getItem("Customer_NonResFlag");
                    if (valNonResFlag == '@NON_RESIDENTIAL_NONRESFLAG_YES') {
                        if (docCardNos != undefined && docCardNos.value != undefined) {
                            pIDCardNo = '';
                            pIDCardType = '';
                            docCardNos.value = '';
                            $('#ID_CARD_NAMEs').val('@NON_RESIDENTIAL_DEFAULT_CARDTYPE');
                            $("#ID_CARD_NAMEs").selectOrDie("update");
                            $("#ID_CARD_NAMEs").selectOrDie("disable");
                        }
                    }

                    if (docCardType != undefined && pIDCardType != undefined && pIDCardType != '') {
                        var selectionIndex = 0;
                        if (docCardType.options.length > 0) {
                            //console.log("set-card-no : length = " + docCardType.options.length);
                            for (var i = 0; i < docCardType.options.length; i++) {
                                //console.log("set-card-no : index : " + i + " ; val : " + docCardType.options[i].value + " ; text : " + docCardType.options[i].text);
                                if (docCardType.options[i].value == pIDCardType) {
                                    selectionIndex = i;
                                }
                            }
                        }
                        if (selectionIndex > 0) {
                            $('#ID_CARD_NAMEs option:eq(' + selectionIndex + ')').attr('selected', 'selected');
                            $("#ID_CARD_NAMEs").selectOrDie("update");
                            $("#ID_CARD_NAMEs").selectOrDie("enable");
                        }
                    }

                    if (docCardNos != undefined && pIDCardNo != undefined && pIDCardNo != '') {
                        docCardNos.value = pIDCardNo;
                    }

                    if (btnContinue1 != undefined && btnContinue2 != undefined && btnContinue3 != undefined) {
                        if (docCardNos != undefined && docCardNos.value != undefined && docCardNos.value != '') {
                            btnContinue1.style.display = "none";
                            btnContinue2.style.display = "none";
                            btnContinue3.style.display = "inline-block";
                        }
                        else {
                            btnContinue1.style.display = "inline-block";
                            btnContinue2.style.display = "none";
                            btnContinue3.style.display = "none";
                        }
                    }

                    $("#divBoxform").show();
                }
            }
        }

        function showButtonWithSelectCardType(data) {

            $("#Continue1").show();

            $("#searchProfileCardFirst").find("h4").html("@L_INPUT_ID_CARD");
            $("#searchProfileCardFirst").find("input").attr("disabled", true);
            $("#searchProfileCardNoType").show();
            $("#AisAirNumber").attr('disabled', true);
            $("#InternetNumber").attr('disabled', true);//R21.10 MOU
            $("#CancleIdCard").show();
            if ('@vas_flag' == "1") {
                $('#backProcessSelect').hide();
                $('#CancleIdCard').show();
            }
            else if ('@vas_flag' == "3") {
                $('#backtripleplay').hide();
                $('#CancleIdCard').show();
            }
            else if ('@officer' != "") {
                $('#backOfficer').hide();
                $('#CancleIdCard').show();

            }

            number_type = "post";

            subCatData = GetCustomerSubCat($("#ID_CARD_NAMEs :selected").val());
            $("#CustomerRegisterPanelModel_CustomerSubtype").val(subCatData.value4);
            sessionStorage.setItem("CustomerRegisterPanelModel_CustomerSubtype", subCatData.value4);
            sessionStorage.setItem("Customer_CardType", subCatData.value3);

            $('#Continue3').unbind('click');
            $("#Continue3").click(function () {

                // LOV Use Chek Mobile online query
                if ("Y" == "@MOBILE_INFO_BY_ONLINE_QUERY_USE") {
                    /// callCheckIdcard
                    checkProcessPrePostPaidOnlineQuery();
                }
                else {
                    checkProcessPrePostPaid(data.GUIDKEY);
                }
            });

            //20.6 AI Chat Bot - Bypass
            setAIChatBotBypass("close-non-residential");
        }

        function checkProcess() {

            // LOV Use Chek Mobile online query
            if ("Y" == "@MOBILE_INFO_BY_ONLINE_QUERY_USE") {
                if (typeof aisNative == "undefined" || typeof aisNative == "" || typeof aisNative == null) {
                    checkProcessOnlineQueryCallback();
                } else {
                    getIDCARDInfoWithCallback(function () {
                        checkProcessOnlineQueryCallback();
                    });
                }
            }
            else {
                if (typeof aisNative == "undefined" || typeof aisNative == "" || typeof aisNative == null) {
                    checkProcessCallback();
                } else {
                    getIDCARDInfoWithCallback(function () {
                        checkProcessCallback();
                    });
                }
            }
        }

        function checkProcessPrePostPaid(theKey) {
            //R18.11 IdCard Reader on PC
            if (typeof aisNative == "undefined" || typeof aisNative == "" || typeof aisNative == null) {
            }
            else {
                if (!validateNativeInput()) {
                    return;
                }
            }

            LockScreen(true, "");
            var idCardNo = "";
            if ($("#L_CARD_NOs")) {
                idCardNo = $("#L_CARD_NOs").val();
            }

            var isBypass = sessionStorage.getItem("Customer_NonResFlag") == '@NON_RESIDENTIAL_NONRESFLAG_YES';

            $.ajax({
                url: '/CheckCoverage/GetCCCustInfo',
                data: { key: theKey, idCard: idCardNo, bypass: isBypass },
                dataType: "json",
                type: 'POST',
                success: function (response) {
                    var data = response.data;
                    if (!data) {
                        LockScreen(false);
                        sessionStorage.setItem("CoveragePanelModel_P_PrePostpiad", "ProfilePrePostPaid");
                        $('#PrePostPaid').submit();
                        return;
                    }
                    if (data.errorMessage) {
                        LockScreen(false);
                        $("#idCardErrorMessage").show();
                        //20.6 AI Chat Bot - Bypass
                        setAIChatBotBypass("stop-bypass");
                        return;
                    }

                    var mobseg = base64_decode(data.V1);
                    var nettype = base64_decode(data.V2);
                    var diffmonth = base64_decode(data.V3);
                    var cardID_SFF = base64_decode(data.V4);
                    var cardType_SFF = base64_decode(data.V5);

                    var chkMobileStatus = data.STATE.toUpperCase();
                    $('#chkSubNetworkType').val(data.TYPE);

                    var cardID = idCardNo;
                    $('#chkMobileSegment').val(mobseg);
                    var chkNetworkType = nettype;

                    //โยนค่าไปSaveOrdernew//Cus
                    $('#CoveragePanelModel_MobileSegment').val($('#chkMobileSegment').val()); //// RELATE_MOBILE_SEGMENT
                    $('#CustomerRegisterPanelModel_RELATE_MOBILE_SEGMENT').val($('#chkMobileSegment').val());
                    $('#CustomerRegisterPanelModel_L_CARD_NO').val(cardID);

                    sessionStorage.setItem("L_CARD_NOs", cardID);
                    sessionStorage.setItem("L_CARD_NO_2", data.V4);
                    sessionStorage.setItem("L_CARD_TYPE", data.V5);
                    sessionStorage.setItem("CoveragePanelModel_MobileSegment", $("#CoveragePanelModel_MobileSegment").val());
                    //20.5 Non-Res Register Residential
                    sessionStorage.setItem("ID_CARD_NAMEs", $("#ID_CARD_NAMEs :selected").val());

                    if ($('#chkSubNetworkType').val() == "Pre-paid") {
                        $('#CoveragePanelModel_ChargeType').val("PREPAID");
                        sessionStorage.setItem("SubNetworkType", $('#chkSubNetworkType').val());
                    } else if ($('#chkSubNetworkType').val() == "Post-paid") {
                        $('#CoveragePanelModel_ChargeType').val("POSTPAID");
                        sessionStorage.setItem("SubNetworkType", $('#chkSubNetworkType').val());
                    } else {
                        $('#CoveragePanelModel_ChargeType').val($('#chkSubNetworkType').val());
                    }

                    if (chkNetworkType == "01") {
                        $('#CoveragePanelModel_NetworkType').val("2G");
                    } else if (chkNetworkType == "23") {
                        $('#CoveragePanelModel_NetworkType').val("2G");
                    } else if (chkNetworkType == "03") {
                        $('#CoveragePanelModel_NetworkType').val("3G");
                    } else {
                        $('#CoveragePanelModel_NetworkType').val(chkNetworkType);
                    }

                    sessionStorage.setItem("CoveragePanelModel_NetworkType", $("#CoveragePanelModel_NetworkType").val());
                    sessionStorage.setItem("CoveragePanelModel_ChargeType", $("#CoveragePanelModel_ChargeType").val());

                    // Check Show Rental
                    var IsSerenade = "false";
                    var IsServiceYear = "false";
                    var ServiceYear = 0;
                    var CheckServiceYear = 0;

                    if ('' != '@L_TYPE_OF_RESIDENCE' && '' != '@L_OWNER' && '' != '@L_RENTAL') {
                        var serenadeArray = [];
                        @foreach (var item in SERENADE_NO_RENTALS)
                        {
                            @:serenadeArray.push("@item.Validation");
                        }

                        if ($.inArray(sessionStorage.getItem("CoveragePanelModel_MobileSegment"), serenadeArray) != -1) {
                            IsSerenade = "true";
                        }

                        if (sessionStorage.getItem("MobileStatus") == 'post') {
                            if ($.isNumeric(diffmonth)) {
                                ServiceYear = parseInt(diffmonth);
                            }
                            if ($.isNumeric(@SERVICE_YEAR_NO_RENTAL)) {
                                CheckServiceYear = parseInt(@SERVICE_YEAR_NO_RENTAL);
                            }

                            if (ServiceYear > CheckServiceYear) {
                                IsServiceYear = "true";
                            }
                        }

                    }

                    sessionStorage.setItem("IsSerenade", IsSerenade);
                    sessionStorage.setItem("IsServiceYear", IsServiceYear);

                    if (chkNetworkType == "03"
                        && (chkMobileStatus == "ACTIVE"
                            || chkMobileStatus == "SA"
                            || chkMobileStatus == "SS"
                            || chkMobileStatus.indexOf("SUSPEND") > -1)) {

                        //เป็นหมายเลขAIS
                        $.ajax({
                            url: '/Process/evESeServiceQueryMassCommonAccountInfo',
                            data: {
                                mobileNo: codefbb.fbbMessage($("#AisAirNumber").val()),
                                SubNetworkType: $('#CoveragePanelModel_ChargeType').val(),
                                idCardNo: isBypass ? cardID_SFF : cardID,
                                idCardType: isBypass ? cardType_SFF : $("#ID_CARD_NAMEs :selected").val()
                            },
                            dataType: "json",
                            type: 'POST',
                            async: false,
                            success: function (response) {
                                var data2 = response.data;
                                if (data2.errorMessage == "") {
                                    $.ajax({
                                        url: '/Process/GetCheckProcess',
                                        data: { key: data2.GUIDKEY, },
                                        dataType: "json",
                                        type: 'POST',
                                        async: false,
                                        success: function (response) {
                                            var data2 = response.data;
                                            $('#CustomerRegisterPanelModel_Project_name').val(data2.projectName); //โยนค่าไปSaveOrdernew//Cus
                                            sessionStorage.setItem("CustomerRegisterPanelModel_Project_name", $("#CustomerRegisterPanelModel_Project_name").val());
                                            $('#CustomerRegisterPanelModel_AccountCategory').val(data2.outAccountCategory);
                                            sessionStorage.setItem("CustomerRegisterPanelModel_AccountCategory", $('#CustomerRegisterPanelModel_AccountCategory').val());
                                            // 18.12
                                            sessionStorage.setItem("SffServiceYear", data2.outDayOfServiceYear);
                                            // 18.8
                                            console.log("Value outMobileSegment : ", data2.outMobileSegment);
                                            //if (data2.outMobileSegment == "" || data2.outMobileSegment == null) {
                                            //    $('#CustomerRegisterPanelModel_RELATE_MOBILE_SEGMENT').val("");
                                            //    sessionStorage.setItem("CustomerRegisterPanelModel_RELATE_MOBILE_SEGMENT", $('#CustomerRegisterPanelModel_RELATE_MOBILE_SEGMENT').val());
                                            //}
                                            //else {
                                            //    $('#CustomerRegisterPanelModel_RELATE_MOBILE_SEGMENT').val(data2.outMobileSegment);
                                            //    sessionStorage.setItem("CustomerRegisterPanelModel_RELATE_MOBILE_SEGMENT", $('#CustomerRegisterPanelModel_RELATE_MOBILE_SEGMENT').val());
                                            //}

                                            //console.log($('#chkSubNetworkType').val());
                                            if ($('#chkSubNetworkType').val() == "Post-paid") {
                                                //Service Level
                                                //20.3 First condition
                                                //20.4 Add action
                                                //20.5 Change sequence
                                                if (checkNullOrUndefined(data2.outServiceLevel)) {
                                                    var massCommonData = GetMassCommonAccountInfo(codefbb.fbbMessage($("#AisAirNumber").val()), $('#CoveragePanelModel_ChargeType').val(), isBypass ? cardID_SFF : cardID, $("#ID_CARD_NAMEs :selected").val());
                                                    if (checkNullOrUndefined(massCommonData.outServiceLevel)) {
                                                        data2.outServiceLevel = "@SERVICE_LEVEL_L";
                                                    } else {
                                                        data2.outServiceLevel = massCommonData.outServiceLevel;
                                                    }
                                                }
                                                if (data2.outServiceLevel == "@SERVICE_LEVEL_H") {
                                                    sessionStorage.setItem("ServiceLevel_Action", 1);
                                                    sessionStorage.setItem("ServiceLevel", "@SERVICE_LEVEL_H");
                                                    sessionStorage.setItem("ServiceLevel_Flag", "@SERVICE_LEVEL_FLAG_EXISTING");
                                                }
                                                else if (data2.outPaGroup != "" && data2.outPaGroup != null) {
                                                    sessionStorage.setItem("ServiceLevel_Action", 2);
                                                    sessionStorage.setItem("ServiceLevel", "@SERVICE_LEVEL_H");
                                                    sessionStorage.setItem("ServiceLevel_Flag", "@SERVICE_LEVEL_FLAG_PA");
                                                } else {
                                                    sessionStorage.setItem("ServiceLevel_Action", 3);
                                                    sessionStorage.setItem("ServiceLevel", data2.outServiceLevel);
                                                    sessionStorage.setItem("ServiceLevel_Flag", "null");
                                                }
                                            }

                                            chkBundling = data2.vataddTripleplay;
                                            if (chkBundling == "Y") {
                                                //(2)
                                                //ลูกค้าเก่าF
                                                sessionStorage.setItem("type", "AIS");
                                                if ("Pre-paid" == $('#chkSubNetworkType').val()) {
                                                    //check ของ call ws : A_GETCCCustInfo(3)

                                                    if ("@Model.TopUp" == "5" || "@ViewBag.Vas" == "1") { //officer and SSO No OTP
                                                            var myCheckSerenadeArray = [];
                                                            @foreach (var CheckSerenadeItem in CheckSerenadeArray)
                                                            {
                                                                @:myCheckSerenadeArray.push("@CheckSerenadeItem");
                                                            }

                                                            if (myCheckSerenadeArray.indexOf($('#chkMobileSegment').val()) >= 0) {
                                                                LockScreen(false);
                                                                chk_Serenade_Flag = 'Y'; //เป็นserenade
                                                                $("#HdchkSerenade_Flag").val(chk_Serenade_Flag);
                                                                $('#CoveragePanelModel_Serenade_Flag').val($("#HdchkSerenade_Flag").val());
                                                                sessionStorage.setItem("CoveragePanelModel_Serenade_Flag", $("#HdchkSerenade_Flag").val());
                                                                $('#CoveragePanelModel_P_PrePostpiad').val("ProfilePrePostPaid");
                                                                sessionStorage.setItem("type", "AIS");
                                                                $('#PrePostPaid').submit();
                                                            } else {
                                                                chk_Serenade_Flag = 'N'; //ไม่ใช่serenade
                                                                $("#HdchkSerenade_Flag").val(chk_Serenade_Flag);
                                                                $('#CoveragePanelModel_Serenade_Flag').val($("#HdchkSerenade_Flag").val());
                                                                sessionStorage.setItem("CoveragePanelModel_Serenade_Flag", $("#HdchkSerenade_Flag").val());

                                                                $.ajax({
                                                                    url: '/CheckCoverage/GetMobileDataUsage',
                                                                    data: { mobileNo: $.trim($("#AisAirNumber").val()), networkType: $('#CoveragePanelModel_ChargeType').val() },
                                                                    dataType: "json",
                                                                    type: 'POST',
                                                                    async: false,
                                                                    success: function (data) {

                                                                        LockScreen(false);
                                                                        var Usage = 0;
                                                                        if (data != null) {
                                                                            Usage = data.ARPU;
                                                                            if (parseFloat(Usage) >= parseFloat('@PREPAID_USAGE')) { //Usage >= 300
                                                                                //ลูกค้าเก่า
                                                                                sessionStorage.setItem("type", "AIS");
                                                                                sessionStorage.setItem("CoveragePanelModel_P_PrePostpiad", "ProfilePrePostPaid");
                                                                                $('#PrePostPaid').submit();
                                                                            } else {
                                                                                //ลูกค้าใหม่
                                                                                sessionStorage.setItem("type", "NEW");
                                                                                sessionStorage.setItem("CoveragePanelModel_P_PrePostpiad", "ProfilePrePostPaid");
                                                                                $('#PrePostPaid').submit();
                                                                            }
                                                                        } else {
                                                                            //ลูกค้าใหม่
                                                                            sessionStorage.setItem("type", "NEW");
                                                                            sessionStorage.setItem("CoveragePanelModel_P_PrePostpiad", "ProfilePrePostPaid");
                                                                            $('#PrePostPaid').submit();
                                                                        }
                                                                    }
                                                                });
                                                            }
                                                        } else {
                                                            //Prepaid
                                                            //check PaswordOTP(5)
                                                            if ('@L_OTP_CUSTOMER' == "Y") {
                                                                $.ajax({
                                                                    url: '/Process/SendOneTimePW',
                                                                    data: { msisdn: $.trim($("#AisAirNumber").val()), accountType: $('#CoveragePanelModel_ChargeType').val() },
                                                                    dataType: "json",
                                                                    type: 'POST',
                                                                    async: false,
                                                                    success: function (data3) {
                                                                        LockScreen(false);
                                                                        if (data3 != null) {
                                                                            if (data3.code == "000") {
                                                                                $('#GSSO_transactionID').val(data3.transactionID);

                                                                                $("#AisAirNumber").attr("disabled", true);
                                                                                $('#col-Condition').hide();
                                                                                $('#Continue2').hide();
                                                                                $('#Continue1').hide();
                                                                                $('#col-OTP').show();
                                                                                $("#btnTh").hide();
                                                                                $("#btnEn").hide();
                                                                                $(".display-th").hide();
                                                                                $(".display-en").hide();
                                                                                //20.6 AI Chat Bot - Bypass
                                                                                setAIChatBotBypass("stop-bypass");
                                                                            } else {
                                                                                $.ajax({
                                                                                    url: '/Process/getErrorCodeOTP',
                                                                                    data: { Error_Code: data3.code, Mobile_No: $.trim($("#AisAirNumber").val()) },
                                                                                    dataType: "text",
                                                                                    type: 'POST',
                                                                                    async: false,
                                                                                    success: function (data4) {

                                                                                        if (data4 != null && data4 != "") {
                                                                                            $('#col-form').hide();
                                                                                            $('#col-Condition').hide();
                                                                                            $('#col-OTP').hide();
                                                                                            $('#lb-failed').html(data4);
                                                                                            $('#col-err').show();
                                                                                            //20.6 AI Chat Bot - Bypass
                                                                                            setAIChatBotBypass("stop-bypass");
                                                                                        } else {
                                                                                            $('#col-form').hide();
                                                                                            $('#col-Condition').hide();
                                                                                            $('#col-OTP').hide();
                                                                                            $('#lb-failed').html('@L_ERR_NOT_FOUND');
                                                                                            $('#col-err').show();
                                                                                            //20.6 AI Chat Bot - Bypass
                                                                                            setAIChatBotBypass("stop-bypass");
                                                                                    }
                                                                                }
                                                                            });
                                                                        }
                                                                    }
                                                                    else {

                                                                        $('#col-form').hide();
                                                                        $('#col-Condition').hide();
                                                                        $('#col-OTP').hide();
                                                                        $('#lb-failed').html('@L_ERR_NOT_FOUND');
                                                                            $('#col-err').show();
                                                                            //20.6 AI Chat Bot - Bypass
                                                                            setAIChatBotBypass("stop-bypass");
                                                                        }
                                                                    }
                                                                });
                                                            }
                                                            else {
                                                                var myCheckSerenadeArray = [];
                                                                @foreach (var CheckSerenadeItem in CheckSerenadeArray)
                                                                {
                                                                    @:myCheckSerenadeArray.push("@CheckSerenadeItem");
                                                                }

                                                                if (myCheckSerenadeArray.indexOf($('#chkMobileSegment').val()) >= 0) {
                                                                    $("#HdchkSerenade_Flag").val("Y");//เป็นserenade
                                                                    sessionStorage.setItem("type", "AIS");
                                                                    $('#CoveragePanelModel_Serenade_Flag').val($("#HdchkSerenade_Flag").val());
                                                                    sessionStorage.setItem("CoveragePanelModel_Serenade_Flag", $("#HdchkSerenade_Flag").val());
                                                                    //go to Coverage Page
                                                                    sessionStorage.setItem("CoveragePanelModel_P_PrePostpiad", "ProfilePrePostPaid");
                                                                    $('#PrePostPaid').submit();
                                                                }
                                                                else {

                                                                    $("#HdchkSerenade_Flag").val("N");//ไม่ใช่serenade
                                                                    $('#CoveragePanelModel_Serenade_Flag').val($("#HdchkSerenade_Flag").val());
                                                                    sessionStorage.setItem("CoveragePanelModel_Serenade_Flag", $("#HdchkSerenade_Flag").val());
                                                                    // call Campaign Service Data(6)
                                                                    $.ajax({
                                                                        url: '/CheckCoverage/GetMobileDataUsage',
                                                                        data: { mobileNo: $.trim($("#AisAirNumber").val()), networkType: $('#CoveragePanelModel_ChargeType').val() },
                                                                        dataType: "json",
                                                                        type: 'POST',
                                                                        async: false,
                                                                        success: function (data) {
                                                                            var Usage = 0;
                                                                            if (data != null) {
                                                                                Usage = data.ARPU;

                                                                                if (parseFloat(Usage) >= parseFloat('@PREPAID_USAGE')) {//Usage >= 300
                                                                                    //ลูกค้าเก่า
                                                                                    sessionStorage.setItem("type", "AIS");
                                                                                    sessionStorage.setItem("CoveragePanelModel_P_PrePostpiad", "ProfilePrePostPaid");
                                                                                    $('#PrePostPaid').submit();
                                                                                }
                                                                                else {
                                                                                    //ลูกค้าใหม่
                                                                                    sessionStorage.setItem("type", "NEW");
                                                                                    sessionStorage.setItem("CoveragePanelModel_P_PrePostpiad", "ProfilePrePostPaid");
                                                                                    $('#PrePostPaid').submit();
                                                                                }
                                                                            }
                                                                            else {
                                                                                //ลูกค้าใหม่
                                                                                sessionStorage.setItem("type", "NEW");
                                                                                sessionStorage.setItem("CoveragePanelModel_P_PrePostpiad", "ProfilePrePostPaid");
                                                                                $('#PrePostPaid').submit();
                                                                            }
                                                                        }
                                                                    });
                                                                }
                                                            }
                                                        }
                                                    } else {
                                                        //Postpaid(4)
                                                        LockScreen(false);

                                                        //TODO : Validate Promotion 10%
                                                        var statusPromotion = false;
                                                        $.ajax({
                                                            url: '/Process/CheckMobileNumberSerenade',
                                                            data: { msisdn: $.trim($("#AisAirNumber").val()) },
                                                            dataType: "json",
                                                            type: 'POST',
                                                            async: false,
                                                            success: function (result) {
                                                                if (result != null && result.ResultFlag == 'Y') {
                                                                    statusPromotion = result.IsStatus;
                                                                }
                                                            }
                                                        });

                                                        if (statusPromotion) {
                                                            chk_Serenade_Flag = ''; //เป็นserenade ไม่ได้รับสิทธิพิเศษ
                                                            $("#HdchkSerenade_Flag").val(chk_Serenade_Flag);
                                                            $('#CoveragePanelModel_Serenade_Flag').val($("#HdchkSerenade_Flag").val());
                                                            sessionStorage.setItem("CoveragePanelModel_Serenade_Flag", $("#HdchkSerenade_Flag").val());
                                                            $('#CoveragePanelModel_P_PrePostpiad').val("ProfilePrePostPaid");
                                                            $('#PrePostPaid').submit();
                                                        } else {

                                                            var myCheckSerenadeArray = [];
                                                            @foreach (var CheckSerenadeItem in CheckSerenadeArray)
                                                            {
                                                                @:myCheckSerenadeArray.push("@CheckSerenadeItem");
                                                            }

                                                            if (myCheckSerenadeArray.indexOf(data2.outMobileSegment) >= 0) {
                                                                chk_Serenade_Flag = 'Y';//เป็นserenade ได้รับสิทธิพิเศษ
                                                                $("#HdchkSerenade_Flag").val(chk_Serenade_Flag);
                                                                $('#CoveragePanelModel_Serenade_Flag').val($("#HdchkSerenade_Flag").val());
                                                                sessionStorage.setItem("CoveragePanelModel_Serenade_Flag", $("#HdchkSerenade_Flag").val());
                                                                $('#CoveragePanelModel_P_PrePostpiad').val("ProfilePrePostPaid");
                                                                $('#PrePostPaid').submit();
                                                            }
                                                            else {
                                                                chk_Serenade_Flag = 'N';//ไม่ใช่serenade
                                                                $("#HdchkSerenade_Flag").val(chk_Serenade_Flag);
                                                                $('#CoveragePanelModel_Serenade_Flag').val($("#HdchkSerenade_Flag").val());
                                                                sessionStorage.setItem("CoveragePanelModel_Serenade_Flag", $("#HdchkSerenade_Flag").val());
                                                                $('#CoveragePanelModel_P_PrePostpiad').val("ProfilePrePostPaid");
                                                                $('#PrePostPaid').submit();
                                                            }
                                                        }
                                                    }
                                                }
                                                else {
                                                    //ลูกค้าใหม่
                                                    LockScreen(false);
                                                    sessionStorage.setItem("type", "NEW");
                                                    $('#CoveragePanelModel_P_PrePostpiad').val("ProfilePrePostPaid");
                                                    $('#PrePostPaid').submit();
                                                }
                                            }
                                        });
                                } else if ($('#chkSubNetworkType').val() == "Post-paid" && (data2.errorMessage.indexOf("0001") != -1 || data2.errorMessage.indexOf("0574") != -1 || data2.errorMessage == "No Profile")) {
                                    LockScreen(false);
                                    $("#idCardErrorMessage").show();
                                    //20.6 AI Chat Bot - Bypass
                                    setAIChatBotBypass("stop-bypass");
                                    return;
                                } else {
                                    //ลูกค้าใหม่
                                    LockScreen(false);
                                    sessionStorage.setItem("type", "NEW");
                                    $('#CoveragePanelModel_P_PrePostpiad').val("ProfilePrePostPaid");
                                    $('#PrePostPaid').submit();
                                }
                            }
                        }); //----END
                    } else {
                        LockScreen(false);
                        sessionStorage.setItem("CoveragePanelModel_P_PrePostpiad", "ProfilePrePostPaid");
                        $('#PrePostPaid').submit();
                        $('#CoveragePanelModel_ChargeType').val("");
                        $('#CoveragePanelModel_NetworkType').val("");
                        $('#CoveragePanelModel_MobileSegment').val("");
                        sessionStorage.setItem("CoveragePanelModel_ChargeType", "");
                        sessionStorage.setItem("CoveragePanelModel_NetworkType", "");
                        sessionStorage.setItem("CoveragePanelModel_MobileSegment", "");
                    }
                }
            });
        }

        function GetMassCommonAccountInfo(mobileNo, networkType, cardNo, cardType) {
            var data;
            $.ajax({
                url: '/Process/evESeServiceQueryMassCommonAccountInfo',
                data: {
                    mobileNo: mobileNo,
                    SubNetworkType: networkType,
                    idCardNo: cardNo,
                    idCardType: cardType
                },
                dataType: "json",
                type: 'POST',
                async: false,
                success: function (response) {
                    data = response.data;
                    if (data.errorMessage == "") {
                        $.ajax({
                            url: '/Process/GetCheckProcess',
                            data: { key: data.GUIDKEY, },
                            dataType: "json",
                            type: 'POST',
                            async: false,
                            success: function (response) {
                                data = response.data;
                            }
                        });
                    }
                }
            });

            return data;
        }

        function SubmitOTP() {
            // Call GSSO

            LockScreen(true, "");

            $.ajax({
                url: '/Process/ConfirmOneTimePW',
                data: { msisdn: $.trim($("#AisAirNumber").val()), pwd: $('#passOTP').val(), transactionID: $('#GSSO_transactionID').val() },
                dataType: "json",
                type: 'POST',
                success: function (data) {
                    LockScreen(false);

                    if (data != null) {
                        if (data.code == "000" && data.transactionID == $('#GSSO_transactionID').val()) {
                            var myCheckSerenadeArray = [];
                            @foreach (var CheckSerenadeItem in CheckSerenadeArray)
                            {
                                @:myCheckSerenadeArray.push("@CheckSerenadeItem");
                            }
                            if (myCheckSerenadeArray.indexOf($('#chkMobileSegment').val()) >= 0) {
                                $("#HdchkSerenade_Flag").val("Y");//เป็นserenade
                                sessionStorage.setItem("type", "AIS");
                                $('#CoveragePanelModel_Serenade_Flag').val($("#HdchkSerenade_Flag").val());
                                sessionStorage.setItem("CoveragePanelModel_Serenade_Flag", $("#HdchkSerenade_Flag").val());
                                //go to Coverage Page
                                sessionStorage.setItem("CoveragePanelModel_P_PrePostpiad", "ProfilePrePostPaid");
                                $('#PrePostPaid').submit();
                            }
                            else {

                                $("#HdchkSerenade_Flag").val("N");//ไม่ใช่serenade
                                $('#CoveragePanelModel_Serenade_Flag').val($("#HdchkSerenade_Flag").val());
                                sessionStorage.setItem("CoveragePanelModel_Serenade_Flag", $("#HdchkSerenade_Flag").val());
                                // call Campaign Service Data(6)
                                $.ajax({
                                    url: '/CheckCoverage/GetMobileDataUsage',
                                    data: { mobileNo: $.trim($("#AisAirNumber").val()), networkType: $('#CoveragePanelModel_ChargeType').val() },
                                    dataType: "json",
                                    type: 'POST',
                                    async: false,
                                    success: function (data) {
                                        var Usage = 0;
                                        if (data != null) {
                                            Usage = data.ARPU;

                                            if (parseFloat(Usage) >= parseFloat('@PREPAID_USAGE')) {//Usage >= 300
                                                //ลูกค้าเก่า
                                                sessionStorage.setItem("type", "AIS");
                                                sessionStorage.setItem("CoveragePanelModel_P_PrePostpiad", "ProfilePrePostPaid");
                                                $('#PrePostPaid').submit();
                                            }
                                            else {
                                                //ลูกค้าใหม่
                                                sessionStorage.setItem("type", "NEW");
                                                sessionStorage.setItem("CoveragePanelModel_P_PrePostpiad", "ProfilePrePostPaid");
                                                $('#PrePostPaid').submit();
                                            }
                                        }
                                        else {
                                            //ลูกค้าใหม่
                                            sessionStorage.setItem("type", "NEW");
                                            sessionStorage.setItem("CoveragePanelModel_P_PrePostpiad", "ProfilePrePostPaid");
                                            $('#PrePostPaid').submit();
                                        }
                                    }
                                });
                            }
                        }
                        else {

                            //025
                            $.ajax({
                                url: '/Process/getErrorCodeOTP',
                                data: { Error_Code: data.code, Mobile_No: $.trim($("#AisAirNumber").val()) },
                                dataType: "text",
                                type: 'POST',
                                async: false,
                                success: function (data6) {

                                    if (data6 != null && data6 != "") {
                                        $('#col-form').hide();
                                        $('#col-Condition').hide();
                                        $('#col-OTP').hide();
                                        $('#lb-failed').html(data6);
                                        $('#col-err').show();
                                        //20.6 AI Chat Bot - Bypass
                                        setAIChatBotBypass("stop-bypass");
                                    }
                                    else {
                                        $('#col-form').hide();
                                        $('#col-Condition').hide();
                                        $('#col-OTP').hide();
                                        $('#lb-failed').html('@L_ERR_NOT_FOUND');
                                        $('#col-err').show();
                                        //20.6 AI Chat Bot - Bypass
                                        setAIChatBotBypass("stop-bypass");
                                    }
                                }
                            });
                        }
                    }
                    else {

                        $('#col-form').hide();
                        $('#col-Condition').hide();
                        $('#col-OTP').hide();
                        $('#lb-failed').html('@L_ERR_NOT_FOUND');
                        $('#col-err').show();
                        //20.6 AI Chat Bot - Bypass
                        setAIChatBotBypass("stop-bypass");
                    }
                }
            });

            LockScreen(false);
        }

        function SentPW() {

            if ("@Model.TopUp" != "5" || "@ViewBag.Vas" != "1") {
                //officer and SSO No OTP

                //Prepaid
                var Networktype = "";
                if ($('#chkSubNetworkType').val() == "Pre-paid") {
                    Networktype = "prepaid";
                }
                else {
                    Networktype = "postpaid";
                }

                $.ajax({
                    url: '/Process/SendOneTimePW',
                    data: { msisdn: $.trim($("#AisAirNumber").val()), accountType: Networktype },
                    dataType: "json",
                    type: 'POST',
                    async: false,
                    success: function (data3) {

                        if (data3.code == "000") {
                            $('#GSSO_transactionID').val(data3.transactionID);
                            $('#passOTP').val("");
                            $("#otpOK1").show();
                            $("#otpOK2").hide();
                        }
                        else {

                            $.ajax({
                                url: '/Process/getErrorCodeOTP',
                                data: { Error_Code: data3.code, Mobile_No: $.trim($("#AisAirNumber").val()) },
                                dataType: "text",
                                type: 'POST',
                                async: false,
                                success: function (data6) {

                                    if (data6 != null && data6 != "") {
                                        $('#col-form').hide();
                                        $('#col-Condition').hide();
                                        $('#col-OTP').hide();
                                        $('#lb-failed').html(data6);
                                        $('#col-err').show();
                                        //20.6 AI Chat Bot - Bypass
                                        setAIChatBotBypass("stop-bypass");
                                    }
                                    else {
                                        $('#col-form').hide();
                                        $('#col-Condition').hide();
                                        $('#col-OTP').hide();
                                        $('#lb-failed').html('@L_ERR_NOT_FOUND');
                                        $('#col-err').show();
                                        //20.6 AI Chat Bot - Bypass
                                        setAIChatBotBypass("stop-bypass");
                                    }
                                }
                            });

                        }
                    }
                });
            }
        }

        function BackOTP() {

            $("#AisAirNumber").attr("disabled", false);
            $('#Continue2').show();
            $("#Continue3").hide();
            $("#searchProfileCardNoType3").hide();

            $('#col-Condition').show();
            $('#col-OTP').hide();
            $("#Continue1").hide();
        }

        function backForm() {
            $("#AisAirNumber").attr("disabled", false);
            $('#passOTP').val('');
            $('#col-form').show();
            $('#col-Condition').show();
            $('#col-err').hide();
            $("#Continue2").show();
            $("#Continue3").hide();
            $("#searchProfileCardNoType3").hide();

            $("#Continue1").hide();

        }

        function Cancle() {

            $("#AisAirNumber").attr("disabled", false);
            if ('@vas_flag' == "1") {
                $('#backProcessSelect').show();
            }
            else if ('@vas_flag' == "3") {
                $('#backtripleplay').show();
            }
            else if ('@officer' != "") {
                if ($('#MemberGetMemberFlag').val() == 'Y')
                    $('#backOfficer').hide();
                else
                    $('#backOfficer').show();
            }
            $('#Continue2').show();
            $("#Continue3").hide();
            $("#CancleIdCard").hide();
            $('#L_CARD_NOs').val("");
            $('#idCardErrorMessage').hide();
            $("#searchProfileCardFirst").find("h4").html('@Html.Raw(L_WELCOME_DISCOUNT)');

            $('#col-Condition').show();
            $("#searchProfileCardNoType").hide();
            $("#AisAirNumber").attr("disabled", false);
            $("#InternetNumber").attr("disabled", false);//R21.10 MOU
            $("#Continue1").hide();

            sessionStorage.setItem("CustomerRegisterPanelModel_CustomerSubtype", "");
        }

        function ShowPW() {
            if ($('#showPass').text() == '@L_SHOW_PW') {
                    document.getElementById("passOTP").type = 'text';
                    $('#showPass').text("@L_CLOSE_PW");
            }
            else {
                document.getElementById("passOTP").type = 'password';
                $('#showPass').text('@L_SHOW_PW');
            }
        }

        function CheckKeyUps(id, RexStr, checkMobile) {
            var strKey = $("#" + id).val();
            var strBuilder = "";
            if (checkMobile == undefined || checkMobile != "M") {
                var filter = new RegExp(RexStr);
                for (var i = 0; i < strKey.length; i++) {
                    if (filter.test(strKey.substr(i, 1))) {
                        strBuilder += strKey.substr(i, 1);
                    }
                }
            }
            else {
                var filterM = new RegExp(RexStr, "g");
                if (strKey.match(filterM) != null && strKey.match(filterM).length > 1) {
                    strBuilder = strKey.match(filterM)[0];
                    strBuilder += strKey.substr(strBuilder.length + 1)
                }
                else {
                    if (strKey.match(filterM) == null)
                        strBuilder = "";
                    else
                        strBuilder = strKey.match(filterM)[0];
                }
            }
            $("#" + id).val(strBuilder);
        }

        function changeLanguage() {

            if ($("#LanguagePage").val() == "1") {

                $("#btnTh").show();
                $("#btnEn").hide();
                $("#welcome_msg").removeClass('subheader').addClass('subheader-th');

            }
            else {
                $("#btnTh").hide();
                $("#btnEn").show();
                $("#welcome_msg").removeClass('subheader').addClass('subheader-en');
            }

            if ('@CheckcoveragBypassflag' == "true") {
                $('#btnTh').hide();
                $('#btnEn').hide();
            }

            //20.6 AI Chat Bot - Bypass
            if ($("#AIChatBotBypass_Flag").val() == "Y") {
                $('#btnTh').hide();
                $('#btnEn').hide();
            }
        }

        function onChangeID_CARD_NAMEs(idCardName) {
            $("#L_CARD_NOs").val("");
            $("#Continue1").show();
            $("#Continue3").hide();
            $("#btnNextToInputMobile1").hide();
            $("#btnNextToInputMobile2").show();

            var data = GetCustomerSubCat(idCardName.value);
            $("#CustomerRegisterPanelModel_CustomerSubtype").val(subCatData.value4);
            sessionStorage.setItem("CustomerRegisterPanelModel_CustomerSubtype", data.value4);
            sessionStorage.setItem("Customer_CardType", data.value3);

            setCardMaxlength();
        }

        function GetCustomerSubCat(value) {
            var value4, value3;
            $.ajax({
                type: "GET",
                url: "/CustomerRegister/GetCustomerSubCat",
                data: { 'idCardName': value },
                dataType: "json",
                async: false,
                success: function (data) {
                    value4 = data.LovValue4;
                    value3 = data.LovValue3;
                },
            });

            return { value4: value4, value3: value3 };
        }

        function getCustomerCardTypes() {
            $('#ID_CARD_NAMEs').empty();
            $.ajax({
                type: "GET",
                url: "/MasterData/GetCustomerCardType",
                data: { 'customerType': "All" },
                dataType: "json",
                success: function (data) {
                    var strBuilder = "";
                    var flagSelect = false;
                    var firstStr = "<option value='' disabled>" + "@lCARD_TYPE" + "</option>";
                    $.each(data, function (i, e) {

                        if (e.DefaultValue != undefined)
                            strBuilder += '<option value="' + e.Value + '" selected>' + e.Text + '</option>';
                        else
                            strBuilder += '<option value="' + e.Value + '">' + e.Text + '</option>';

                    });

                    strBuilder = firstStr + strBuilder;
                    $('#ID_CARD_NAMEs').append(strBuilder);
                    $("#ID_CARD_NAMEs").selectOrDie();

                    setTimeout(function () {
                        setCardMaxlength();
                    }, 20);
                }
            });
        }

        //CheckValidateInputMobile Created by PatthamawadeeH. 26122016
        function CheckValidateInputMobile(id) {
            var txtid = "#" + id;
            var cchk = false;
            $.ajax({
                url: '/CustomerRegister/CheckInputMobileList',
                data: {
                    lMobile: $(txtid).val()
                },
                dataType: 'json',
                async: false,
                type: 'POST',
                success: function (data) {
                    if (data) {
                        cchk = false;
                    }
                    else {
                        cchk = true;
                    }
                }
            });
            return cchk;
        }//End Function

        function SendSMS() {
            $.ajax({
                type: "GET",
                url: "/Process/SendSMS",
                data: {
                    'mobileNo': $("#CustomerRegisterPanelModel_L_MOBILE").val(),
                    'mainCode': "@mainCode",
                    "ontopCode": "@ontopCode",
                    "AisAirNumber": sessionStorage.getItem("Temp_AisAirNumber"),
                    "Entrancefee": "@entrancefee"
                },
                traditional: true,
                dataType: "json",
                success: function (data) {
                }
            });
            sessionStorage.setItem("Temp_AisAirNumber", null);
        }

        function ChangeMobileContact() {
            $.ajax({
                type: "GET",
                url: "/Process/ChangeContactMobile",
                data: { 'orderNo': $("#CustomerRegisterPanelModel_OrderNo").val(), 'mobileNo': $("#CustomerRegisterPanelModel_L_MOBILE").val() },
                dataType: "json",
                success: function (data) {

                }
            });
        }

        function LockScreen(x, txt) {
            if (x) {
                $('#txtLoading').html(txt);
                $('#ProgressIcon').modal({
                    backdrop: "static",
                    keyboard: true,
                    show: true
                });
            }
            else {
                $('#ProgressIcon').modal('hide');
            }
        }

        function base64_decode(str) {
            if (window.atob) // Internet Explorer 10 and above
                return decodeURIComponent(escape(window.atob(str)));
            else {
                // Cross-Browser Method (compressed)

                // Create Base64 Object
                var Base64 = { _keyStr: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", encode: function (e) { var t = ""; var n, r, i, s, o, u, a; var f = 0; e = Base64._utf8_encode(e); while (f < e.length) { n = e.charCodeAt(f++); r = e.charCodeAt(f++); i = e.charCodeAt(f++); s = n >> 2; o = (n & 3) << 4 | r >> 4; u = (r & 15) << 2 | i >> 6; a = i & 63; if (isNaN(r)) { u = a = 64 } else if (isNaN(i)) { a = 64 } t = t + this._keyStr.charAt(s) + this._keyStr.charAt(o) + this._keyStr.charAt(u) + this._keyStr.charAt(a) } return t }, decode: function (e) { var t = ""; var n, r, i; var s, o, u, a; var f = 0; e = e.replace(/[^A-Za-z0-9\+\/\=]/g, ""); while (f < e.length) { s = this._keyStr.indexOf(e.charAt(f++)); o = this._keyStr.indexOf(e.charAt(f++)); u = this._keyStr.indexOf(e.charAt(f++)); a = this._keyStr.indexOf(e.charAt(f++)); n = s << 2 | o >> 4; r = (o & 15) << 4 | u >> 2; i = (u & 3) << 6 | a; t = t + String.fromCharCode(n); if (u != 64) { t = t + String.fromCharCode(r) } if (a != 64) { t = t + String.fromCharCode(i) } } t = Base64._utf8_decode(t); return t }, _utf8_encode: function (e) { e = e.replace(/\r\n/g, "\n"); var t = ""; for (var n = 0; n < e.length; n++) { var r = e.charCodeAt(n); if (r < 128) { t += String.fromCharCode(r) } else if (r > 127 && r < 2048) { t += String.fromCharCode(r >> 6 | 192); t += String.fromCharCode(r & 63 | 128) } else { t += String.fromCharCode(r >> 12 | 224); t += String.fromCharCode(r >> 6 & 63 | 128); t += String.fromCharCode(r & 63 | 128) } } return t }, _utf8_decode: function (e) { var t = ""; var n = 0; var r = c1 = c2 = 0; while (n < e.length) { r = e.charCodeAt(n); if (r < 128) { t += String.fromCharCode(r); n++ } else if (r > 191 && r < 224) { c2 = e.charCodeAt(n + 1); t += String.fromCharCode((r & 31) << 6 | c2 & 63); n += 2 } else { c2 = e.charCodeAt(n + 1); c3 = e.charCodeAt(n + 2); t += String.fromCharCode((r & 15) << 12 | (c2 & 63) << 6 | c3 & 63); n += 3 } } return t } }
                // Encode the String
                return decodeURIComponent(escape(Base64.decode(str)));
            }
        }

        function chk_BrowserType() {
            if ((navigator.userAgent.indexOf("Opera") || navigator.userAgent.indexOf('OPR')) != -1) {
                $("#Browser_type").val('Opera');
            }
            else if (navigator.userAgent.indexOf("Chrome") != -1) {
                $("#Browser_type").val('Chrome');
            }
            else if (navigator.userAgent.indexOf("Safari") != -1) {
                $("#Browser_type").val('Safari');
            }
            else if (navigator.userAgent.indexOf("Firefox") != -1) {
                $("#Browser_type").val('Firefox');
            }
            else if ((navigator.userAgent.indexOf("MSIE") != -1) || (!!document.documentMode == true)) //IF IE > 10
            {
                $("#Browser_type").val('IE');
            }
            else {
                $("#Browser_type").val('unknown');
            }
        }

        function chk_RegisterDevice() {
            if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
                $("#Register_device").val("MOBILE WEB");
            }
            else {
                $("#Register_device").val("WEB BROWSER");
            }

            if (typeof aisNative != "undefined" && typeof aisNative != "" && typeof aisNative != null) {
                $("#Register_device").val("MOBILE APP");
                $("#Browser_type").val('');
            }
        }

        function convertDataURIToBinary(dataURI) {
            var BASE64_MARKER = ';base64,';
            var base64Index = dataURI.indexOf(BASE64_MARKER) + BASE64_MARKER.length;
            var base64 = dataURI.substring(base64Index);
            var raw = window.atob(base64);
            var rawLength = raw.length;
            var array = new Uint8Array(new ArrayBuffer(rawLength));

            for (i = 0; i < rawLength; i++) {
                array[i] = raw.charCodeAt(i);
            }
            return array;
        }

        function showInCanvas(dataURI, type1, type2) {
            // See README for overview
            'use strict';
            // Fetch the PDF document from the URL using promises
            var pdfAsArray = convertDataURIToBinary(dataURI);
            PDFJS.disableWorker = true;
            PDFJS.getDocument(pdfAsArray).then(function (pdf) {
                // Using promise to fetch the page
                pdf.getPage(1).then(function (page) {
                    var scale = 2;
                    var viewport = page.getViewport(scale);
                    // Prepare canvas using PDF page dimensions
                    var canvas = document.getElementById(type1);
                    var context = canvas.getContext('2d');
                    canvas.height = viewport.height;
                    canvas.width = viewport.width;
                    // Render PDF page into canvas context
                    var renderContext = {
                        canvasContext: context,
                        viewport: viewport
                    };
                    page.render(renderContext);
                });
                ////pdf.getPage(2).then(function (page) {
                ////    var scale = 2;
                ////    var viewport = page.getViewport(scale);
                ////    // Prepare canvas using PDF page dimensions
                ////    var canvas = document.getElementById(type2);
                ////    var context = canvas.getContext('2d');
                ////    canvas.height = viewport.height;
                ////    canvas.width = viewport.width;
                ////    // Render PDF page into canvas context
                ////    var renderContext = {
                ////        canvasContext: context,
                ////        viewport: viewport
                ////    };
                ////    page.render(renderContext);
                ////});
            });
        }

        function testPDFApp() {

            $.ajax({
                type: "GET",
                url: "/Process/GeneratePDF_HTML",
                data: { 'orderNo': "AIR-NW-201612-002025", 'CardNo': "bbbbb" },
                dataType: "json",
                success: function (data) {
                    console.log("Hello");
                }
            });
        }

        @*R18.11 IdCard Reader on PC*@

        var _ws = null;
        var _readloop = 1;

        function getIdCARDInfoBySocketPc() {
            try {
                if ("WebSocket" in window) {

                    _ws = new WebSocket("wss://localhost:8088/ReadIDCard");

                    _ws.onopen = function() {
                        console.log("WebSocket: onopen() event called.");
                    };

                    _ws.onmessage = function(evt) {

                        console.log("WebSocket: onmessage() event called.");
                        onGetMessageCard(evt.data);
                    }

                    _ws.onclose = function() {
                        // websocket is closed.
                        console.log("WebSocket: onclose() event called.");
                    };

                    _ws.onerror = function(evt) {
                        console.log("WebSocket: Error(" + evt + ")");
                        //alert(evt);
                    };

                } else {
                    console.log("WebSocket: Error(The browser doesn't support WebSocket)");
                }
            } catch (err) {
                console.log("WebSocket: Error(" + err + ")");
            }
        }

        function onGetMessageCard(jsonString) {
            var objData = JSON.parse(jsonString);
            if (objData.Event == "OnCardLoadCompleted") {

                var strData = decodeURIComponent(escape(window.atob(objData.Data)));
                var jsonData = JSON.parse(strData);
                var NATIONALID = jsonData.NationalID;

                $('#divIdCardReaderPc').hide();
                setTimeout(function() {
                    sessionStorage.setItem('Card_id_card_usb', NATIONALID);

                    if (!$("#L_CARD_NOs").is(":hidden")) {
                        var cardIdUsb = sessionStorage.getItem('Card_id_card_usb');
                        $("#L_CARD_NOs").val(cardIdUsb);

                        if (cardIdUsb != "") {
                            $('#Continue1').hide();
                            $('#Continue3').show();
                        } else {
                            $('#Continue3').hide();
                            $('#Continue1').show();
                        }
                    }

                }, 1100);
            } else {
                if (objData.Event == "OnCardInserted") {
                    $('#divIdCardReaderPc').show();
                    $("#barIdCardReaderPc.progress-bar").css("width", "0%");
                } else if (objData.Event == "OnCardRemoved") {
                    $("#barIdCardReaderPc.progress-bar").css("width", "0%");
                } else if (objData.Event == "OnCardLoadProgress") {
                    var value = objData.Progress;
                    $("#barIdCardReaderPc.progress-bar").css("width", value + "%");
                } else if (objData.Event == "OnCardLoadError") {
                    $("#barIdCardReaderPc.progress-bar").css("width", "0%");
                    $('#divIdCardReaderPc').hide();

                    sessionStorage.setItem('Card_id_card_usb', null);

                    console.log("WebSocket: _readloop > " + _readloop);

                    if (_readloop < 2) {

                        _readloop = _readloop + 1;

                        console.log("WebSocket: onunload() event called.");
                        onPageUnloadIdCARDInfoBySocketPc();

                        console.log("WebSocket: oninit() event called.");
                        getIdCARDInfoBySocketPc();

                    } else {

                        _readloop = 1;
                        var _L_ERROR_LOAD_CARD = "@L_ERROR_LOAD_CARD";
                        toastrErrorMessage(_L_ERROR_LOAD_CARD);
                    }
                }
            }
        }

        function onPageUnloadIdCARDInfoBySocketPc() {
            if (_ws != null)
                _ws.close();
        }

        function validateNativeInput() {
                var validate = false;
                var ml = "";
                if ($("#ID_CARD_NAMEs :selected").val() == "TAX_ID")
                    ml = "@FBB_Con_Length_ID_Card_Number_TAX_ID";
                else if ($("#ID_CARD_NAMEs :selected").val() == "MONK_CERT")
                    ml = "@FBB_Con_LengthIDCardNumberMONK_CERT";
                else if ($("#ID_CARD_NAMEs :selected").val() == "GOV_LET")
                    ml = "@FBB_Con_Length_ID_Card_Number_GOV_LET";
                else if ($("#ID_CARD_NAMEs :selected").val() == "PASSPORT")
                    ml = "@FBB_Con_Length_ID_Card_Number_PASSPORT";
                else if ($("#ID_CARD_NAMEs :selected").val() == "EMB_LET")
                    ml = "@FBB_Con_Length_ID_Card_Number_EMB_LET";
                else if ($("#ID_CARD_NAMEs :selected").val() == "IMM_CARD")
                    ml = "@FBB_Con_LengthIDCardNumberIMM_CARD";
                else if ($("#ID_CARD_NAMEs :selected").val() == "STA_LET")
                    ml = "@FBB_Con_Length_ID_Card_Number_STA_LET";
                else if ($("#ID_CARD_NAMEs :selected").val() == "HILL_CARD")
                    ml = "@FBB_Con_LengthIDCardNumberHILL_CARD";
                else if ($("#ID_CARD_NAMEs :selected").val() == "CERT_FOUND")
                    ml = "@FBB_Con_Length_ID_Card_Number_CERT_FOUND";
                else if ($("#ID_CARD_NAMEs :selected").val() == "ID_CARD")
                    ml = "@FBB_Con_LengthIDCardNumberID_CARD";
                else if ($("#ID_CARD_NAMEs :selected").val() == "ROY_LET")
                    ml = "@FBB_Con_Length_ID_Card_Number_ROY_LET";

            if (($("#L_CARD_NOs").val() != ""
                && $("#ID_CARD_NAMEs :selected").val() != "ID_CARD")
                || ($("#L_CARD_NOs").val().length == ml
                && $("#ID_CARD_NAMEs :selected").val() == "ID_CARD")) {

                validate = true;
            }
            return validate;
        }

        function toastrErrorMessage(message) {
            toastr.options.positionClass = "toast-top-center";
            toastr.options.closeButton = true;
            toastr.error(message);
        }

        function checkNullOrUndefined(data) {
            if (data == null || data == '' || data == 'undefined' || typeof data === 'undefined') {
                return true;
            }

            return false;
        }

        //R24.01 Max test ViewBag.AllowCheckFraud
        function allowCheckFraud() {
            $('#allowCheckFraud').val('allowCheckFraud');
            console.log('Max test allowCheckFraud.');
        }
    </script>
</body>
</html>