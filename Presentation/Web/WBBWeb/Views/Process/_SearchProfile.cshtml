@using System.Collections.Generic;
@using WBBEntity.PanelModels;
@using WBBWeb.Extension

@{
    var isSaveCommplete = false;
    var productSubType = "";
    var languagePage = "";
    var lclose = "";
    var lsave = "";
    var lpopupsave = "";

    if (null != ViewBag.SWifi)
    {
        productSubType = ViewBag.SWiFi;
    }
    if (null != ViewBag.SaveSuccess)
    {
        isSaveCommplete = ViewBag.SaveSuccess;
    }
    if (null != ViewBag.LanguagePage)
    {
        languagePage = ViewBag.LanguagePage;
    }
    if (null != ViewBag.LCLOSE)
    {
        lclose = ViewBag.LCLOSE;
    }
    if (null != ViewBag.LSAVE)
    {
        lsave = ViewBag.LSAVE;
    }
    if (null != ViewBag.LPOPUPSAVE)
    {
        lpopupsave = ViewBag.LPOPUPSAVE;
    }

    string L_SEARCH_NONMOBILE = "";
    string L_SEARCH_IDCARD = "";
    string lCARD_TYPE = "";
    string B_SEARCH_NEW_CUST = "";
    string L_NEW_CUST_NOT_FOUND = "";
    string L_NEW_CUST_NOT_FOUND2 = "";
    string L_NEW_CUST_VALIDATE_REQUIRE = "";
    string L_SEARCH_AIRNET = "";
    string L_ADD_SERVICE = "";

    string FBB_Con_CharNotonName = "";
    string FBB_Con_IDCardNumberNonRes = "";
    string FBB_Con_LengthIDCardNumberHILL_CARD = "";
    string FBB_Con_LengthIDCardNumberID_CARD = "";
    string FBB_Con_LengthIDCardNumberIMM_CARD = "";
    string FBB_Con_LengthIDCardNumberMONK_CERT = "";
    string FBB_Con_MobileLength = "";
    string FBB_Con_YearLimitHigh = "";
    string FBB_Con_YearLimitLow = "";
    string FBB_Con_Input_CERT_FOUND = "";
    string FBB_Con_Input_EMB_LET = "";
    string FBB_Con_Input_HILL_CARD = "";
    string FBB_Con_Input_ID_CARD = "";
    string FBB_Con_Input_IMM_CARD = "";
    string FBB_Con_Input_MONK_CERT = "";
    string FBB_Con_Input_PASSPORT = "";
    string FBB_Con_Input_ROY_LET = "";
    string FBB_Con_Input_STA_LET = "";
    string FBB_Con_Input_TAX_ID = "";
    string FBB_Con_Input_GOV_LET = "";
    string FBB_Con_Input_Home_Number = "";
    string FBB_Con_Input_Moo = "";
    string FBB_Con_Input_Mooban = "";
    string FBB_Con_Input_Building = "";
    string FBB_Con_Input_Floor = "";
    string FBB_Con_Input_Room = "";
    string FBB_Con_Input_Soi = "";
    string FBB_Con_Input_Road = "";
    string FBB_Con_Input_HomePhone = "";
    string FBB_Con_Input_ExtNumber = "";
    string FBB_Con_Length_HomePhone = "";
    string FBB_Con_Length_ExtNumberz = "";
    string FBB_Con_Length_Home_Number = "";
    string FBB_Con_Length_Moo = "";
    string FBB_Con_Length_Mooban = "";
    string FBB_Con_Length_Building = "";
    string FBB_Con_Length_Floor = "";
    string FBB_Con_Length_Room = "";
    string FBB_Con_Length_Soi = "";
    string FBB_Con_Length_Road = "";
    string FBB_Con_Length_ID_Card_Number_STA_LET = "";
    string FBB_Con_Length_ID_Card_Number_ROY_LET = "";
    string FBB_Con_Length_ID_Card_Number_EMB_LET = "";
    string FBB_Con_Length_ID_Card_Number_CERT_FOUND = "";
    string FBB_Con_Length_ID_Card_Number_TAX_ID = "";
    string FBB_Con_Length_ID_Card_Number_PASSPORT = "";
    string FBB_Con_Length_ID_Card_Number_GOV_LET = "";
    string B_BACK = "";

    if (ViewBag.LabelFBBTR001 != null)
    {
        var LabelFBBTR001 = (List<LovScreenValueModel>)ViewBag.LabelFBBTR001;
        L_SEARCH_NONMOBILE = LabelFBBTR001.Any(c => c.Name == "L_SEARCH_NONMOBILE") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "L_SEARCH_NONMOBILE").DisplayValue : "";
        L_SEARCH_IDCARD = LabelFBBTR001.Any(c => c.Name == "L_SEARCH_IDCARD") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "L_SEARCH_IDCARD").DisplayValue : "";
        B_SEARCH_NEW_CUST = LabelFBBTR001.Any(c => c.Name == "B_SEARCH_NEW_CUST") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "B_SEARCH_NEW_CUST").DisplayValue : "";
        L_NEW_CUST_NOT_FOUND = LabelFBBTR001.Any(c => c.Name == "L_NEW_CUST_NOT_FOUND") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "L_NEW_CUST_NOT_FOUND").DisplayValue : "";
        L_NEW_CUST_NOT_FOUND2 = LabelFBBTR001.Any(c => c.Name == "L_NEW_CUST_NOT_FOUND2") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "L_NEW_CUST_NOT_FOUND2").DisplayValue : "";
        L_NEW_CUST_VALIDATE_REQUIRE = LabelFBBTR001.Any(c => c.Name == "L_NEW_CUST_VALIDATE_REQUIRE") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "L_NEW_CUST_VALIDATE_REQUIRE").DisplayValue : "";
        L_SEARCH_AIRNET = LabelFBBTR001.Any(c => c.Name == "L_SEARCH_AIRNET") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "L_SEARCH_AIRNET").DisplayValue : "";
        L_ADD_SERVICE = LabelFBBTR001.Any(c => c.Name == "L_ADD_SERVICE") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "L_ADD_SERVICE").DisplayValue : "";

        var labelFBBTR000 = (List<LovScreenValueModel>)ViewBag.LabelFBBTR000;
        B_BACK = labelFBBTR000.Any(c => c.Name == "B_BACK") ? labelFBBTR000.FirstOrDefault(c => c.Name == "B_BACK").DisplayValue : "";
    }

    if (ViewBag.LabelFBBTR003 != null)
    {
        var labelFBBTR003 = (List<LovScreenValueModel>)ViewBag.LabelFBBTR003;
        lCARD_TYPE = labelFBBTR003.Any(c => c.Name == "L_CARD_TYPE") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_CARD_TYPE").DisplayValue : "";
    }

    if (ViewBag.FbbConstant != null)
    {
        var FbbConstant = (List<FbbConstantModel>)ViewBag.FbbConstant;
        FBB_Con_CharNotonName = FbbConstant.Any(f => f.Field == "Char Not on Name") ? FbbConstant.First(f => f.Field == "Char Not on Name").Validation : "";
        FBB_Con_IDCardNumberNonRes = FbbConstant.Any(f => f.Field == "ID Card Number Non-Res") ? FbbConstant.First(f => f.Field == "ID Card Number Non-Res").Validation : "";
        FBB_Con_LengthIDCardNumberHILL_CARD = FbbConstant.Any(f => f.Field == "Length ID Card Number HILL_CARD") ? FbbConstant.First(f => f.Field == "Length ID Card Number HILL_CARD").Validation : "";
        FBB_Con_LengthIDCardNumberID_CARD = FbbConstant.Any(f => f.Field == "Length ID Card Number ID_CARD") ? FbbConstant.First(f => f.Field == "Length ID Card Number ID_CARD").Validation : "";
        FBB_Con_LengthIDCardNumberIMM_CARD = FbbConstant.Any(f => f.Field == "Length ID Card Number IMM_CARD") ? FbbConstant.First(f => f.Field == "Length ID Card Number IMM_CARD").Validation : "";
        FBB_Con_LengthIDCardNumberMONK_CERT = FbbConstant.Any(f => f.Field == "Length ID Card Number MONK_CERT") ? FbbConstant.First(f => f.Field == "Length ID Card Number MONK_CERT").Validation : "";
        FBB_Con_MobileLength = FbbConstant.Any(f => f.Field == "Mobile Length") ? FbbConstant.First(f => f.Field == "Mobile Length").Validation : "";
        FBB_Con_YearLimitHigh = FbbConstant.Any(f => f.Field == "Year Limit High") ? FbbConstant.First(f => f.Field == "Year Limit High").Validation : "";
        FBB_Con_YearLimitLow = FbbConstant.Any(f => f.Field == "Year Limit Low") ? FbbConstant.First(f => f.Field == "Year Limit Low").Validation : "";

        FBB_Con_Input_CERT_FOUND = FbbConstant.Any(f => f.Field == "Input CERT_FOUND") ? FbbConstant.First(f => f.Field == "Input CERT_FOUND").Validation : "";
        FBB_Con_Input_EMB_LET = FbbConstant.Any(f => f.Field == "Input EMB_LET") ? FbbConstant.First(f => f.Field == "Input EMB_LET").Validation : "";
        FBB_Con_Input_HILL_CARD = FbbConstant.Any(f => f.Field == "Input HILL_CARD") ? FbbConstant.First(f => f.Field == "Input HILL_CARD").Validation : "";
        FBB_Con_Input_ID_CARD = FbbConstant.Any(f => f.Field == "Input ID_CARD") ? FbbConstant.First(f => f.Field == "Input ID_CARD").Validation : "";
        FBB_Con_Input_IMM_CARD = FbbConstant.Any(f => f.Field == "Input IMM_CARD") ? FbbConstant.First(f => f.Field == "Input IMM_CARD").Validation : "";
        FBB_Con_Input_MONK_CERT = FbbConstant.Any(f => f.Field == "Input MONK_CERT") ? FbbConstant.First(f => f.Field == "Input MONK_CERT").Validation : "";
        FBB_Con_Input_PASSPORT = FbbConstant.Any(f => f.Field == "Input PASSPORT") ? FbbConstant.First(f => f.Field == "Input PASSPORT").Validation : "";
        FBB_Con_Input_ROY_LET = FbbConstant.Any(f => f.Field == "Input ROY_LET") ? FbbConstant.First(f => f.Field == "Input ROY_LET").Validation : "";
        FBB_Con_Input_STA_LET = FbbConstant.Any(f => f.Field == "Input STA_LET") ? FbbConstant.First(f => f.Field == "Input STA_LET").Validation : "";
        FBB_Con_Input_TAX_ID = FbbConstant.Any(f => f.Field == "Input TAX_ID") ? FbbConstant.First(f => f.Field == "Input TAX_ID").Validation : "";
        FBB_Con_Input_GOV_LET = FbbConstant.Any(f => f.Field == "Input GOV_LET") ? FbbConstant.First(f => f.Field == "Input GOV_LET").Validation : "";

        FBB_Con_Input_Home_Number = FbbConstant.Any(f => f.Field == "Input_Home_Number") ? FbbConstant.First(f => f.Field == "Input_Home_Number").Validation : "";
        FBB_Con_Input_Moo = FbbConstant.Any(f => f.Field == "Input_Moo") ? FbbConstant.First(f => f.Field == "Input_Moo").Validation : "";
        FBB_Con_Input_Mooban = FbbConstant.Any(f => f.Field == "Input_Mooban") ? FbbConstant.First(f => f.Field == "Input_Mooban").Validation : "";
        FBB_Con_Input_Building = FbbConstant.Any(f => f.Field == "Input_Building") ? FbbConstant.First(f => f.Field == "Input_Building").Validation : "";
        FBB_Con_Input_Floor = FbbConstant.Any(f => f.Field == "Input_Floor") ? FbbConstant.First(f => f.Field == "Input_Floor").Validation : "";
        FBB_Con_Input_Room = FbbConstant.Any(f => f.Field == "Input_Room") ? FbbConstant.First(f => f.Field == "Input_Room").Validation : "";
        FBB_Con_Input_Soi = FbbConstant.Any(f => f.Field == "Input_Soi") ? FbbConstant.First(f => f.Field == "Input_Soi").Validation : "";
        FBB_Con_Input_Road = FbbConstant.Any(f => f.Field == "Input_Road") ? FbbConstant.First(f => f.Field == "Input_Road").Validation : "";
        FBB_Con_Input_HomePhone = FbbConstant.Any(f => f.Field == "Input_HomePhone") ? FbbConstant.First(f => f.Field == "Input_HomePhone").Validation : "";
        FBB_Con_Input_ExtNumber = FbbConstant.Any(f => f.Field == "Input_ExtNumber") ? FbbConstant.First(f => f.Field == "Input_ExtNumber").Validation : "";

        FBB_Con_Length_HomePhone = FbbConstant.Any(f => f.Field == "Length_HomePhone") ? FbbConstant.First(f => f.Field == "Length_HomePhone").Validation : "";
        FBB_Con_Length_ExtNumberz = FbbConstant.Any(f => f.Field == "Length_ExtNumber") ? FbbConstant.First(f => f.Field == "Length_ExtNumber").Validation : "";
        FBB_Con_Length_Home_Number = FbbConstant.Any(f => f.Field == "Length_Home_Number") ? FbbConstant.First(f => f.Field == "Length_Home_Number").Validation : "";
        FBB_Con_Length_Moo = FbbConstant.Any(f => f.Field == "Length_Moo") ? FbbConstant.First(f => f.Field == "Length_Moo").Validation : "";
        FBB_Con_Length_Mooban = FbbConstant.Any(f => f.Field == "Length_Mooban") ? FbbConstant.First(f => f.Field == "Length_Mooban").Validation : "";
        FBB_Con_Length_Building = FbbConstant.Any(f => f.Field == "Length_Building") ? FbbConstant.First(f => f.Field == "Length_Building").Validation : "";
        FBB_Con_Length_Floor = FbbConstant.Any(f => f.Field == "Length_Floor") ? FbbConstant.First(f => f.Field == "Length_Floor").Validation : "";
        FBB_Con_Length_Room = FbbConstant.Any(f => f.Field == "Length_Room") ? FbbConstant.First(f => f.Field == "Length_Room").Validation : "";
        FBB_Con_Length_Soi = FbbConstant.Any(f => f.Field == "Length_Soi") ? FbbConstant.First(f => f.Field == "Length_Soi").Validation : "";
        FBB_Con_Length_Road = FbbConstant.Any(f => f.Field == "Length_Road") ? FbbConstant.First(f => f.Field == "Length_Road").Validation : "";

        FBB_Con_Length_ID_Card_Number_STA_LET = FbbConstant.Any(f => f.Field == "Length ID Card Number STA_LET") ? FbbConstant.First(f => f.Field == "Length ID Card Number STA_LET").Validation : "";
        FBB_Con_Length_ID_Card_Number_ROY_LET = FbbConstant.Any(f => f.Field == "Length ID Card Number ROY_LET") ? FbbConstant.First(f => f.Field == "Length ID Card Number ROY_LET").Validation : "";
        FBB_Con_Length_ID_Card_Number_EMB_LET = FbbConstant.Any(f => f.Field == "Length ID Card Number EMB_LET") ? FbbConstant.First(f => f.Field == "Length ID Card Number EMB_LET").Validation : "";
        FBB_Con_Length_ID_Card_Number_CERT_FOUND = FbbConstant.Any(f => f.Field == "Length ID Card Number CERT_FOUND") ? FbbConstant.First(f => f.Field == "Length ID Card Number CERT_FOUND").Validation : "";
        FBB_Con_Length_ID_Card_Number_TAX_ID = FbbConstant.Any(f => f.Field == "Length ID Card Number TAX_ID") ? FbbConstant.First(f => f.Field == "Length ID Card Number TAX_ID").Validation : "";
        FBB_Con_Length_ID_Card_Number_PASSPORT = FbbConstant.Any(f => f.Field == "Length ID Card Number PASSPORT") ? FbbConstant.First(f => f.Field == "Length ID Card Number PASSPORT").Validation : "";
        FBB_Con_Length_ID_Card_Number_GOV_LET = FbbConstant.Any(f => f.Field == "Length ID Card Number GOV LET") ? FbbConstant.First(f => f.Field == "Length ID Card Number GOV LET").Validation : "";
    }
}

<style>
    fieldset {
        border: 2px solid #83ad47;
        -webkit-border-radius: 5px;
        border-radius: 5px;
        -khtml-border-radius: 5px;
        -moz-border-radius: 5px;
    }

    #tbl-popup {
        width: 100%;
    }
</style>

<div id="page1" class="">
    <div class="header">
        <div class="img-logo">
            <img src="~/Content/src/img-logo.png" />
        </div>
    </div>

    <div class="title-form">
        @L_ADD_SERVICE<img src="~/Content/src/line-title.png" />
    </div>

    @*<div class="form">*@
    <form id="test" method="post" action="/Process/ProcessLine2">
        <div class="form">
            <div class="wrap01">
                <div>
                    <ul id="err001_2" class="i-red"></ul>
                </div>
                <div style="margin-left: -28px;">
                    <img src="~/Content/src/bulletGreen.png" />@L_SEARCH_AIRNET
                </div>
                <div style="width: 150px; margin-left: 80px;">
                    <input type="text" class="textField" style="width: 185px;" id="AisAirNumber" maxlength="10" />
                </div>
                <div style="margin-left: -28px;">
                    <img src="~/Content/src/bulletGreen.png" />@L_SEARCH_IDCARD
                </div>
                <div style="float: left; width: 150px; margin-right: 82px; margin-left: 80px; margin-top: 3px;">
                    <div style="float: left; width: 230px;">
                        <div class="styled" style="width: 200px;">
                            <select id="ID_CARD_NAMEs" onchange="onChangeID_CARD_NAMEs(this);" title="@lCARD_TYPE"></select>
                        </div>
                    </div>
                </div>
                <div style="float: left; margin-right: 78px;">
                    <input type="text" class="textField" style="width: 185px;" id="L_CARD_NOs" maxlength="30" />
                </div>
                <br />
                <br />
                <img src="~/Content/src/line-title.png" />
                <div style="float: right; margin: 10px;">
                    <a href="/ProcessSelect/" class="greyButton" id="btnBack">@B_BACK</a>
                    <a href="#" class="greenButton2" onclick="checkProcess()">@B_SEARCH_NEW_CUST</a>
                </div>
                <br />
                <br />
                <br />
            </div>

            <input type='hidden' name='outPrimaryContactFirstName' id='outPrimaryContactFirstName' />
            <input type='hidden' name='outContactLastName' id='outContactLastName' />
            <input type='hidden' name='outAmphur' id='outAmphur' />
            <input type='hidden' name='outBuildingName' id='outBuildingName' />
            <input type='hidden' name='outFloor' id='outFloor' />
            <input type='hidden' name='outHouseNumber' id='outHouseNumber' />
            <input type='hidden' name='outMoo' id='outMoo' />
            <input type='hidden' name='outMooban' id='outMooban' />
            <input type='hidden' name='outProvince' id='outProvince' />
            <input type='hidden' name='outRoom' id='outRoom' />
            <input type='hidden' name='outSoi' id='outSoi' />
            <input type='hidden' name='outStreetName' id='outStreetName' />
            <input type='hidden' name='outBillLanguage' id='outBillLanguage' />
            <input type='hidden' name='outtumbol' id='outtumbol' />

            <input type='hidden' name='outBirthDate' id='outBirthDate' />
            <input type='hidden' name='outEmail' id='outEmail' />
            <input type='hidden' name='outparameter2' id='outparameter2' />
            <input type='hidden' name='outAccountName' id='outAccountName' />
            <input type='hidden' name='outAccountNumber' id='outAccountNumber' />
            <input type='hidden' name='outServiceAccountNumber' id='outServiceAccountNumber' />
            <input type='hidden' name='outBillingAccountNumber' id='outBillingAccountNumber' />
            <input type='hidden' name='outProductName' id='outProductName' />
            <input type='hidden' name='outDayOfServiceYear' id='outDayOfServiceYear' />
            <input type='hidden' name='no' id='no' />

            <input type='hidden' name='outcardType' id='outcardType' />
            <input type='hidden' name='outAccountSubCategory' id='outAccountSubCategory' />
            <input type='hidden' name='outPostalCode' id='outPostalCode' />
            <input type='hidden' name='IDCardNo' id='IDCardNo' />
            <input type='hidden' name='IDCardType' id='IDCardType' />

            @* new *@

            @* AddressPanel *@
            <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSetup.L_HOME_NUMBER_2' id='CustomerRegisterPanelModel_AddressPanelModelSetup_L_HOME_NUMBER_2' />
            <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSetup.L_MOO' id='CustomerRegisterPanelModel_AddressPanelModelSetup_L_MOO' />
            <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSetup.L_MOOBAN' id='CustomerRegisterPanelModel_AddressPanelModelSetup_L_MOOBAN' />
            <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSetup.L_BUILD_NAME' id='CustomerRegisterPanelModel_AddressPanelModelSetup_L_BUILD_NAME' />
            <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSetup.L_FLOOR' id='CustomerRegisterPanelModel_AddressPanelModelSetup_L_FLOOR' />
            <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSetup.L_ROOM' id='CustomerRegisterPanelModel_AddressPanelModelSetup_L_ROOM' />
            <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSetup.L_SOI' id='CustomerRegisterPanelModel_AddressPanelModelSetup_L_SOI' />
            <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSetup.L_ROAD' id='CustomerRegisterPanelModel_AddressPanelModelSetup_L_ROAD' />
            <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSetup.L_TUMBOL' id='CustomerRegisterPanelModel_AddressPanelModelSetup_L_TUMBOL' />
            <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSetup.L_AMPHUR' id='CustomerRegisterPanelModel_AddressPanelModelSetup_L_AMPHUR' />
            <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSetup.L_PROVINCE' id='CustomerRegisterPanelModel_AddressPanelModelSetup_L_PROVINCE' />
            <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSetup.L_ZIPCODE' id='CustomerRegisterPanelModel_AddressPanelModelSetup_L_ZIPCODE' />

            <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_HOME_NUMBER_2' id='CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_HOME_NUMBER_2' />
            <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_MOO' id='CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_MOO' />
            <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_MOOBAN' id='CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_MOOBAN' />
            <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_BUILD_NAME' id='CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_BUILD_NAME' />
            <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_FLOOR' id='CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_FLOOR' />
            <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_ROOM' id='CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_ROOM' />
            <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_SOI' id='CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_SOI' />
            <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_ROAD' id='CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_ROAD' />
            <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_TUMBOL' id='CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_TUMBOL' />
            <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_AMPHUR' id='CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_AMPHUR' />
            <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_PROVINCE' id='CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_PROVINCE' />
            <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_ZIPCODE' id='CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_ZIPCODE' />

            <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelVat.L_HOME_NUMBER_2' id='CustomerRegisterPanelModel_AddressPanelModelVat_L_HOME_NUMBER_2' />
            <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelVat.L_MOO' id='CustomerRegisterPanelModel_AddressPanelModelVat_L_MOO' />
            <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelVat.L_MOOBAN' id='CustomerRegisterPanelModel_AddressPanelModelVat_L_MOOBAN' />
            <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelVat.L_BUILD_NAME' id='CustomerRegisterPanelModel_AddressPanelModelVat_L_BUILD_NAME' />
            <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelVat.L_FLOOR' id='CustomerRegisterPanelModel_AddressPanelModelVat_L_FLOOR' />
            <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelVat.L_ROOM' id='CustomerRegisterPanelModel_AddressPanelModelVat_L_ROOM' />
            <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelVat.L_SOI' id='CustomerRegisterPanelModel_AddressPanelModelVat_L_SOI' />
            <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelVat.L_ROAD' id='CustomerRegisterPanelModel_AddressPanelModelVat_L_ROAD' />
            <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelVat.L_TUMBOL' id='CustomerRegisterPanelModel_AddressPanelModelVat_L_TUMBOL' />
            <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelVat.L_AMPHUR' id='CustomerRegisterPanelModel_AddressPanelModelVat_L_AMPHUR' />
            <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelVat.L_PROVINCE' id='CustomerRegisterPanelModel_AddressPanelModelVat_L_PROVINCE' />
            <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelVat.L_ZIPCODE' id='CustomerRegisterPanelModel_AddressPanelModelVat_L_ZIPCODE' />

            @* user detail *@
            <input type='hidden' name='CustomerRegisterPanelModel.L_FIRST_NAME' id='CustomerRegisterPanelModel_L_FIRST_NAME' />
            <input type='hidden' name='CustomerRegisterPanelModel.L_LAST_NAME' id='CustomerRegisterPanelModel_L_LAST_NAME' />
            <input type='hidden' name='CustomerRegisterPanelModel.L_GOVERNMENT_NAME' id='CustomerRegisterPanelModel_L_GOVERNMENT_NAME' />
            <input type='hidden' name='CustomerRegisterPanelModel.L_CONTACT_PERSON' id='CustomerRegisterPanelModel_L_CONTACT_PERSON' />
            <input type='hidden' name='CustomerRegisterPanelModel.SubCateType' id='CustomerRegisterPanelModel_SubCateType' />
            <input type='hidden' name='CustomerRegisterPanelModel.L_CONTACT_PHONE' id='CustomerRegisterPanelModel_L_CONTACT_PHONE' />
            <input type='hidden' name='CustomerRegisterPanelModel.L_BIRTHDAY' id='CustomerRegisterPanelModel_L_BIRTHDAY' />
            <input type='hidden' name='CustomerRegisterPanelModel.L_EMAIL' id='CustomerRegisterPanelModel_L_EMAIL' />
            <input type='hidden' name='CustomerRegisterPanelModel.L_TITLE' id='CustomerRegisterPanelModel_L_TITLE' />

            @* other *@
            <input type='hidden' name='CoveragePanelModel.CA_ID' id='CoveragePanelModel_CA_ID' />
            <input type='hidden' name='CoveragePanelModel.BA_ID' id='CoveragePanelModel_BA_ID' />
            <input type='hidden' name='CoveragePanelModel.SA_ID' id='CoveragePanelModel_SA_ID' />
            <input type='hidden' name='CoveragePanelModel.P_MOBILE' id='CoveragePanelModel_P_MOBILE' />
            <input type='hidden' name='CoveragePanelModel.SffProductName' id='CoveragePanelModel_SffProductName' />
            <input type='hidden' name='CoveragePanelModel.SffServiceYear' id='CoveragePanelModel_SffServiceYear' />
            <input type='hidden' name='CustomerRegisterPanelModel.L_CARD_TYPE' id='CustomerRegisterPanelModel_L_CARD_TYPE' />
            <input type='hidden' name='CustomerRegisterPanelModel.L_CARD_NO' id='CustomerRegisterPanelModel_L_CARD_NO' />
            <input type='hidden' name='CustomerRegisterPanelModel.CateType' id='CustomerRegisterPanelModel_CateType' />
            <input type="hidden" name="SffProfileLogID" id="SffProfileLogID" />
            <input type="hidden" name="TopUp" id="TopUp" />

            @* 18.10 *@
            <input type="hidden" name="v_package_subtype" id="v_package_subtype" />

        </div>
    </form>
</div>

<table class="i-hidden" id="tempV2" border="1" bordercolor="red"></table>

<div id="basic-modal-content">
    <fieldset>
        <table style="width: 100%; text-align: center; color: black;">
            <tr style="height: 25px;">
                <td></td>
            </tr>
            <tr>
                <td>
                    <div id="LastPopupMessage"></div>
                </td>
            </tr>
            <tr>
                <td>
                    <div>
                        @foreach (var rowpopupsave in DataConvertHelpers.ToDecodeList(lpopupsave))
                        {
                            @rowpopupsave<br />
                        }
                    </div>
                </td>
            </tr>
            <tr style="height: 25px;">
                <td></td>
            </tr>
            <tr>
                <td><a href="#" class="greenButton" onclick="DownloadPDF();" style="color: #666666;">@lsave</a> <a href="#" class="greyButton" onclick="$.modal.close();Reload();" style="color: #666666;">@lclose</a></td>
            </tr>
        </table>
    </fieldset>
</div>

<script type="text/javascript">

    var success = '@isSaveCommplete';
    var swifi = '@productSubType';
    var language_ = '@languagePage';

    if (success == 'True') {

        //if (lsave_ == 'True') {
        //    window.location.href = "/Process/download/?filename=" + filename_;
        //}
        PopupMessage();
        showjpopup('580px', '250px');
    }

    function DownloadPDF() {

        window.location.href = "/Process/download";
        setTimeout(function () { Reload() }, 3000);
    }

    function Reload() {
        window.location.href = "/Process/TopUp";
        //window.location.href = location;

    }

    function ClosePopupReload() {
        if (success == 'True') {
            Reload();
        }
    }

    function showjpopup(width_, height_) {
        $('#basic-modal-content').modal('show');
        $('#basic-modal-content').css('display', 'block');

        var div1 = $('#simplemodal-container');
        if (width_ != null) { div1.css('width', width_); }
        if (height_ != null) { div1.css('height', height_); }

        div1.css('margin-left', '10%');

        return false;
    }

    function PopupMessage() {
        //GetLastPopupMessage
        var ProSubType = "";
        if (swifi == "SWiFi") {
            ProSubType = "L_POP_UP_WIRELESS";
        }
        else {
            ProSubType = "L_POP_UP_WIRE";
        }

        $.ajax({
            type: "GET",
            url: "/MasterData/GetLastPopupMessage?LovName=" + ProSubType + "&dataType=1",
            dataType: "json",
            success: function (data) {

                var strBuilder = '<table class="tbl-line-height"  id="tbl-popup">';
                $.each(data, function (i, e) {
                    var str = '';
                    if (language_ == "2") {
                        str = '<tr><td>' + e.LovValue2 + '</td></tr>';
                    }
                    else {
                        str = '<tr><td>' + e.LovValue1 + '</td></tr>';
                    }

                    strBuilder += str;
                });
                strBuilder += '</table>';
                //
                $('#LastPopupMessage').append(strBuilder);
            }
        });
    }

    $(function () {
        @*if("@ViewBag.Fail" == "1"){
            $("#err001_2").append("<li>@L_NEW_CUST_NOT_FOUND2</li>");
        }*@

        if ("@ViewBag.Vas" == "") {
            $("#btnBack").hide();
            $("#TopUp").val("1");
        }

        getCustomerCardTypes();

        $('#AisAirNumber').keyup(function () {
            CheckKeyUps("AisAirNumber", "[0-9]");
        });

        $('#L_CARD_NOs').keyup(function () {
            if ($('#ID_CARD_NAMEs :selected').val() == "TAX_ID") {
                CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_TAX_ID");
            }
            else if ($('#ID_CARD_NAMEs :selected').val() == "MONK_CERT") {
                CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_MONK_CERT");
            }
            else if ($('#ID_CARD_NAMEs :selected').val() == "GOV_LET") {
                CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_GOV_LET");
            }
            else if ($('#ID_CARD_NAMEs :selected').val() == "PASSPORT") {
                CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_PASSPORT");
            }
            else if ($('#ID_CARD_NAMEs :selected').val() == "EMB_LET") {
                CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_EMB_LET");
            }
            else if ($('#ID_CARD_NAMEs :selected').val() == "IMM_CARD") {
                CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_IMM_CARD");
            }
            else if ($('#ID_CARD_NAMEs :selected').val() == "STA_LET") {
                CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_STA_LET");
            }
            else if ($('#ID_CARD_NAMEs :selected').val() == "HILL_CARD") {
                CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_HILL_CARD");
            }
            else if ($('#ID_CARD_NAMEs :selected').val() == "CERT_FOUND") {
                CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_CERT_FOUND");
            }
            else if ($('#ID_CARD_NAMEs :selected').val() == "ID_CARD") {
                CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_ID_CARD");
            }
            else if ($('#ID_CARD_NAMEs :selected').val() == "ROY_LET") {
                CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_ROY_LET");
            }
        });
    });

    function getCustomerCardTypes() {

        $('#ID_CARD_NAMEs').empty();

        //GetCustomerCardType
        $.ajax({
            type: "GET",
            url: "/MasterData/GetCustomerCardType",
            data: { 'customerType': "All" },
            dataType: "json",
            async: false,
            success: function (data) {
                var strBuilder = "";
                var flagSelect = false;
                var firstStr = "<option value='' disabled>" + "@lCARD_TYPE" + "</option>";
                    //var firstStrSelect = "<option value='' disabled selected>" + "@lCARD_TYPE" + "</option>";

                    $.each(data, function (i, e) {
                        if (e.DefaultValue != undefined)
                            strBuilder += '<option value="' + e.Value + '" selected>' + e.Text + '</option>';
                        else
                            strBuilder += '<option value="' + e.Value + '">' + e.Text + '</option>';
                    });
                    strBuilder = firstStr + strBuilder;

                    $('#ID_CARD_NAMEs').append(strBuilder);
            }
        });
    }

    function onChangeID_CARD_NAMEs(idCardName) {
        $("#L_CARD_NOs").val("");

        $.ajax({
            type: "GET",
            url: "/CustomerRegister/GetCustomerSubCat",
            data: { 'idCardName': idCardName.value },
            dataType: "json",
            async: false,
            success: function (data) {
            },
        });

        if ($('#ID_CARD_NAMEs :selected').val() == "TAX_ID") {
            $('#L_CARD_NOs').attr("maxlength", "@FBB_Con_Length_ID_Card_Number_TAX_ID");
        }
        else if ($('#ID_CARD_NAMEs :selected').val() == "MONK_CERT") {
            $('#L_CARD_NOs').attr("maxlength", "@FBB_Con_LengthIDCardNumberMONK_CERT");
        }
        else if ($('#ID_CARD_NAMEs :selected').val() == "GOV_LET") {
            $('#L_CARD_NOs').attr("maxlength", "@FBB_Con_Length_ID_Card_Number_GOV_LET");
        }
        else if ($('#ID_CARD_NAMEs :selected').val() == "PASSPORT") {
            $('#L_CARD_NOs').attr("maxlength", "@FBB_Con_Length_ID_Card_Number_PASSPORT");
        }
        else if ($('#ID_CARD_NAMEs :selected').val() == "EMB_LET") {
            $('#L_CARD_NOs').attr("maxlength", "@FBB_Con_Length_ID_Card_Number_EMB_LET");
        }
        else if ($('#ID_CARD_NAMEs :selected').val() == "IMM_CARD") {
            $('#L_CARD_NOs').attr("maxlength", "@FBB_Con_LengthIDCardNumberIMM_CARD");
        }
        else if ($('#ID_CARD_NAMEs :selected').val() == "STA_LET") {
            $('#L_CARD_NOs').attr("maxlength", "@FBB_Con_Length_ID_Card_Number_STA_LET");
        }
        else if ($('#ID_CARD_NAMEs :selected').val() == "HILL_CARD") {
            $('#L_CARD_NOs').attr("maxlength", "@FBB_Con_LengthIDCardNumberHILL_CARD");
        }
        else if ($('#ID_CARD_NAMEs :selected').val() == "CERT_FOUND") {
            $('#L_CARD_NOs').attr("maxlength", "@FBB_Con_Length_ID_Card_Number_CERT_FOUND");
        }
        else if ($('#ID_CARD_NAMEs :selected').val() == "ID_CARD") {
            $('#L_CARD_NOs').attr("maxlength", "@FBB_Con_LengthIDCardNumberID_CARD");
        }
        else if ($('#ID_CARD_NAMEs :selected').val() == "ROY_LET") {
            $('#L_CARD_NOs').attr("maxlength", "@FBB_Con_Length_ID_Card_Number_ROY_LET");
        }
    }

    function CheckKeyUps(id, RexStr) {
        var strKey = $("#" + id).val();
        var strBuilder = "";
        var filter = new RegExp(RexStr);
        for (var i = 0; i < strKey.length; i++) {
            if (filter.test(strKey.substr(i, 1))) {
                strBuilder += strKey.substr(i, 1);
            }
        }
        $("#" + id).val(strBuilder);
    }

    function checkProcess() {
        sessionStorage.setItem("AisAirNumber", null);
        var chk = false;
        var a = [];
        a.push({ id: "AisAirNumber", condition: "Number" });
        a.push({ id: "L_CARD_NOs" });
        a.push({ id: "ID_CARD_NAMEs" });
        chk = ValidationProcessing(a, "err001_2");

        if (chk) {
            var twoMobileNo = $("#AisAirNumber").val().substr(0, 2);
            if (twoMobileNo == "88") {
                $.ajax({
                    url: '/CheckCoverage/evESeServiceQueryMassCommonAccountInfo',
                    data: { mobileNo: codefbb.fbbMessage($("#AisAirNumber").val()), cardNo: $.trim($("#L_CARD_NOs").val()), cardType: $("#ID_CARD_NAMEs").val(), line: "@ViewBag.Vas" },
                    dataType: "json",
                    type: 'POST',
                    async: false,
                    success: function (response) {
                        var data = response.data;
                        if ($.trim(data.errorMessage) == "EB0001" || $.trim(data.errorMessage) == "EB0574") {
                            $("#err001_2").append("<li>@L_NEW_CUST_NOT_FOUND</li>");
                            }
                        else if (data.errorMessage == "") {
                            $.ajax({
                                url: '/CheckCoverage/GetCheckProcess',
                                data: { key: data.GUIDKEY, },
                                dataType: "json",
                                type: 'POST',
                                async: false,
                                success: function (data) {
                                    var data = response.data;
                                    $("#outPrimaryContactFirstName").val(data.outPrimaryContactFirstName);
                                    $("#outContactLastName").val(data.outContactLastName);
                                    $("#outAmphur").val(data.outAmphur);
                                    $("#outBuildingName").val(data.outBuildingName);
                                    $("#outFloor").val(data.outFloor);
                                    $("#outHouseNumber").val(data.outHouseNumber);
                                    $("#outMoo").val(data.outMoo);
                                    $("#outMooban").val(data.outMooban);
                                    $("#outProvince").val(data.outProvince);
                                    $("#outRoom").val(data.outRoom);
                                    $("#outSoi").val(data.outSoi);
                                    $("#outStreetName").val(data.outStreetName);
                                    $("#outBillLanguage").val(data.outBillLanguage);
                                    $("#outtumbol").val(data.outTumbol);
                                    $("#outBirthDate").val(data.outBirthDate);
                                    $("#outEmail").val(data.outEmail);
                                    $("#outparameter2").val(data.outparameter2);
                                    $("#outAccountName").val(data.outAccountName);
                                    $("#outAccountNumber").val(data.outAccountNumber);
                                    $("#outServiceAccountNumber").val(data.outServiceAccountNumber);
                                    $("#outBillingAccountNumber").val(data.outBillingAccountNumber);
                                    $("#outProductName").val(data.outProductName);
                                    $("#outDayOfServiceYear").val(data.outDayOfServiceYear);
                                    $("#no").val($("#AisAirNumber").val());

                                    $("#outcardType").val(data.cardType);
                                    $("#outAccountSubCategory").val(data.outAccountSubCategory);
                                    $("#outPostalCode").val(data.outPostalCode);
                                    $("#IDCardType").val($('#ID_CARD_NAMEs :selected').text());
                                    $("#IDCardNo").val($("#L_CARD_NOs").val());

                                    /// new ///
                                    /// address //
                                    $("#CustomerRegisterPanelModel_AddressPanelModelSetup_L_HOME_NUMBER_2").val(data.outHouseNumber);
                                    $("#CustomerRegisterPanelModel_AddressPanelModelSetup_L_MOO").val(data.outMoo);
                                    $("#CustomerRegisterPanelModel_AddressPanelModelSetup_L_MOOBAN").val(data.outMooban);
                                    $("#CustomerRegisterPanelModel_AddressPanelModelSetup_L_BUILD_NAME").val(data.outBuildingName);
                                    $("#CustomerRegisterPanelModel_AddressPanelModelSetup_L_FLOOR").val(data.outFloor);
                                    $("#CustomerRegisterPanelModel_AddressPanelModelSetup_L_ROOM").val(data.outRoom);
                                    $("#CustomerRegisterPanelModel_AddressPanelModelSetup_L_SOI").val(data.outSoi);
                                    $("#CustomerRegisterPanelModel_AddressPanelModelSetup_L_ROAD").val(data.outStreetName);
                                    $("#CustomerRegisterPanelModel_AddressPanelModelSetup_L_TUMBOL").val(data.outTumbol);
                                    $("#CustomerRegisterPanelModel_AddressPanelModelSetup_L_AMPHUR").val(data.outAmphur);
                                    $("#CustomerRegisterPanelModel_AddressPanelModelSetup_L_PROVINCE").val(data.outProvince);
                                    $("#CustomerRegisterPanelModel_AddressPanelModelSetup_L_ZIPCODE").val(data.outPostalCode);

                                    $("#CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_HOME_NUMBER_2").val(data.outHouseNumber);
                                    $("#CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_MOO").val(data.outMoo);
                                    $("#CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_MOOBAN").val(data.outMooban);
                                    $("#CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_BUILD_NAME").val(data.outBuildingName);
                                    $("#CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_FLOOR").val(data.outFloor);
                                    $("#CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_ROOM").val(data.outRoom);
                                    $("#CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_SOI").val(data.outSoi);
                                    $("#CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_ROAD").val(data.outStreetName);
                                    $("#CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_TUMBOL").val(data.outTumbol);
                                    $("#CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_AMPHUR").val(data.outAmphur);
                                    $("#CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_PROVINCE").val(data.outProvince);
                                    $("#CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_ZIPCODE").val(data.outPostalCode);

                                    $("#CustomerRegisterPanelModel_AddressPanelModelVat_L_HOME_NUMBER_2").val(data.outHouseNumber);
                                    $("#CustomerRegisterPanelModel_AddressPanelModelVat_L_MOO").val(data.outMoo);
                                    $("#CustomerRegisterPanelModel_AddressPanelModelVat_L_MOOBAN").val(data.outMooban);
                                    $("#CustomerRegisterPanelModel_AddressPanelModelVat_L_BUILD_NAME").val(data.outBuildingName);
                                    $("#CustomerRegisterPanelModel_AddressPanelModelVat_L_FLOOR").val(data.outFloor);
                                    $("#CustomerRegisterPanelModel_AddressPanelModelVat_L_ROOM").val(data.outRoom);
                                    $("#CustomerRegisterPanelModel_AddressPanelModelVat_L_SOI").val(data.outSoi);
                                    $("#CustomerRegisterPanelModel_AddressPanelModelVat_L_ROAD").val(data.outStreetName);
                                    $("#CustomerRegisterPanelModel_AddressPanelModelVat_L_TUMBOL").val(data.outTumbol);
                                    $("#CustomerRegisterPanelModel_AddressPanelModelVat_L_AMPHUR").val(data.outAmphur);
                                    $("#CustomerRegisterPanelModel_AddressPanelModelVat_L_PROVINCE").val(data.outProvince);
                                    $("#CustomerRegisterPanelModel_AddressPanelModelVat_L_ZIPCODE").val(data.outPostalCode);

                                    ///detail ///
                                    $("#CustomerRegisterPanelModel_L_FIRST_NAME").val(data.outPrimaryContactFirstName);
                                    $("#CustomerRegisterPanelModel_L_LAST_NAME").val(data.outContactLastName);
                                    $("#CustomerRegisterPanelModel_L_GOVERNMENT_NAME").val(data.outAccountName);
                                    $("#CustomerRegisterPanelModel_L_CONTACT_PERSON").val(data.outPrimaryContactFirstName + " " + data.outContactLastName);
                                    $("#CustomerRegisterPanelModel_SubCateType").val(data.outAccountSubCategory);
                                    $("#CustomerRegisterPanelModel_L_CONTACT_PHONE").val(data.outparameter2);
                                    $("#CustomerRegisterPanelModel_L_BIRTHDAY").val(data.outBirthDate);
                                    $("#CustomerRegisterPanelModel_L_EMAIL").val(data.outEmail);

                                    $("#CustomerRegisterPanelModel_L_CARD_TYPE").val($('#ID_CARD_NAMEs :selected').text());
                                    $("#CustomerRegisterPanelModel_L_CARD_NO").val($("#L_CARD_NOs").val());
                                    $("#CoveragePanelModel_CA_ID").val(data.outAccountNumber);
                                    $("#CoveragePanelModel_SA_ID").val(data.outServiceAccountNumber);
                                    $("#CoveragePanelModel_BA_ID").val(data.outBillingAccountNumber);
                                    $("#CoveragePanelModel_SffProductName").val(data.outProductName);
                                    $("#CoveragePanelModel_SffServiceYear").val(data.outDayOfServiceYear);
                                    $("#CoveragePanelModel_P_MOBILE").val($("#AisAirNumber").val());
                                    sessionStorage.setItem("AisAirNumber", $("#AisAirNumber").val());
                                    $("#CustomerRegisterPanelModel_CateType").val(data.cardType);
                                    $("#CustomerRegisterPanelModel_L_TITLE").val(data.outTitle);
                                    $("#SffProfileLogID").val(data.SffProfileLogID);
                                    getPackageV2(data.OwnerProduct, data.PackageCode, data.outProductName, data.outDayOfServiceYear);
                                }
                            });
                        }
                        else { //error service
                            $("#err001_2").append("<li>@L_NEW_CUST_NOT_FOUND.</li>");
                        }
                    }
                    , error: function (err) {

                    }
                });
            }
            else {
                $("#err001_2").append("<li>@L_NEW_CUST_NOT_FOUND2</li>");
            }
        }
    }

    function getPackageV2(ownerProduct, packageCode, sffProductName, sffServiceYear) {
        
        //R18.10 Call getListServiceAnsPromotionByPackType
        getListServiceAnsPromotionByPackType();

        $.ajax({
            type: "GET",
            url: "/SelectPackage/GetListPackageService",
            data: {
                "P_OWNER_PRODUCT": ownerProduct,
                "P_PRODUCT_SUBTYPE": $("#v_package_subtype").val(), //"VOIP",
                "P_NETWORK_TYPE": sffProductName,
                "P_SERVICE_DAY": sffServiceYear,
                "line": "@ViewBag.Vas",
                "P_PACKAGE_FOR": "PUBLIC",
                "P_PACKAGE_CODE": packageCode,
                "no": $("#AisAirNumber").val(),
                "topUp": $("#TopUp").val(),
                "p_Address_Id": "",
                "p_Plug_And_Play_Flag": "", //Add New Parameter for Plug and Play //Added by PatthamawadeeH. 28122016
                "AisAirNumber": sessionStorage.getItem("AisAirNumber")
            },
            dataType: "json",
            async: false,
            success: function (data) {
                if (data.length == 0) {

                }
                else {
                    var tempV2 = "";
                    $("#tempV2").empty();

                    $.each(data, function (i, e) {
                        if (e.PRODUCT_SUBTYPE == "VOIP" || e.PRODUCT_SUBTYPE == "VAS")
                            tempV2 += appendingV2(i, e);
                    });
                    $("#tempV2").append(tempV2);

                    if ($('#tempV2 tr').length > 0) {
                        $("#test").submit();
                    }
                    else {
                        $("#err001_2").append("<li>@L_NEW_CUST_NOT_FOUND2</li>");
                    }
                }
            }
        });
    }

    function getListServiceAnsPromotionByPackType() {
        $.ajax({
            type: "POST",
            url: "/SelectPackage/GetListServiceAndPromotionByPackType",
            data: {
                "mobileNo": $.trim($("#AisAirNumber").val()),
                "idCard": $.trim($("#L_CARD_NOs").val()),
                "idCardType": $("#ID_CARD_NAMEs").val()
            },
            dataType: "json",
            async: false,
            success: function (data) {
                $("#v_package_subtype").val(data.v_package_subtype);
            }
        });
    }

    function appendingV2(i, e) {
        return "<tr>" +
               "<td>" +
               "</td>" +
               "</tr>";
    }

</script>
