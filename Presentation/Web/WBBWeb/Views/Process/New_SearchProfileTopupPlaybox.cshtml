@using System.Collections.Generic;
@using WBBEntity.PanelModels;
@{
    var isSaveCommplete = false;
    var productSubType = "";
    var languagePage = "";
    var lclose = "";
    var lsave = "";
    var lpopupsave = "";
    var NamePackageFail = "";
    var dup = "";
    var existingFlag = "";
    var existingPopupFlag = "";
    var PageShow = "";
    if (null != ViewBag.NamePackageFail)
    {
        NamePackageFail = ViewBag.NamePackageFail;
    }
    if (null != ViewBag.SWifi)
    {
        productSubType = ViewBag.SWiFi;
    }
    if (null != ViewBag.SaveSuccess)
    {
        isSaveCommplete = ViewBag.SaveSuccess;
    }
    if (null != ViewBag.LanguagePage)
    {
        languagePage = ViewBag.LanguagePage;
    }
    if (null != ViewBag.LCLOSE)
    {
        lclose = ViewBag.LCLOSE;
    }
    if (null != ViewBag.LSAVE)
    {
        lsave = ViewBag.LSAVE;
    }
    if (null != ViewBag.LPOPUPSAVE)
    {
        lpopupsave = ViewBag.LPOPUPSAVE;
    }
    if (null != ViewBag.DUP)
    {
        dup = ViewBag.DUP;
    }
    if (null != ViewBag.ExistingFlag)
    {
        existingFlag = ViewBag.ExistingFlag;
    }
    if (null != ViewBag.ExistingPopupFlag)
    {
        existingPopupFlag = ViewBag.ExistingPopupFlag;
    }

    if (null != ViewBag.PageShow)
    {
        PageShow = ViewBag.PageShow;
    }

    var IsTopupPlaybox = "";
    if (null != ViewBag.IsTopupPlaybox)
    {
        IsTopupPlaybox = ViewBag.IsTopupPlaybox;
    }
    // 25.05.2023 deeflink
    var FlagPB = "";
    if (null != ViewBag.FlagPB)
    {
        FlagPB = ViewBag.FlagPB;
    }
    //
    Layout = null;

    string L_MY_ACCOUNT = "";
    string L_MY_PERSONAL_INFO = "";
    string L_AIS_FIBRE_NO = "";
    string L_CHOOSE_CARD_TYPE = "";
    string L_CARD_NUMBER = "";
    string B_CONTINUE = "";
    string L_LOGIN_FAILED = "";
    string B_OK = "";
    string L_FILL_OUT = "";
    string L_SELECT_ITEM = "";
    string L_NEW_CUST_NOT_FOUND2 = "";
    string L_NEW_CUST_NOT_FOUND = "";
    string FBB_Con_Length_ID_Card_Number_STA_LET = "";
    string FBB_Con_Length_ID_Card_Number_ROY_LET = "";
    string FBB_Con_Length_ID_Card_Number_EMB_LET = "";
    string FBB_Con_Length_ID_Card_Number_CERT_FOUND = "";
    string FBB_Con_Length_ID_Card_Number_TAX_ID = "";
    string FBB_Con_Length_ID_Card_Number_PASSPORT = "";
    string FBB_Con_Length_ID_Card_Number_GOV_LET = "";
    string FBB_Con_LengthIDCardNumberHILL_CARD = "";
    string FBB_Con_LengthIDCardNumberID_CARD = "";
    string FBB_Con_LengthIDCardNumberIMM_CARD = "";
    string FBB_Con_LengthIDCardNumberMONK_CERT = "";
    string FBB_Con_Input_CERT_FOUND = "";
    string FBB_Con_Input_EMB_LET = "";
    string FBB_Con_Input_HILL_CARD = "";
    string FBB_Con_Input_ID_CARD = "";
    string FBB_Con_Input_IMM_CARD = "";
    string FBB_Con_Input_MONK_CERT = "";
    string FBB_Con_Input_PASSPORT = "";
    string FBB_Con_Input_ROY_LET = "";
    string FBB_Con_Input_STA_LET = "";
    string FBB_Con_Input_TAX_ID = "";
    string FBB_Con_Input_GOV_LET = "";
    string lCARD_TYPE = "";
    string B_BACK = "";
    string L_NEW_CUST_NOT_FOUND3 = "";
    string L_NEW_CUST_NOT_FOUND4 = "";
    string L_NEW_CUST_NOT_FOUND6 = "";
    string L_NEW_CUST_NOT_FOUND10 = "";
    string L_NEW_CUST_NOT_FOUND11 = "";

    string SHOW_ICON_FIXEDLINE_CUST_VAS = "";
    string SHOW_ICON_PLAYBOX_CUST_VAS = "";
    string SHOW_ICON_PLAYBOX_SSO_VAS = "";
    string SHOW_ICON_FIXEDLINE_SSO_VAS = "";

    string L_ONTOP_PLAYBOX_SUCCESS = "";
    string L_ONTOP_PLAYBOX_FAIL = "";
    string L_ONTOP_PLAYBOX_DUP = "";
    string L_ONTOP_PLAYBOX_OLD_LAUNCHER = "";

    string L_ONTOP_INTERNET_SUCCESS = "";
    string L_ONTOP_INTERNET_FAIL = "";
    string L_ONTOP_INTERNET_DUP = "";
    string L_ONTOP_INTERNET_OLD_LAUNCHER = "";

    string L_WELCOME_1 = "";
    string L_WELCOME_2 = "";
    string L_WELCOME_3 = "";
    string L_WELCOME_4 = "";
    string L_WELCOME_5 = "";
    string L_BUNDLING_CONDITION = "";
    string L_BUNDLING_CONDITION_DETAIL = "";

    //var Length_Password = "";
    //var Input_Password = "";
    var Length_PW = "";
    var Input_PW = "";
    var L_WATCHLIST_TEXT = "";
    //var L_SHOW_PASSWORD = "";
    //var L_REQUEST_PASSWORD = "";
    var L_SHOW_PW = "";
    var L_REQUEST_PW = "";
    var L_ERR_NOT_FOUND = "";
    //var L_CLOSE_PASSWORD = "";
    var L_CLOSE_PW = "";

    //R17.9 Speed boost
    var L_NEW_CUST_NOT_FOUND_SPEED_BOOST = "";

    if (ViewBag.LabelFBBORV12 != null)
    {
        var LabelFBBORV12 = (List<LovScreenValueModel>)ViewBag.LabelFBBORV12;
        L_ONTOP_PLAYBOX_SUCCESS = LabelFBBORV12.Any(c => c.Name == "L_ONTOP_PLAYBOX_SUCCESS") ? LabelFBBORV12.FirstOrDefault(c => c.Name == "L_ONTOP_PLAYBOX_SUCCESS").DisplayValue : "";
        L_ONTOP_PLAYBOX_FAIL = LabelFBBORV12.Any(c => c.Name == "L_ONTOP_PLAYBOX_FAIL") ? LabelFBBORV12.FirstOrDefault(c => c.Name == "L_ONTOP_PLAYBOX_FAIL").DisplayValue : "";
        L_ONTOP_PLAYBOX_DUP = LabelFBBORV12.Any(c => c.Name == "L_ONTOP_PLAYBOX_DUP") ? LabelFBBORV12.FirstOrDefault(c => c.Name == "L_ONTOP_PLAYBOX_DUP").DisplayValue : "";
        L_ONTOP_PLAYBOX_OLD_LAUNCHER = LabelFBBORV12.Any(c => c.Name == "L_ONTOP_PLAYBOX_OLD_LAUNCHER") ? LabelFBBORV12.FirstOrDefault(c => c.Name == "L_ONTOP_PLAYBOX_OLD_LAUNCHER").DisplayValue : "";
    }

    if (ViewBag.LabelFBBORV24 != null)
    {
        var LabelFBBORV24 = (List<LovScreenValueModel>)ViewBag.LabelFBBORV24;
        L_ONTOP_INTERNET_SUCCESS = LabelFBBORV24.Any(c => c.Name == "L_ONTOP_INTERNET_SUCCESS") ? LabelFBBORV24.FirstOrDefault(c => c.Name == "L_ONTOP_INTERNET_SUCCESS").DisplayValue : "";
        L_ONTOP_INTERNET_FAIL = LabelFBBORV24.Any(c => c.Name == "L_ONTOP_INTERNET_FAIL") ? LabelFBBORV24.FirstOrDefault(c => c.Name == "L_ONTOP_INTERNET_FAIL").DisplayValue : "";
        L_ONTOP_INTERNET_DUP = LabelFBBORV24.Any(c => c.Name == "L_ONTOP_INTERNET_DUP") ? LabelFBBORV24.FirstOrDefault(c => c.Name == "L_ONTOP_INTERNET_DUP").DisplayValue : "";
        L_ONTOP_INTERNET_OLD_LAUNCHER = LabelFBBORV24.Any(c => c.Name == "L_ONTOP_INTERNET_OLD_LAUNCHER") ? LabelFBBORV24.FirstOrDefault(c => c.Name == "L_ONTOP_INTERNET_OLD_LAUNCHER").DisplayValue : "";
    }

    if (ViewBag.LabelFBBTR010 != null)
    {

        var LabelFBBTR010 = (List<LovScreenValueModel>)ViewBag.LabelFBBTR010;
        SHOW_ICON_FIXEDLINE_CUST_VAS = LabelFBBTR010.Any(c => c.Name == "SHOW_ICON_FIXEDLINE_CUST_VAS") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "SHOW_ICON_FIXEDLINE_CUST_VAS").DisplayValue : "";
        SHOW_ICON_PLAYBOX_CUST_VAS = LabelFBBTR010.Any(c => c.Name == "SHOW_ICON_PLAYBOX_CUST_VAS") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "SHOW_ICON_PLAYBOX_CUST_VAS").DisplayValue : "";
        SHOW_ICON_PLAYBOX_SSO_VAS = LabelFBBTR010.Any(c => c.Name == "SHOW_ICON_PLAYBOX_SSO_VAS") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "SHOW_ICON_PLAYBOX_SSO_VAS").DisplayValue : "";
        SHOW_ICON_FIXEDLINE_SSO_VAS = LabelFBBTR010.Any(c => c.Name == "SHOW_ICON_FIXEDLINE_SSO_VAS") ? LabelFBBTR010.FirstOrDefault(c => c.Name == "SHOW_ICON_FIXEDLINE_SSO_VAS").DisplayValue : "";
    }

    string L_AIS_FIBRE_NO_EX = "";
    string L_TITLE_WEB = "";
    string Existing_Check_3BB_MSG = "";
    string Existing_AccessType_MSG = "";
    if (ViewBag.LabelFBBTR001 != null)
    {
        var LabelFBBTR001 = (List<LovScreenValueModel>)ViewBag.LabelFBBTR001;
        L_NEW_CUST_NOT_FOUND3 = LabelFBBTR001.Any(c => c.Name == "L_NEW_CUST_NOT_FOUND3") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "L_NEW_CUST_NOT_FOUND3").DisplayValue : "";
        L_NEW_CUST_NOT_FOUND4 = LabelFBBTR001.Any(c => c.Name == "L_NEW_CUST_NOT_FOUND4") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "L_NEW_CUST_NOT_FOUND4").DisplayValue : "";
        L_NEW_CUST_NOT_FOUND6 = LabelFBBTR001.Any(c => c.Name == "L_NEW_CUST_NOT_FOUND6") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "L_NEW_CUST_NOT_FOUND6").DisplayValue : "";
        L_NEW_CUST_NOT_FOUND10 = LabelFBBTR001.Any(c => c.Name == "L_NEW_CUST_NOT_FOUND10") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "L_NEW_CUST_NOT_FOUND10").DisplayValue : "";
        L_NEW_CUST_NOT_FOUND11 = LabelFBBTR001.Any(c => c.Name == "L_NEW_CUST_NOT_FOUND11") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "L_NEW_CUST_NOT_FOUND11").DisplayValue : "";
        L_MY_ACCOUNT = LabelFBBTR001.Any(c => c.Name == "L_MY_ACCOUNT") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "L_MY_ACCOUNT").DisplayValue : "";
        L_MY_PERSONAL_INFO = LabelFBBTR001.Any(c => c.Name == "L_MY_PERSONAL_INFO") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "L_MY_PERSONAL_INFO").DisplayValue : "";
        L_AIS_FIBRE_NO = LabelFBBTR001.Any(c => c.Name == "L_AIS_FIBRE_NO") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "L_AIS_FIBRE_NO").DisplayValue : "";
        L_CHOOSE_CARD_TYPE = LabelFBBTR001.Any(c => c.Name == "L_CHOOSE_CARD_TYPE") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "L_CHOOSE_CARD_TYPE").DisplayValue : "";
        L_CARD_NUMBER = LabelFBBTR001.Any(c => c.Name == "L_CARD_NUMBER") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "L_CARD_NUMBER").DisplayValue : "";
        B_CONTINUE = LabelFBBTR001.Any(c => c.Name == "B_CONTINUE") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "B_CONTINUE").DisplayValue : "";
        L_LOGIN_FAILED = LabelFBBTR001.Any(c => c.Name == "L_LOGIN_FAILED") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "L_LOGIN_FAILED").DisplayValue : "";
        B_OK = LabelFBBTR001.Any(c => c.Name == "B_OK") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "B_OK").DisplayValue : "";
        L_FILL_OUT = LabelFBBTR001.Any(c => c.Name == "L_FILL_OUT") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "L_FILL_OUT").DisplayValue : "";
        L_SELECT_ITEM = LabelFBBTR001.Any(c => c.Name == "L_SELECT_ITEM") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "L_SELECT_ITEM").DisplayValue : "";
        L_NEW_CUST_NOT_FOUND2 = LabelFBBTR001.Any(c => c.Name == "L_NEW_CUST_NOT_FOUND2") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "L_NEW_CUST_NOT_FOUND2").DisplayValue : "";
        L_NEW_CUST_NOT_FOUND = LabelFBBTR001.Any(c => c.Name == "L_NEW_CUST_NOT_FOUND") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "L_NEW_CUST_NOT_FOUND").DisplayValue : "";
        L_AIS_FIBRE_NO_EX = LabelFBBTR001.Any(c => c.Name == "L_AIS_FIBRE_NO_EX") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "L_AIS_FIBRE_NO_EX").DisplayValue : "";
        L_TITLE_WEB = LabelFBBTR001.Any(c => c.Name == "L_TITLE_WEB") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "L_TITLE_WEB").DisplayValue : "";

        var labelFBBTR000 = (List<LovScreenValueModel>)ViewBag.LabelFBBTR000;
        B_BACK = labelFBBTR000.Any(c => c.Name == "B_BACK") ? labelFBBTR000.FirstOrDefault(c => c.Name == "B_BACK").DisplayValue : "";

        L_NEW_CUST_NOT_FOUND_SPEED_BOOST = LabelFBBTR001.Any(c => c.Name == "L_NEW_CUST_NOT_FOUND_SPEED_BOOST") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "L_NEW_CUST_NOT_FOUND_SPEED_BOOST").DisplayValue : "";

        Existing_Check_3BB_MSG = LabelFBBTR001.Any(c => c.Name == "Existing_Check_3BB_MSG") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "Existing_Check_3BB_MSG").DisplayValue : "";
        Existing_AccessType_MSG = LabelFBBTR001.Any(c => c.Name == "Existing_AccessType_MSG") ? LabelFBBTR001.FirstOrDefault(c => c.Name == "Existing_AccessType_MSG").DisplayValue : "";

    }

    if (ViewBag.LabelFBBTR003 != null)
    {
        var labelFBBTR003 = (List<LovScreenValueModel>)ViewBag.LabelFBBTR003;
        lCARD_TYPE = labelFBBTR003.Any(c => c.Name == "L_CARD_TYPE") ? labelFBBTR003.FirstOrDefault(c => c.Name == "L_CARD_TYPE").DisplayValue : "";
    }
    string Existing_Check_3BB_Flag = "";
    string Existing_Check_Prefix_3BB = "";
    if (ViewBag.FbbConstant != null)
    {
        var FbbConstant = (List<FbbConstantModel>)ViewBag.FbbConstant;
        FBB_Con_LengthIDCardNumberHILL_CARD = FbbConstant.Any(f => f.Field == "Length ID Card Number HILL_CARD") ? FbbConstant.First(f => f.Field == "Length ID Card Number HILL_CARD").Validation : "";
        FBB_Con_LengthIDCardNumberID_CARD = FbbConstant.Any(f => f.Field == "Length ID Card Number ID_CARD") ? FbbConstant.First(f => f.Field == "Length ID Card Number ID_CARD").Validation : "";
        FBB_Con_LengthIDCardNumberIMM_CARD = FbbConstant.Any(f => f.Field == "Length ID Card Number IMM_CARD") ? FbbConstant.First(f => f.Field == "Length ID Card Number IMM_CARD").Validation : "";
        FBB_Con_LengthIDCardNumberMONK_CERT = FbbConstant.Any(f => f.Field == "Length ID Card Number MONK_CERT") ? FbbConstant.First(f => f.Field == "Length ID Card Number MONK_CERT").Validation : "";
        FBB_Con_Length_ID_Card_Number_STA_LET = FbbConstant.Any(f => f.Field == "Length ID Card Number STA_LET") ? FbbConstant.First(f => f.Field == "Length ID Card Number STA_LET").Validation : "";
        FBB_Con_Length_ID_Card_Number_ROY_LET = FbbConstant.Any(f => f.Field == "Length ID Card Number ROY_LET") ? FbbConstant.First(f => f.Field == "Length ID Card Number ROY_LET").Validation : "";
        FBB_Con_Length_ID_Card_Number_EMB_LET = FbbConstant.Any(f => f.Field == "Length ID Card Number EMB_LET") ? FbbConstant.First(f => f.Field == "Length ID Card Number EMB_LET").Validation : "";
        FBB_Con_Length_ID_Card_Number_CERT_FOUND = FbbConstant.Any(f => f.Field == "Length ID Card Number CERT_FOUND") ? FbbConstant.First(f => f.Field == "Length ID Card Number CERT_FOUND").Validation : "";
        FBB_Con_Length_ID_Card_Number_TAX_ID = FbbConstant.Any(f => f.Field == "Length ID Card Number TAX_ID") ? FbbConstant.First(f => f.Field == "Length ID Card Number TAX_ID").Validation : "";
        FBB_Con_Length_ID_Card_Number_PASSPORT = FbbConstant.Any(f => f.Field == "Length ID Card Number PASSPORT") ? FbbConstant.First(f => f.Field == "Length ID Card Number PASSPORT").Validation : "";
        FBB_Con_Length_ID_Card_Number_GOV_LET = FbbConstant.Any(f => f.Field == "Length ID Card Number GOV LET") ? FbbConstant.First(f => f.Field == "Length ID Card Number GOV LET").Validation : "";
        FBB_Con_Input_CERT_FOUND = FbbConstant.Any(f => f.Field == "Input CERT_FOUND") ? FbbConstant.First(f => f.Field == "Input CERT_FOUND").Validation : "";
        FBB_Con_Input_EMB_LET = FbbConstant.Any(f => f.Field == "Input EMB_LET") ? FbbConstant.First(f => f.Field == "Input EMB_LET").Validation : "";
        FBB_Con_Input_HILL_CARD = FbbConstant.Any(f => f.Field == "Input HILL_CARD") ? FbbConstant.First(f => f.Field == "Input HILL_CARD").Validation : "";
        FBB_Con_Input_ID_CARD = FbbConstant.Any(f => f.Field == "Input ID_CARD") ? FbbConstant.First(f => f.Field == "Input ID_CARD").Validation : "";
        FBB_Con_Input_IMM_CARD = FbbConstant.Any(f => f.Field == "Input IMM_CARD") ? FbbConstant.First(f => f.Field == "Input IMM_CARD").Validation : "";
        FBB_Con_Input_MONK_CERT = FbbConstant.Any(f => f.Field == "Input MONK_CERT") ? FbbConstant.First(f => f.Field == "Input MONK_CERT").Validation : "";
        FBB_Con_Input_PASSPORT = FbbConstant.Any(f => f.Field == "Input PASSPORT") ? FbbConstant.First(f => f.Field == "Input PASSPORT").Validation : "";
        FBB_Con_Input_ROY_LET = FbbConstant.Any(f => f.Field == "Input ROY_LET") ? FbbConstant.First(f => f.Field == "Input ROY_LET").Validation : "";
        FBB_Con_Input_STA_LET = FbbConstant.Any(f => f.Field == "Input STA_LET") ? FbbConstant.First(f => f.Field == "Input STA_LET").Validation : "";
        FBB_Con_Input_TAX_ID = FbbConstant.Any(f => f.Field == "Input TAX_ID") ? FbbConstant.First(f => f.Field == "Input TAX_ID").Validation : "";
        FBB_Con_Input_GOV_LET = FbbConstant.Any(f => f.Field == "Input GOV_LET") ? FbbConstant.First(f => f.Field == "Input GOV_LET").Validation : "";

        Length_PW = FbbConstant.Any(f => f.Field == "Length_Password") ? FbbConstant.First(f => f.Field == "Length_Password").Validation : "";
        Input_PW = FbbConstant.Any(f => f.Field == "Input_Password") ? FbbConstant.First(f => f.Field == "Input_Password").Validation : "";

        Existing_Check_3BB_Flag = FbbConstant.Any(c => c.Field == "Existing_Check_3BB_Flag") ? FbbConstant.FirstOrDefault(c => c.Field == "Existing_Check_3BB_Flag").Validation : "";
        Existing_Check_Prefix_3BB = FbbConstant.Any(c => c.Field == "Existing_Check_Prefix_3BB") ? FbbConstant.FirstOrDefault(c => c.Field == "Existing_Check_Prefix_3BB").Validation : "";

    }

    if (ViewBag.LabelFBBOR015 != null)
    {
        var LabelFBBOR015 = (List<LovScreenValueModel>)ViewBag.LabelFBBOR015;
        L_WELCOME_1 = LabelFBBOR015.Any(c => c.Name == "L_WELCOME_1") ? LabelFBBOR015.FirstOrDefault(c => c.Name == "L_WELCOME_1").DisplayValue : "";
        L_WELCOME_2 = LabelFBBOR015.Any(c => c.Name == "L_WELCOME_2") ? LabelFBBOR015.FirstOrDefault(c => c.Name == "L_WELCOME_2").DisplayValue : "";
        L_WELCOME_3 = LabelFBBOR015.Any(c => c.Name == "L_WELCOME_3") ? LabelFBBOR015.FirstOrDefault(c => c.Name == "L_WELCOME_3").DisplayValue : "";
        L_WELCOME_4 = LabelFBBOR015.Any(c => c.Name == "L_WELCOME_4") ? LabelFBBOR015.FirstOrDefault(c => c.Name == "L_WELCOME_4").DisplayValue : "";
        L_WELCOME_5 = LabelFBBOR015.Any(c => c.Name == "L_WELCOME_5") ? LabelFBBOR015.FirstOrDefault(c => c.Name == "L_WELCOME_5").DisplayValue : "";
        L_BUNDLING_CONDITION = LabelFBBOR015.Any(c => c.Name == "L_BUNDLING_CONDITION") ? LabelFBBOR015.FirstOrDefault(c => c.Name == "L_BUNDLING_CONDITION").DisplayValue : "";
        L_BUNDLING_CONDITION_DETAIL = LabelFBBOR015.Any(c => c.Name == "L_BUNDLING_CONDITION_DETAIL") ? LabelFBBOR015.FirstOrDefault(c => c.Name == "L_BUNDLING_CONDITION_DETAIL").DisplayValue : "";

        L_CLOSE_PW = LabelFBBOR015.Any(c => c.Name == "L_CLOSE_PASSWORD") ? LabelFBBOR015.FirstOrDefault(c => c.Name == "L_CLOSE_PASSWORD").DisplayValue : "";
        L_SHOW_PW = LabelFBBOR015.Any(c => c.Name == "L_SHOW_PASSWORD") ? LabelFBBOR015.FirstOrDefault(c => c.Name == "L_SHOW_PASSWORD").DisplayValue : "";
        L_REQUEST_PW = LabelFBBOR015.Any(c => c.Name == "L_REQUEST_PASSWORD") ? LabelFBBOR015.FirstOrDefault(c => c.Name == "L_REQUEST_PASSWORD").DisplayValue : "";
        L_ERR_NOT_FOUND = LabelFBBOR015.Any(c => c.Name == "L_ERR_NOT_FOUND") ? LabelFBBOR015.FirstOrDefault(c => c.Name == "L_ERR_NOT_FOUND").DisplayValue : "";
        B_OK = LabelFBBOR015.Any(c => c.Name == "B_OK") ? LabelFBBOR015.FirstOrDefault(c => c.Name == "B_OK").DisplayValue : "";
        L_WATCHLIST_TEXT = LabelFBBOR015.Any(c => c.Name == "L_WATCH_LIST") ? LabelFBBOR015.FirstOrDefault(c => c.Name == "L_WATCH_LIST").DisplayValue : "";
    }

    string MyAISBypass = "";
    if (ViewBag.MyAISBypass != null)
    {
        MyAISBypass = ViewBag.MyAISBypass;
    }

    string Flag3BB = "";
    if (null != ViewBag.Flag3BB)
    {
        Flag3BB = ViewBag.Flag3BB;
    }

    string FlagAccessType = "";
    if (null != ViewBag.FlagAccessType)
    {
        FlagAccessType = ViewBag.FlagAccessType;
    }
}

<script>
    (function (w, d, s, l, i) {
        w[l] = w[l] || []; w[l].push({
            'gtm.start':

                new Date().getTime(), event: 'gtm.js'
        }); var f = d.getElementsByTagName(s)[0],

            j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =

                '//www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);

    })(window, document, 'script', 'dataLayer', 'GTM-NS998W');
</script>
<!-- End Google Tag Manager -->
<html class="no-js" lang="th">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=10,9" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=0" />
    <meta name="date" content="2016-03-12" />
    <meta name="sitecode" content="TH" />

    <title>@L_TITLE_WEB</title>

    <!-- Cahing Browser -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />

    <meta name="description" content="สิทธิพิเศษจากเอไอเอสไฟเบอร์">
    <meta name="KeyWords" content="ais, เอไอเอส, เน็ต, อินเทอร์เน็ต, ไฟเบอร์" />
    <meta name="thumbnail" content="https://www.ais.co.th/fibre_postpaid/share.jpg" />
    <meta name="thumbnail_height" content="110">
    <!--Fix ขนาดของความสูง ไว้เท่านี้ ไม่เปลี่ยน-->
    <meta name="thumbnail_width" content="75">
    <!--Fix ขนาดของความกว้าง ไว้เท่านี้ ไม่เปลี่ยน-->
    <!-- Facebook Propertie แชร์ Facebook -->
    <meta property="og:title" content="AIS Fibre Broadband ความเร็วสูง 1 Gbps" />
    <meta property="og:description" content="สิทธิพิเศษจากเอไอเอสไฟเบอร์" />
    <meta property="og:image" content="https://www.ais.co.th/fibre_postpaid/share.jpg" />

    <!-- Tweet Propertie แชร์ Tweet -->
    <meta property="tw:description" content="สิทธิพิเศษจากเอไอเอสไฟเบอร์" />

    <!-- Google Plus แชร์  Google -->
    <meta itemprop="name" content="AIS Fibre Broadband ความเร็วสูง 1 Gbps">
    <meta itemprop="description" content="สิทธิพิเศษจากเอไอเอสไฟเบอร์">
    <meta itemprop="image" content="https://www.ais.co.th/fibre_postpaid/share.jpg">

    <link rel="shortcut icon" href="~/favicon.ico" type="image/x-icon">

    @Styles.Render("~/bundles/css/2016")
    @Styles.Render("~/Content/Content2016/fibrepostpaid")
    @Styles.Render("~/Content/Content2016/helvetica")
    @Styles.Render("~/bundles/css/2016plugin")
    @Styles.Render("~/Content/css/bootsrapcss")

    <style type="text/css">
    @Html.CssMinify(
        @<text>
        .i-hidden {
            display: none;
        }

        fieldset {
            border: 2px solid #83ad47;
            -webkit-border-radius: 5px;
            -khtml-border-radius: 5px;
            -moz-border-radius: 5px;
            border-radius: 5px;
        }

        #tbl-popup {
            width: 100%;
        }

        .btnmodal {
            padding: 10px 15px;
            background-color: #58AA0C;
            color: #fff !important;
        }

            .btnmodal:hover {
                padding: 10px 15px;
                background-color: #4a831c;
                color: #fff;
                text-decoration: none;
            }

        .btnP1, .btnP1:hover, .btnP2 {
            background-color: #8dc63f;
            color: #fff;
        }

        .modal-dialog-center {
            margin-top: 10%;
        }

        .btnP1:hover {
            cursor: not-allowed;
        }

        .btnP2:hover {
            background-color: #000;
            color: #fff;
        }

        .btnP3, .btnP3:hover {
            color: #fff !important;
        }

        .btnP3 {
            background-color: #ccc;
        }

            .btnP3:hover {
                background-color: #aaa;
                text-decoration: none;
            }

        .subheader-en, .subheader-th {
            font-size: 34px;
            font-family: db_helvethaicaais_x55_regular;
            background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAR4AAAAmCAYAAAASl/SiAAAFEElEQVR4nO2d3VIcNxCFz8z+wAaMnaq8DFfmqcwz8FZchadxEvNndudHuVCfUo/QwjoYbTDnq+qSWtJotLbnWN033YQQIN4f51dncwCtGVxLxh224ZoWwAGAudnC2mBzHO/tmZmN9wA27hw9gFt3lgHA3z/2y8RLuDi9rPKeeZW3iP8jcwArRHF4CcH2+gTgI4ATZ0cAjq39zdkKUai8Lc0WSMLlrUUUrBFA4/zezkHxGuxMXNPbWGtjA4DO+o3t92B70L+1dYP535BEcwRwDeC7vScAuAFwb3PB+tdu/sF8CvXa+cHec2MtrL13vy3Y++i/eSQ875fNT9qnRfyQR8SP4xuSsBxiKjJL157Y3AJJdOauXSAKi29b2/MYSXhmrt86awrtIZKQNXb+BlEY6QPAH4gfO4UG9n4/Rhuy/pD1Z7Z378Zo/RNGgaVQbqzlLfE7kjh1iOJ2b3PBxujT6Pe2vnPr4cZfnUahlhCiNrrxiL1xfnW2tO5/zTON9swS8TbTYHprYj6JodrarQGAO0zzS3du7w1iOCR25EfyQxIesU8oEi/ld8Qc04m1H6zv80tsD50xBGReiTkmn1tiOAekZHmLFHbRZ7jF3NGQ+QxHCUOexva6QxRG5n3+cc+MiEn2DimH9RXTsO2re7YH8Jc7Y2f7wfk37jxedEdUCLkUaom9cX51xtvKS+AeK6TENfNKKySBYX7pACnpvUASHp/YznNLFJ+TzM9zSw1STod+Y+dqnBHfz/NHsHcxXxQwzSmV8klMTs8wzSENru3ceOdaCiBzST6v9IAoTMwVrRHzRWukxPeDm6P5PJJPjI8SHiFEdfKYWgghXh0JjxCiOhIeIUR1JDxCiOpIeIQQ1ZHwCCGqI+ERQlRHwiOEqI6ERwhRHQmPEKI6Eh4hRHUkPEKI6kh4hBDVkfAIIaoj4RFCVEfCI4SojoRHCFEdCY8QojoSHiFEdSQ8QojqSHiEENWR8AghqiPhEUJUp/ny5+d9n0H8OqwwLVJHfOG+kLUsL+zHaYvMZ1E7FsYb3RhbYFoYz1fvLJ1tF556LhT64eL08rnyy++at1LC2Feb9P8IWOmxNHeAVM3Rz7WIHwjH/PzSrMnmG8Tqk202xjrcR4XxBqmipX+O/Y+YVqBkf4lY5ZJn8P+wj5D+zvIP+IPr80MMSBU0x2x8RBKK0oe6QrlqJStnDpn1hX5eyXJX6wpt3vf+Jhv3lTBZXbMmmz28803B+tB5aVXCEq3Nlv7Mjfl2gRTG+Y9q7uby8q8LN5fv68fY50eUr8v3zf3n1vHPocPj39U+sW9pn9KzDYDbLc95I7nAsB/w+JYAxJrYPR7fEkp+qR23+CNiqdp1tmYorBsKc6W+FzSWx83XDVueGQrzJcv/7F4b3XZ2QCWMhRDVeSuh1i/F+dXZzLp5GEie+9+A8/mNkG3A9IY1YHqr7ZwfEG8xnBvMFztwcXq57yO8SSQ8+4EC8TNYmR0W2kPE/I7v58a8lu8vXNsihjIMywNiKDe338D8DYVvYz6Fb40odAwf720eiGJ3g2mIdW3+6Pze+TdIoRx9HxreIYWUA2J4SKGmqPqQ0+dj+FvEK6NQaw+cX53xpvISeENhTs3bPOvTKEBzt2ae2azQHiMK02yLbct5fcL05pUn+/0ty3/0K6SkdJfNl5LWvNG12Xyfre0K80yuc97PbRCFyvsUyYBpknvI+j7ZzpxPuDi97CDwL/sTIT5apmjjAAAAAElFTkSuQmCC) right center no-repeat;
            max-width: 405px;
            margin-top: 30px;
        }

        .subheader-th {
            color: #000;
        }

            .subheader-th span {
                color: #8dc63f;
            }

        .subheader-en {
            color: #000;
        }

            .subheader-en span {
                color: #8dc63f;
            }

        .vertical-alignment-helper {
            display: table;
            height: 100%;
            width: 100%;
            pointer-events: none;
        }

        .vertical-align-center {
            display: table-cell;
            vertical-align: middle;
            pointer-events: none;
        }

        .modal-content {
            width: inherit;
            height: inherit;
            margin: 0 auto;
            pointer-events: all;
        }

        .fa-6 {
            font-size: 10em;
        }

    </text>)

    </style>

    @Scripts.Render("~/bundles/js/jquery")
    @Scripts.Render("~/bundles/js/jquerymigrate")
    @Scripts.Render("~/bundles/js/boostrapjs")
    <script type="text/javascript">
        $.salt = '978692';
    </script>
    @Scripts.RenderFormat("<script src='{0}' defer></script>", "~/bundles/js/fibrenet")
    @Scripts.RenderFormat("<script src='{0}' defer></script>", "~/bundles/js/typeaheadjs")
    @Scripts.RenderFormat("<script src='{0}' defer></script>", "~/bundles/js/responsivefibrejs")
    @Scripts.Render("~/bundles/js/wbb")

    <style>
        .i-hidden {
            display: none;
        }

        .btnP1, .btnP1:hover, .btnP2 {
            background-color: #8dc63f;
            color: #fff;
        }

            .btnP1:hover {
                cursor: not-allowed;
            }

            .btnP2:hover {
                background-color: #000;
                color: #fff;
            }

        .btnP3, .btnP3:hover {
            color: #fff !important;
        }

        .btnP3 {
            background-color: #ccc;
        }

            .btnP3:hover {
                background-color: #aaa;
                text-decoration: none;
            }

        fieldset {
            border: 2px solid #83ad47;
            -webkit-border-radius: 5px;
            border-radius: 5px;
            -khtml-border-radius: 5px;
            -moz-border-radius: 5px;
        }

        #tbl-popup {
            width: 100%;
        }

        .btnmodal {
            padding: 10px 15px;
            background-color: #58AA0C;
            color: #fff !important;
        }

            .btnmodal:hover {
                padding: 10px 15px;
                background-color: #4a831c;
                color: #fff;
                text-decoration: none;
            }

        .modal-dialog-center {
            margin-top: 10%;
        }

        .btn1 {
            background-color: #8dc63f;
            color: #fff;
        }

            .btn1:hover {
                background-color: #8dc63f;
                color: #fff;
                cursor: not-allowed;
            }

        .btn2 {
            background-color: #8dc63f;
            color: #fff;
        }

            .btn2:hover {
                background-color: black;
                color: #fff;
            }

        .btn3 {
            background-color: #ccc;
            color: #fff !important;
        }

            .btn3:hover {
                background-color: #aaa;
                color: #fff !important;
                text-decoration: none;
            }

        .subheader-th {
            font-size: 34px;
            color: #000000;
            font-family: 'db_helvethaicaais_x55_regular';
            padding-right: 100px;
            background: url(../Content/Content2016/images/postpaid/speedeffect.png) right center no-repeat;
            max-width: 405px;
            margin-top: 30px;
        }

            .subheader-th span {
                color: #8dc63f;
            }

        .subheader-en {
            font-size: 34px;
            color: #000000;
            font-family: 'db_helvethaicaais_x55_regular';
            padding-right: 100px;
            background: url(../Content/Content2016/images/postpaid/speedeffect.png) right center no-repeat;
            max-width: 405px;
            margin-top: 30px;
        }

            .subheader-en span {
                color: #8dc63f;
            }

        #ais_topbar .topbar_ribbon {
            padding-left: 10px;
            float: left;
            height: 60px;
        }

        #ribbonking {
            width: 100%;
            height: 60px;
            background: url("/Images/bg1366.jpg") no-repeat center;
            background-color: #000;
        }

        #ribbonking_wrapper {
            height: 60px;
            margin: 0 auto;
            max-width: 1140px;
        }
    </style>
</head>
<body>
    <div id="ais_topbar">
        @if (Session[WBBWeb.Extension.WebConstants.SessionKeys.CurrentUICulture].ToString() == "1")
        {
            @Html.Partial("_MenuTH")
        }
        else
        {
            @Html.Partial("_MenuEN")
        }
    </div>
    <div id="fibre_container" @if (existingPopupFlag == "Y") { <text> class="hide" </text> }>
        <form id="test" method="post" action="/Process/ProcessLine4">
            <div id="container">
                <!--  Put Content Here เริ่มต้นเนื้อหา  -->
                <div id="box1_holder">
                    <div class="panel_ais paddingmedium">
                        <div class="row_ais">
                            <p class="clearfix"></p>
                            <p class="clearfix"></p>
                            <div class="col-xs-12 col-sm-12 col-md-12" style="max-width: 1500px;">
                                <div class="col-xs-12" style="text-align: right;">
                                    <a id="btnTh" href="~/WBB/ChangeCurrentCulture?culture=2" onclick="sessionStorage.setItem('detectedIE', '');">
                                        <img src="~/Content/Content2016/images/lang_th.png" alt="" border="0" />
                                    </a>
                                    <a id="btnEn" href="~/WBB/ChangeCurrentCulture?culture=1" class="i-hidden" onclick="sessionStorage.setItem('detectedIE', '');">
                                        <img src="~/Content/Content2016/images/lang_en.png" alt="" border="0" />
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="row_ais">
                            <div class="column large-12">
                                <div class="fibrelogo">
                                    <img src="~/Content/images/postpaid/fibre_logo.png" alt="" />
                                </div>
                                <div class="welcometext">@L_MY_ACCOUNT</div>
                            </div>
                        </div>
                        <div class="row_ais">
                            <div class="column large-4">
                                <div id="welcome_msg" class="subheader">@L_WELCOME_1 <span>@L_WELCOME_2</span></div>
                                <div class="detailtext">
                                    @L_WELCOME_3<br>
                                    @L_WELCOME_4<br>
                                    @L_WELCOME_5
                                </div>
                            </div>
                        </div>
                        <div class="boxform pay-topspace">
                            <div class="row_ais">
                                <div class="column large-5 medium-6 small-12" id="col-form">
                                    <div class="labeltext">@L_MY_PERSONAL_INFO</div>
                                    <div class="mobile-number">
                                        <input type="text" class="inputform" id="AisAirNumber" maxlength="10" placeholder="@L_AIS_FIBRE_NO" autocomplete="off" />
                                    </div>
                                    <div class="cardtype">
                                        <select id="ID_CARD_NAMEs" onchange="onChangeID_CARD_NAMEs(this);" data-placeholder-option="true"
                                                class="basic" title="@L_SELECT_ITEM"></select>
                                    </div>
                                    <div class="card-number">
                                        <input type="text" class="inputform" id="L_CARD_NOs" maxlength="30" placeholder="@L_CARD_NUMBER" autocomplete="off" />
                                    </div>
                                </div>
                                <!--div login error-->
                                <div class="col-sm-6 col-md-6 i-hidden" id="col-err">
                                    <h1 style="color: #91908e">@L_LOGIN_FAILED</h1>
                                    <h3 id="lb-failed"></h3>
                                    <br />
                                    <br />
                                    @if (MyAISBypass != "Y")
                                    {
                                    <input id="btnerror" onclick="backForm()" class="btn2 btn btn-for-xs" type="button" style="font-size: 20px; border: 0 !important; border-radius: 0 !important; " value="@B_OK" />
                                    }
                                </div>
                                <!-- end div login error-->
                                <div id="col-ais-err" style="display: none;">
                                    <div class="row_ais">
                                        <div class="column large-5 medium-6 small-12">
                                            <h1 style="color: #91908e">@L_LOGIN_FAILED</h1>
                                            <h3 id="lb-ais-failed"></h3>
                                            <br />
                                            <br />
                                            <br />
                                        </div>
                                    </div>
                                    <div class="row_ais">
                                        <div class="column large-5">
                                            <div class="submit-manual">
                                                <input id="btOK" class="btnP2 btn btn-for-xs" type="button" style="font-size:20px;" onclick="backError()" value="@B_OK" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div id="col-OTP" style="display: none;">
                                    <div class="row_ais">
                                        <div class="labeltext">@L_WATCHLIST_TEXT</div>
                                        <div class="mobile-number">
                                            <input type="text" class="inputform" id="AisMobileNumber" maxlength="10" placeholder="@L_AIS_FIBRE_NO" autocomplete="off" disabled />
                                        </div>
                                        <div class="column large-5 medium-6 small-12">
                                            <div class="labeltext">กรุณาใส่รหัสผ่านที่ได้รับทาง SMS เพื่อเข้าสู่ระบบ รหัสผ่านของคุณมี อายุการใช้งาน 15 นาที</div>
                                            <div class="mobile-number">
                                                <input id="passOTP" class="inputform" type="password" autocomplete="off" maxlength="@Length_PW" placeholder="รหัสผ่าน">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row_ais">
                                        <div class="column large-5">
                                            <div class="submit-manual">
                                                <a id="showPass" style="color: gray; cursor: pointer;" onclick="ShowPW()">@L_SHOW_PW</a>
                                                <span style="font-size: large; color: gray;">|</span> <a style="color: gray; cursor: pointer;" onclick="SentPW()">@L_REQUEST_PW</a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row_ais">
                                        <div class="column large-5">
                                            <div class="submit-manual">

                                                <input id="otpOK1" class="btnP1 btn btn-for-xs" type="button" style="font-size: 20px; border: 0 !important; border-radius: 0 !important;" value="@B_OK" />
                                                <input id="otpOK2" class="btnP2 btn btn-for-xs i-hidden" type="button" style="font-size: 20px; border: 0 !important; border-radius: 0 !important;" onclick="SubmitOTP()" value="@B_OK" />
                                                <input id="otpCancle" class="btnP3 btn btn-for-xs" type="button" style="font-size: 20px; border: 0 !important; border-radius: 0 !important; " onclick="BackOTP()" value="@B_BACK" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row_ais">
                                <div class="column large-5">
                                    <div class="submit-manual" id="div_btn_submit">
                                        <input id="btnhide" class="btn1 btn btn-for-xs" type="button" style="font-size: 20px; border: 0 !important; border-radius: 0 !important; " value="@B_CONTINUE" />
                                        <input id="btnCheckProcess" class="btn2 btn btn-for-xs i-hidden" type="button" style="font-size: 20px; border: 0 !important; border-radius: 0 !important; display: none;" value="@B_CONTINUE" onclick="checkProcess()" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <p class="clearfix"></p>
                    <p class="clearfix"></p>
                </div>
                <div id="box2_holder">
                </div>
                <div id="box3_holder">
                </div>
                <!--  Put Content Here จบเนื้อหา  -->

                <div style="clear: both;"></div>
                <div id="aisfooter">
                    @if (Session[WBBWeb.Extension.WebConstants.SessionKeys.CurrentUICulture].ToString() == "1")
                    {
                        @Html.Partial("_FooterTH")
                    }
                    else
                    {
                        @Html.Partial("_FooterEN")
                    }
                    <div class="footer_content" style="text-align: center;">
                        <script type="text/javascript" src="https://lvs.truehits.in.th/datasecure/s0029135.js"></script>

                        <script src='http://hits.truehits.in.th/data/s0029135.js'></script>
                    </div>
                </div>
                <div class="truehits-bg">&nbsp;</div>
            </div>

            <div>
                <input type="hidden" id="GSSO_transactionID" />
                <input type="hidden" id="LanguagePage" />

                <input type='hidden' name='outPrimaryContactFirstName' id='outPrimaryContactFirstName' />
                <input type='hidden' name='outContactLastName' id='outContactLastName' />
                <input type='hidden' name='outAmphur' id='outAmphur' />
                <input type='hidden' name='outBuildingName' id='outBuildingName' />
                <input type='hidden' name='outFloor' id='outFloor' />
                <input type='hidden' name='outHouseNumber' id='outHouseNumber' />
                <input type='hidden' name='outMoo' id='outMoo' />
                <input type='hidden' name='outMooban' id='outMooban' />
                <input type='hidden' name='outProvince' id='outProvince' />
                <input type='hidden' name='outRoom' id='outRoom' />
                <input type='hidden' name='outSoi' id='outSoi' />
                <input type='hidden' name='outStreetName' id='outStreetName' />
                <input type='hidden' name='outBillLanguage' id='outBillLanguage' />
                <input type='hidden' name='outtumbol' id='outtumbol' />

                <input type='hidden' name='outBirthDate' id='outBirthDate' />
                <input type='hidden' name='outEmail' id='outEmail' />
                <input type='hidden' name='outparameter2' id='outparameter2' />
                <input type='hidden' name='outAccountName' id='outAccountName' />
                <input type='hidden' name='outAccountNumber' id='outAccountNumber' />
                <input type='hidden' name='outServiceAccountNumber' id='outServiceAccountNumber' />
                <input type='hidden' name='outBillingAccountNumber' id='outBillingAccountNumber' />
                <input type='hidden' name='outProductName' id='outProductName' />
                <input type='hidden' name='outDayOfServiceYear' id='outDayOfServiceYear' />
                <input type='hidden' name='outRegisteredDate' id='outRegisteredDate' />
                <input type='hidden' name='no' id='no' />

                <input type='hidden' name='outcardType' id='outcardType' />
                <input type='hidden' name='outAccountSubCategory' id='outAccountSubCategory' />
                <input type='hidden' name='outPostalCode' id='outPostalCode' />
                <input type='hidden' name='IDCardNo' id='IDCardNo' />
                <input type='hidden' name='IDCardType' id='IDCardType' />
                <input type='hidden' name='IDCardTypeENG' id='IDCardTypeENG' />
                <input type='hidden' name='mainProCode' id='mainProCode' />

                @* new *@

                @* AddressPanel *@
                <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSetup.L_HOME_NUMBER_2' id='CustomerRegisterPanelModel_AddressPanelModelSetup_L_HOME_NUMBER_2' />
                <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSetup.L_MOO' id='CustomerRegisterPanelModel_AddressPanelModelSetup_L_MOO' />
                <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSetup.L_MOOBAN' id='CustomerRegisterPanelModel_AddressPanelModelSetup_L_MOOBAN' />
                <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSetup.L_BUILD_NAME' id='CustomerRegisterPanelModel_AddressPanelModelSetup_L_BUILD_NAME' />
                <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSetup.L_FLOOR' id='CustomerRegisterPanelModel_AddressPanelModelSetup_L_FLOOR' />
                <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSetup.L_ROOM' id='CustomerRegisterPanelModel_AddressPanelModelSetup_L_ROOM' />
                <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSetup.L_SOI' id='CustomerRegisterPanelModel_AddressPanelModelSetup_L_SOI' />
                <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSetup.L_ROAD' id='CustomerRegisterPanelModel_AddressPanelModelSetup_L_ROAD' />
                <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSetup.L_TUMBOL' id='CustomerRegisterPanelModel_AddressPanelModelSetup_L_TUMBOL' />
                <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSetup.L_AMPHUR' id='CustomerRegisterPanelModel_AddressPanelModelSetup_L_AMPHUR' />
                <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSetup.L_PROVINCE' id='CustomerRegisterPanelModel_AddressPanelModelSetup_L_PROVINCE' />
                <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSetup.L_ZIPCODE' id='CustomerRegisterPanelModel_AddressPanelModelSetup_L_ZIPCODE' />

                <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_HOME_NUMBER_2' id='CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_HOME_NUMBER_2' />
                <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_MOO' id='CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_MOO' />
                <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_MOOBAN' id='CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_MOOBAN' />
                <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_BUILD_NAME' id='CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_BUILD_NAME' />
                <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_FLOOR' id='CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_FLOOR' />
                <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_ROOM' id='CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_ROOM' />
                <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_SOI' id='CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_SOI' />
                <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_ROAD' id='CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_ROAD' />
                <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_TUMBOL' id='CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_TUMBOL' />
                <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_AMPHUR' id='CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_AMPHUR' />
                <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_PROVINCE' id='CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_PROVINCE' />
                <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelSendDoc.L_ZIPCODE' id='CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_ZIPCODE' />

                <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelVat.L_HOME_NUMBER_2' id='CustomerRegisterPanelModel_AddressPanelModelVat_L_HOME_NUMBER_2' />
                <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelVat.L_MOO' id='CustomerRegisterPanelModel_AddressPanelModelVat_L_MOO' />
                <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelVat.L_MOOBAN' id='CustomerRegisterPanelModel_AddressPanelModelVat_L_MOOBAN' />
                <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelVat.L_BUILD_NAME' id='CustomerRegisterPanelModel_AddressPanelModelVat_L_BUILD_NAME' />
                <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelVat.L_FLOOR' id='CustomerRegisterPanelModel_AddressPanelModelVat_L_FLOOR' />
                <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelVat.L_ROOM' id='CustomerRegisterPanelModel_AddressPanelModelVat_L_ROOM' />
                <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelVat.L_SOI' id='CustomerRegisterPanelModel_AddressPanelModelVat_L_SOI' />
                <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelVat.L_ROAD' id='CustomerRegisterPanelModel_AddressPanelModelVat_L_ROAD' />
                <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelVat.L_TUMBOL' id='CustomerRegisterPanelModel_AddressPanelModelVat_L_TUMBOL' />
                <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelVat.L_AMPHUR' id='CustomerRegisterPanelModel_AddressPanelModelVat_L_AMPHUR' />
                <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelVat.L_PROVINCE' id='CustomerRegisterPanelModel_AddressPanelModelVat_L_PROVINCE' />
                <input type='hidden' name='CustomerRegisterPanelModel.AddressPanelModelVat.L_ZIPCODE' id='CustomerRegisterPanelModel_AddressPanelModelVat_L_ZIPCODE' />

                @* New AddressPanel 15.7*@
                <input type='hidden' name='CustomerRegisterPanelModel.installAddress1' id='CustomerRegisterPanelModel_installAddress1' />
                <input type='hidden' name='CustomerRegisterPanelModel.installAddress2' id='CustomerRegisterPanelModel_installAddress2' />
                <input type='hidden' name='CustomerRegisterPanelModel.installAddress3' id='CustomerRegisterPanelModel_installAddress3' />
                <input type='hidden' name='CustomerRegisterPanelModel.installAddress4' id='CustomerRegisterPanelModel_installAddress4' />
                <input type='hidden' name='CustomerRegisterPanelModel.installAddress5' id='CustomerRegisterPanelModel_installAddress5' />
                <input type='hidden' name='CustomerRegisterPanelModel.pbox_count' id='CustomerRegisterPanelModel_pbox_count' />

                @* New VAT AddressPanel 15.7*@
                <input type='hidden' name='CustomerRegisterPanelModel.vatAddress1' id='CustomerRegisterPanelModel_vatAddress1' />
                <input type='hidden' name='CustomerRegisterPanelModel.vatAddress2' id='CustomerRegisterPanelModel_vatAddress2' />
                <input type='hidden' name='CustomerRegisterPanelModel.vatAddress3' id='CustomerRegisterPanelModel_vatAddress3' />
                <input type='hidden' name='CustomerRegisterPanelModel.vatAddress4' id='CustomerRegisterPanelModel_vatAddress4' />
                <input type='hidden' name='CustomerRegisterPanelModel.vatAddress5' id='CustomerRegisterPanelModel_vatAddress5' />
                <input type='hidden' name='CustomerRegisterPanelModel.vatAddressFull' id='CustomerRegisterPanelModel_vatAddressFull' />
                <input type='hidden' name='CustomerRegisterPanelModel.vatPostalCd' id='CustomerRegisterPanelModel_vatPostalCd' />

                @* user detail *@
                <input type='hidden' name='CustomerRegisterPanelModel.L_FIRST_NAME' id='CustomerRegisterPanelModel_L_FIRST_NAME' />
                <input type='hidden' name='CustomerRegisterPanelModel.L_LAST_NAME' id='CustomerRegisterPanelModel_L_LAST_NAME' />
                <input type='hidden' name='CustomerRegisterPanelModel.L_GOVERNMENT_NAME' id='CustomerRegisterPanelModel_L_GOVERNMENT_NAME' />
                <input type='hidden' name='CustomerRegisterPanelModel.L_CONTACT_PERSON' id='CustomerRegisterPanelModel_L_CONTACT_PERSON' />
                <input type='hidden' name='CustomerRegisterPanelModel.SubCateType' id='CustomerRegisterPanelModel_SubCateType' />
                <input type='hidden' name='CustomerRegisterPanelModel.L_CONTACT_PHONE' id='CustomerRegisterPanelModel_L_CONTACT_PHONE' />
                <input type='hidden' name='CustomerRegisterPanelModel.L_BIRTHDAY' id='CustomerRegisterPanelModel_L_BIRTHDAY' />
                <input type='hidden' name='CustomerRegisterPanelModel.L_EMAIL' id='CustomerRegisterPanelModel_L_EMAIL' />
                <input type='hidden' name='CustomerRegisterPanelModel.L_TITLE' id='CustomerRegisterPanelModel_L_TITLE' />

                @* other *@
                <input type='hidden' name='CoveragePanelModel.CA_ID' id='CoveragePanelModel_CA_ID' />
                <input type='hidden' name='CoveragePanelModel.BA_ID' id='CoveragePanelModel_BA_ID' />
                <input type='hidden' name='CoveragePanelModel.SA_ID' id='CoveragePanelModel_SA_ID' />
                <input type='hidden' name='CoveragePanelModel.P_MOBILE' id='CoveragePanelModel_P_MOBILE' />
                <input type='hidden' name='CoveragePanelModel.SffProductName' id='CoveragePanelModel_SffProductName' />
                <input type='hidden' name='CoveragePanelModel.SffServiceYear' id='CoveragePanelModel_SffServiceYear' />
                <input type='hidden' name='CustomerRegisterPanelModel.L_CARD_TYPE' id='CustomerRegisterPanelModel_L_CARD_TYPE' />
                <input type='hidden' name='CustomerRegisterPanelModel.L_CARD_NO' id='CustomerRegisterPanelModel_L_CARD_NO' />
                <input type='hidden' name='CustomerRegisterPanelModel.CateType' id='CustomerRegisterPanelModel_CateType' />
                <input type="hidden" name="SffProfileLogID" id="SffProfileLogID" />
                <input type="hidden" name="TopUp" id="TopUp" />

                @* 17.11 *@
                <input type='hidden' name='ExistingFlag' id='ExistingFlag' />

                @* New Value 15.7*@
                <input type='hidden' name='CustomerRegisterPanelModel.v_installAddress' id='CustomerRegisterPanelModel_v_installAddress' />
                <input type='hidden' name='CustomerRegisterPanelModel.outFullAddress' id='CustomerRegisterPanelModel_outFullAddress' />

                <input type="hidden" name="v_number_of_pb" id="v_number_of_pb" />
                <input type="hidden" name="v_sff_main_promotionCD" id="v_sff_main_promotionCD" />
                <input type="hidden" name="v_owner_product" id="v_owner_product" />
                <input type="hidden" name="L_NUMBER_OF_PLAYBOX" id="L_NUMBER_OF_PLAYBOX" />
                <input type="hidden" name="v_PackageCode" id="v_PackageCode" />
                <input type="hidden" name="PruductCD_Content" id="PruductCD_Content" />
                @* 18.10 *@
                <input type="hidden" name="v_package_subtype" id="v_package_subtype" />

                <div id="hndPackagePromotion" class="hidden"></div>
            </div>
        </form>

        <table class="i-hidden" id="tempV2" border="1" bordercolor="red"></table>

        <div class="modal fade" id="myModal">
            <div class="modal-dialog modal-dialog-center">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" onclick="Reload();" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    </div>
                    <div class="modal-body">
                        <div id="LastPopupMessage" style="text-align: center;"></div>
                    </div>
                    <div class="modal-footer">
                        <a href="#" class="btnmodal" onclick="Reload();">@lclose</a>
                    </div>
                </div>
                <!-- /.modal-content -->
            </div>
            <!-- /.modal-dialog -->
        </div>

        <div id="ProgressIcon" class="modal fade">
            <div class="vertical-alignment-helper">
                <div class="modal-dialog vertical-align-center">
                    <div class="text-center" style="color: white;">
                        <div>
                            <i class="fa fa-spinner fa-spin fa-6" style="position: inherit;"></i>
                        </div>
                        <div id="txtLoading" style="text-align: center;">
                            LOADING
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
            $(document).ready(function () {
                $("#col-err").hide();

                ais_interface_setup('mini-menu', 'postpaid', 'th', '', false);

                var valExistsFlag = "@existingFlag";
                if (valExistsFlag != "") {
                    $("#ExistingFlag").val(valExistsFlag);
                }
                 // 25.05.2023 deeflink
                if ("@FlagPB" == "FailPlaybox") {
                    $("#col-OTP").hide();
                    $("#col-form").hide();
                    $("#div_btn_submit").hide();
                    $("#col-err").show();
                    $("#lb-failed").html("@L_NEW_CUST_NOT_FOUND2");
                }
                //
                else if ('@PageShow' == 'LoginFail') {
                    $("#col-OTP").hide();
                    $("#col-form").hide();
                    $("#div_btn_submit").hide();
                    $("#col-err").show();
                    if ("@Flag3BB" == "3BB") {
                        $("#lb-failed").html("@Existing_Check_3BB_MSG.");
                    }
                    else if("@FlagAccessType" == "AccessTypeFail") {
                        $("#lb-failed").html("@Existing_AccessType_MSG.");
                    }
                    else {
                        $("#lb-failed").html("@L_NEW_CUST_NOT_FOUND.");
                    }
                    LockScreen(false);
                }

            });
            ///////////// begin popup ////////////
            var success = '@isSaveCommplete';
            var swifi = '@productSubType';
            var language_ = '@languagePage';

            if (success == 'True') {

                var valExistingFlag = "@ViewBag.ExistingFlag";
                if ((valExistingFlag == "INTERNET") || (valExistingFlag == "INTERNET:MENU")) {
                    PopupMessageInternet();
                } else {
                    PopupMessagePlayBox();
                }

                $('#myModal').modal('show');
                //showjpopup('580px', '250px');
            }

            function DownloadPDF() {

                window.location.href = "/Process/download";
                setTimeout(function () { Reload(); }, 3000);
            }

            function Reload() {
                var valExistingFlag = "@ViewBag.ExistingFlag";
                if ((valExistingFlag == "INTERNET") || (valExistingFlag == "INTERNET:MENU")) {
                    window.location.href = "/Process/TopupInternet";
                } else {
                    window.location.href = "/Process/TopupPlaybox";
                }
            }

            function ClosePopupReload() {
                if (success == 'True') {
                    Reload();
                }
            }

            function showjpopup(width_, height_) {
                $('#basic-modal-content').modal('show');
                $('#basic-modal-content').css('display', 'block');

                var div1 = $('#simplemodal-container');
                if (width_ != null) { div1.css('width', width_); }
                if (height_ != null) { div1.css('height', height_); }

                div1.css('margin-left', '10%');

                return false;
        }

        function LockScreen(x, txt) {
            if (x) {
                $('#txtLoading').html(txt);
                $('#ProgressIcon').modal({
                    backdrop: "static",
                    keyboard: true,
                    show: true
                });
            }
            else {
                $('#ProgressIcon').modal('hide');
            }
        }

            function PopupMessagePlayBox() {
                //GetLastPopupMessage

                var ProSubType = "";
                if (swifi == "fail") {
                    if ("@dup" == "Y") {
                        var error = "@Html.Raw(L_ONTOP_PLAYBOX_DUP)";
                        var replacee = "@NamePackageFail";
                        var word = "";
                        if (replacee != "")
                            word = " " + replacee + " ";
                        else
                            word = replacee;
                        error = error.replace("{0}", word);
                        var strBuilder = "<h3>" + error + "</h3>";
                        $('#LastPopupMessage').html(strBuilder);
                    }
                    else if ("@NamePackageFail" == "old") {
                        var error = "@Html.Raw(L_ONTOP_PLAYBOX_OLD_LAUNCHER)";
                        error = error.replace("{0}", "");
                        var strBuilder = "<h3>" + error + "</h3>";
                        $('#LastPopupMessage').html(strBuilder);
                    }
                    else {
                        var error = "@Html.Raw(L_ONTOP_PLAYBOX_FAIL)";
                        var replacee = "@NamePackageFail";
                        var word = "";
                        if (replacee != "")
                            word = " " + replacee + " ";
                        else
                            word = replacee;
                        error = error.replace("{0}", word);
                        var strBuilder = "<h3>" + error + "</h3>";
                        $('#LastPopupMessage').html(strBuilder);
                    }
            }
            else {
                var strBuilder = "<h3>" + "@L_ONTOP_PLAYBOX_SUCCESS" + "</h3>";
                    $('#LastPopupMessage').html(strBuilder);
                }
            }

            function PopupMessageInternet() {
                //GetLastPopupMessage

                var ProSubType = "";
                if (swifi == "fail") {
                    if ("@dup" == "Y") {
                        var error = "@Html.Raw(L_ONTOP_INTERNET_DUP)";
                        var replacee = "@NamePackageFail";
                        var word = "";
                        if (replacee != "")
                            word = " " + replacee + " ";
                        else
                            word = replacee;
                        error = error.replace("{0}", word);
                        var strBuilder = "<h3>" + error + "</h3>";
                        $('#LastPopupMessage').html(strBuilder);
                    }
                    else if ("@NamePackageFail" == "old") {
                        var error = "@Html.Raw(L_ONTOP_INTERNET_OLD_LAUNCHER)";
                        error = error.replace("{0}", "");
                        var strBuilder = "<h3>" + error + "</h3>";
                        $('#LastPopupMessage').html(strBuilder);
                    }
                    else {
                        var error = "@Html.Raw(L_ONTOP_INTERNET_FAIL)";
                        var replacee = "@NamePackageFail";
                        var word = "";
                        if (replacee != "")
                            word = " " + replacee + " ";
                        else
                            word = replacee;
                        error = error.replace("{0}", word);
                        var strBuilder = "<h3>" + error + "</h3>";
                        $('#LastPopupMessage').html(strBuilder);
                    }
            }
            else {
                var strBuilder = "<h3>" + "@L_ONTOP_INTERNET_SUCCESS" + "</h3>";
                    $('#LastPopupMessage').html(strBuilder);
                }
            }

            /////////// end popup ////////////

            $(function () {

                if ("@ViewBag.Vas" == "") {
                    $("#btnBack").hide();
                    $("#TopUp").val("4");
                }
                // 25.05.2023 deeflink
                //$("#lb-failed").html("");


                $.post('/WBB/GetCurrentCulture').done(function (x) {
                    $("#LanguagePage").val(x);
                    changeLanguage();

                    var language = "";
                    if (x == 1)
                        language = "th";
                    else
                        language = "en";
                });

                getCustomerCardTypes();

                $("#AisAirNumber").keyup(function () {
                    CheckKeyUps("AisAirNumber", "[0-9]");
                    checkBeforeProcess();
                });

                $("#L_CARD_NOs").keyup(function () {
                    if ($("#ID_CARD_NAMEs :selected").val() == "TAX_ID")
                        CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_TAX_ID");
                    else if ($("#ID_CARD_NAMEs :selected").val() == "MONK_CERT")
                        CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_MONK_CERT");
                    else if ($("#ID_CARD_NAMEs :selected").val() == "GOV_LET")
                        CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_GOV_LET");
                    else if ($("#ID_CARD_NAMEs :selected").val() == "PASSPORT")
                        CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_PASSPORT");
                    else if ($("#ID_CARD_NAMEs :selected").val() == "EMB_LET")
                        CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_EMB_LET");
                    else if ($("#ID_CARD_NAMEs :selected").val() == "IMM_CARD")
                        CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_IMM_CARD");
                    else if ($("#ID_CARD_NAMEs :selected").val() == "STA_LET")
                        CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_STA_LET");
                    else if ($("#ID_CARD_NAMEs :selected").val() == "HILL_CARD")
                        CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_HILL_CARD");
                    else if ($("#ID_CARD_NAMEs :selected").val() == "CERT_FOUND")
                        CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_CERT_FOUND");
                    else if ($("#ID_CARD_NAMEs :selected").val() == "ID_CARD")
                        CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_ID_CARD");
                    else if ($("#ID_CARD_NAMEs :selected").val() == "ROY_LET")
                        CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_ROY_LET");

                    checkBeforeProcess();
                });

                setCardMaxlength();

                $("#passOTP").keyup(function () {
                    CheckKeyUps("passOTP", "@Input_PW");
                    if ($("#passOTP").val().length == "@Length_PW") {
                        $("#otpOK1").hide();
                        $("#otpOK2").show();
                    }
                    else {
                        $("#otpOK1").show();
                        $("#otpOK2").hide();
                    }
                });
            });

            function checkBeforeProcess() {
                var ml = "";
                if ($("#ID_CARD_NAMEs :selected").val() == "TAX_ID")
                    ml = "@FBB_Con_Length_ID_Card_Number_TAX_ID";
                else if ($("#ID_CARD_NAMEs :selected").val() == "MONK_CERT")
                    ml = "@FBB_Con_LengthIDCardNumberMONK_CERT";
                else if ($("#ID_CARD_NAMEs :selected").val() == "GOV_LET")
                    ml = "@FBB_Con_Length_ID_Card_Number_GOV_LET";
                else if ($("#ID_CARD_NAMEs :selected").val() == "PASSPORT")
                    ml = "@FBB_Con_Length_ID_Card_Number_PASSPORT";
                else if ($("#ID_CARD_NAMEs :selected").val() == "EMB_LET")
                    ml = "@FBB_Con_Length_ID_Card_Number_EMB_LET";
                else if ($("#ID_CARD_NAMEs :selected").val() == "IMM_CARD")
                    ml = "@FBB_Con_LengthIDCardNumberIMM_CARD";
                else if ($("#ID_CARD_NAMEs :selected").val() == "STA_LET")
                    ml = "@FBB_Con_Length_ID_Card_Number_STA_LET";
                else if ($("#ID_CARD_NAMEs :selected").val() == "HILL_CARD")
                    ml = "@FBB_Con_LengthIDCardNumberHILL_CARD";
                else if ($("#ID_CARD_NAMEs :selected").val() == "CERT_FOUND")
                    ml = "@FBB_Con_Length_ID_Card_Number_CERT_FOUND";
                else if ($("#ID_CARD_NAMEs :selected").val() == "ID_CARD")
                    ml = "@FBB_Con_LengthIDCardNumberID_CARD";
                else if ($("#ID_CARD_NAMEs :selected").val() == "ROY_LET")
                    ml = "@FBB_Con_Length_ID_Card_Number_ROY_LET";

                if ((($("#L_CARD_NOs").val() != "" && $("#ID_CARD_NAMEs :selected").val() != "ID_CARD")
                    || ($("#L_CARD_NOs").val().length == ml && $("#ID_CARD_NAMEs :selected").val() == "ID_CARD"))
                    && $("#AisAirNumber").val().length == 10) {
                    $(".btn1").hide();
                    $(".btn2").show();
                }
                else {
                    $(".btn2").hide();
                    $(".btn1").show();
                }
            }

            function backForm() {
                $("#col-form").show();
                $("#div_btn_submit").show();
                $("#col-err").hide();
                $("#btnCheckProcess").show();
                $("#btnhide").hide();
            }

            function changeLanguage() {
                if ($("#LanguagePage").val() == "1") {
                    $("#btnTh").show();
                    $("#btnEn").hide();

                    $(".display-th").show();
                    $(".display-en").hide();
                    $("#welcome_msg").removeClass('subheader').addClass('subheader-th');
                }
                else {
                    $("#btnTh").hide();
                    $("#btnEn").show();

                    $(".display-th").hide();
                    $(".display-en").show();
                    $("#welcome_msg").removeClass('subheader').addClass('subheader-en');
                }
            }

            function setCardMaxlength() {
                if ($("#ID_CARD_NAMEs :selected").val() == "TAX_ID")
                    $("#L_CARD_NOs").attr("maxlength", "@FBB_Con_Length_ID_Card_Number_TAX_ID");
                else if ($("#ID_CARD_NAMEs :selected").val() == "MONK_CERT")
                    $("#L_CARD_NOs").attr("maxlength", "@FBB_Con_LengthIDCardNumberMONK_CERT");
                else if ($("#ID_CARD_NAMEs :selected").val() == "GOV_LET")
                    $("#L_CARD_NOs").attr("maxlength", "@FBB_Con_Length_ID_Card_Number_GOV_LET");
                else if ($("#ID_CARD_NAMEs :selected").val() == "PASSPORT")
                    $("#L_CARD_NOs").attr("maxlength", "@FBB_Con_Length_ID_Card_Number_PASSPORT");
                else if ($("#ID_CARD_NAMEs :selected").val() == "EMB_LET")
                    $("#L_CARD_NOs").attr("maxlength", "@FBB_Con_Length_ID_Card_Number_EMB_LET");
                else if ($("#ID_CARD_NAMEs :selected").val() == "IMM_CARD")
                    $("#L_CARD_NOs").attr("maxlength", "@FBB_Con_LengthIDCardNumberIMM_CARD");
                else if ($("#ID_CARD_NAMEs :selected").val() == "STA_LET")
                    $("#L_CARD_NOs").attr("maxlength", "@FBB_Con_Length_ID_Card_Number_STA_LET");
                else if ($("#ID_CARD_NAMEs :selected").val() == "HILL_CARD")
                    $("#L_CARD_NOs").attr("maxlength", "@FBB_Con_LengthIDCardNumberHILL_CARD");
                else if ($("#ID_CARD_NAMEs :selected").val() == "CERT_FOUND")
                    $("#L_CARD_NOs").attr("maxlength", "@FBB_Con_Length_ID_Card_Number_CERT_FOUND");
                else if ($("#ID_CARD_NAMEs :selected").val() == "ID_CARD")
                    $("#L_CARD_NOs").attr("maxlength", "@FBB_Con_LengthIDCardNumberID_CARD");
                else if ($("#ID_CARD_NAMEs :selected").val() == "ROY_LET")
                    $("#L_CARD_NOs").attr("maxlength", "@FBB_Con_Length_ID_Card_Number_ROY_LET");
            }

            function onChangeID_CARD_NAMEs(idCardName) {
                $("#L_CARD_NOs").val("");
                $(".btn2").hide();
                $(".btn1").show();
                $.ajax({
                    type: "GET",
                    url: "/CustomerRegister/GetCustomerSubCat",
                    data: { 'idCardName': idCardName.value },
                    dataType: "json",
                    async: false,
                    success: function (data) {
                    },
                });

                setCardMaxlength();
            }

            function CheckKeyUps(id, RexStr) {
                var strKey = $("#" + id).val();
                var strBuilder = "";
                var filter = new RegExp(RexStr);
                for (var i = 0; i < strKey.length; i++) {
                    if (filter.test(strKey.substr(i, 1))) {
                        strBuilder += strKey.substr(i, 1);
                    }
                }
                $("#" + id).val(strBuilder);
            }

            function getCustomerCardTypes() {
                $('#ID_CARD_NAMEs').empty();

                //GetCustomerCardType
                $.ajax({
                    type: "GET",
                    url: "/MasterData/GetCustomerCardType",
                    data: { 'customerType': "All" },
                    dataType: "json",
                    async: false,
                    success: function (data) {
                        var strBuilder = "";
                        var flagSelect = false;
                        var firstStr = "<option value='' disabled>" + "@lCARD_TYPE" + "</option>";
                        $.each(data, function (i, e) {
                            if (e.DefaultValue != undefined)
                                strBuilder += '<option value="' + e.Value + '" selected>' + e.Text + '</option>';
                            else
                                strBuilder += '<option value="' + e.Value + '">' + e.Text + '</option>';
                        });
                        strBuilder = firstStr + strBuilder;

                        $('#ID_CARD_NAMEs').append(strBuilder);
                        $("#ID_CARD_NAMEs").selectOrDie();
                    }
                });
            }

            function checkProcess() {
                LockScreen(true, "");
                sessionStorage.setItem("AisAirNumber", null);
                sessionStorage.setItem("vas_flag", "4");
                $("#v_icon_fl").val("");
                $("#v_icon_pb").val("");
                $("#v_add_playbox").val("");
                $("#lb-failed").html("");
                var twoMobileNo = $("#AisAirNumber").val().substr(0, 2);
                var threeMobileNo = $("#AisAirNumber").val().substr(0, 3);
                if ("@Existing_Check_3BB_Flag" == "Y") {
                    if (threeMobileNo == "@Existing_Check_Prefix_3BB") {
                    LockScreen(false);
                    $("#col-OTP").hide();
                    $("#col-form").hide();
                    $("#div_btn_submit").hide();
                    $("#col-err").show();
                    $("#lb-failed").html("@Existing_Check_3BB_MSG.");
                    }
                    else if (twoMobileNo == "88") {

                    if (watchinglist($("#AisAirNumber").val())) {
                        LockScreen(false);
                        $('#passOTP').val("");
                        $.ajax({
                            url: '/Process/GetContractMobileNo',
                            data: {
                                mobileNo: $("#AisAirNumber").val(),
                                cardNo: $.trim($("#L_CARD_NOs").val()),
                                cardType: $("#ID_CARD_NAMEs").val()
                            },
                            dataType: "json",
                            type: 'POST',
                            async: false,
                            success: function (response) {

                                if (response) {
                                    $("#AisMobileNumber").val(response.data);

                                    $.ajax({
                                        url: '/Process/WatchListSendOneTimePW',
                                        data: { accountType: "all" },
                                        dataType: "json",
                                        type: 'POST',
                                        async: false,
                                        success: function (data3) {
                                            if (data3.code == "000") {
                                                $('#GSSO_transactionID').val(data3.transactionID);

                                                $('#col-form').hide();
                                                $('#btnCheckProcess').hide();
                                                $('#btnhide').hide();
                                                $('#col-OTP').show();
                                                $("#otpOK1").show();
                                                $("#otpOK2").hide();
                                                $("#otpCancle").show();
                                            }
                                            else {
                                                $.ajax({
                                                    url: '/Process/getErrorCodeOTP',
                                                    data: { Error_Code: data3.code, Mobile_No: $("#AisAirNumber").val() },
                                                    dataType: "text",
                                                    type: 'POST',
                                                    async: false,
                                                    success: function (data4) {
                                                        if (data4 != null && data4 != "") {
                                                            $('#col-form').hide();
                                                            $('#col-OTP').hide();
                                                            $('#lb-ais-failed').html(data4);
                                                            $('#col-ais-err').show();
                                                            $('#btnCheckProcess').hide();
                                                            $('#btnhide').hide();
                                                        } else {
                                                            $('#col-form').hide();
                                                            $('#col-OTP').hide();
                                                            $('#lb-ais-failed').html('@L_ERR_NOT_FOUND');
                                                            $('#col-ais-err').show();
                                                            $('#btnCheckProcess').hide();
                                                            $('#btnhide').hide();
                                                        }
                                                    }
                                                });
                                            }
                                        }
                                    });
                                }
                            }
                        });

                        return false;
                    }

                    checkProcessHandler();
                }
                    else if (threeMobileNo == "007") {
                    LockScreen(false);
                    $("#col-OTP").hide();
                    $("#col-form").hide();
                    $("#div_btn_submit").hide();
                    $("#col-err").show();
                    $("#lb-failed").html("@L_NEW_CUST_NOT_FOUND11.");
                    }
                    else {
                    LockScreen(false);
                    $("#col-OTP").hide();
                    $("#col-form").hide();
                    $("#div_btn_submit").hide();
                    $("#col-err").show();
                    $("#lb-failed").html("@L_NEW_CUST_NOT_FOUND2");
                    }
                }
                else {
                    if (twoMobileNo == "88") {

                    if (watchinglist($("#AisAirNumber").val())) {
                        LockScreen(false);
                        $('#passOTP').val("");
                        $.ajax({
                            url: '/Process/GetContractMobileNo',
                            data: {
                                mobileNo: $("#AisAirNumber").val(),
                                cardNo: $.trim($("#L_CARD_NOs").val()),
                                cardType: $("#ID_CARD_NAMEs").val()
                            },
                            dataType: "json",
                            type: 'POST',
                            async: false,
                            success: function (response) {

                                if (response) {
                                    $("#AisMobileNumber").val(response.data);

                                    $.ajax({
                                        url: '/Process/WatchListSendOneTimePW',
                                        data: { accountType: "all" },
                                        dataType: "json",
                                        type: 'POST',
                                        async: false,
                                        success: function (data3) {
                                            if (data3.code == "000") {
                                                $('#GSSO_transactionID').val(data3.transactionID);

                                                $('#col-form').hide();
                                                $('#btnCheckProcess').hide();
                                                $('#btnhide').hide();
                                                $('#col-OTP').show();
                                                $("#otpOK1").show();
                                                $("#otpOK2").hide();
                                                $("#otpCancle").show();
                                            }
                                            else {
                                                $.ajax({
                                                    url: '/Process/getErrorCodeOTP',
                                                    data: { Error_Code: data3.code, Mobile_No: $("#AisAirNumber").val() },
                                                    dataType: "text",
                                                    type: 'POST',
                                                    async: false,
                                                    success: function (data4) {
                                                        if (data4 != null && data4 != "") {
                                                            $('#col-form').hide();
                                                            $('#col-OTP').hide();
                                                            $('#lb-ais-failed').html(data4);
                                                            $('#col-ais-err').show();
                                                            $('#btnCheckProcess').hide();
                                                            $('#btnhide').hide();
                                                        } else {
                                                            $('#col-form').hide();
                                                            $('#col-OTP').hide();
                                                            $('#lb-ais-failed').html('@L_ERR_NOT_FOUND');
                                                            $('#col-ais-err').show();
                                                            $('#btnCheckProcess').hide();
                                                            $('#btnhide').hide();
                                                        }
                                                    }
                                                });
                                            }
                                        }
                                    });
                                }
                            }
                        });

                        return false;
                    }

                    checkProcessHandler();
                }
                else if (threeMobileNo == "007") {
                    LockScreen(false);
                    $("#col-OTP").hide();
                    $("#col-form").hide();
                    $("#div_btn_submit").hide();
                    $("#col-err").show();
                    $("#lb-failed").html("@L_NEW_CUST_NOT_FOUND11.");
                }
                else {
                    LockScreen(false);
                    $("#col-OTP").hide();
                    $("#col-form").hide();
                    $("#div_btn_submit").hide();
                    $("#col-err").show();
                    $("#lb-failed").html("@L_NEW_CUST_NOT_FOUND2");
                }
                }
            }

            function getPackageV2(ownerProduct, packageCode, sffProductName, sffServiceYear) {
                var count_PBOX = 0;
                $.ajax({
                    type: "GET",
                    url: "/SelectPackage/GetListPackageService",
                    data: {
                        "P_OWNER_PRODUCT": $("#v_owner_product").val(),
                        "P_PRODUCT_SUBTYPE": $("#v_package_subtype").val(), //"VAS",
                        "P_NETWORK_TYPE": sffProductName,
                        "P_SERVICE_DAY": sffServiceYear,
                        "line": "@ViewBag.Vas",
                        "P_PACKAGE_FOR": "PUBLIC",
                        "P_PACKAGE_CODE": packageCode,
                        "no": $("#AisAirNumber").val(),
                        "topUp": $("#TopUp").val(),
                        "P_SFF_PROMOCODE": $("#v_sff_main_promotionCD").val(),
                        "p_Plug_And_Play_Flag": "", //Add New Parameter for Plug and Play //Added by PatthamawadeeH. 28122016
                        "AisAirNumber": sessionStorage.getItem("AisAirNumber")
                    },
                    dataType: "json",
                    async: false,
                    success: function (data) {

                        if (data.length == 0) {
                            $("#col-form").hide();
                            $("#col-OTP").hide();
                            $("#div_btn_submit").hide();
                            $("#col-err").show();
                            $("#lb-failed").html("@L_NEW_CUST_NOT_FOUND2");
                        }
                        else {
                            var tempV2 = "";
                            $("#tempV2").empty();
                            $.each(data, function (i, e) {

                                if (e.PRODUCT_SUBTYPE == "PBOX") {
                                    count_PBOX++;
                                    tempV2 += appendingV2(i, e);
                                }
                                else {
                                    (e.PRODUCT_SUBTYPE == "VOIP" || e.PRODUCT_SUBTYPE == "VAS")
                                    tempV2 += appendingV2(i, e);
                                }
                            });
                            if ($("#TopUp").val() == "1" && count_PBOX == 0) {
                                tempV2 = "";

                            }
                            $("#tempV2").append(tempV2);

                            if ($('#tempV2 tr').length > 0) {
                                $("#test").submit();
                            }
                            else {
                                $("#col-form").hide();
                                $("#col-OTP").hide();
                                $("#div_btn_submit").hide();
                                $("#col-err").show();
                                $("#lb-failed").html("@L_NEW_CUST_NOT_FOUND2");
                            }
                        }
                    }
                });
            }

            function getPackageV3(ownerProduct, packageCode, sffProductName, sffServiceYear) {
                var count_PBOX = 0;
                $.ajax({
                    type: "GET",
                    url: "/SelectPackage/GetListPackagebySFFPromo",
                    data: {
                        "P_OWNER_PRODUCT": $("#v_owner_product").val(),
                        "P_PRODUCT_SUBTYPE": $("#v_package_subtype").val(), //"VAS",
                        "P_NETWORK_TYPE": sffProductName,
                        "P_SERVICE_DAY": sffServiceYear,
                        "line": "@ViewBag.Vas",
                            "P_PACKAGE_FOR": "PUBLIC",
                            "P_PACKAGE_CODE": packageCode,
                            "no": $("#AisAirNumber").val(),
                            "topUp": $("#TopUp").val(),
                            "P_SFF_PROMOCODE": $("#v_sff_main_promotionCD").val(),
                            "AisAirNumber": sessionStorage.getItem("AisAirNumber")
                        },
                        dataType: "json",
                        async: false,
                        success: function (data) {
                            if (data.length == 0) {
                                $("#col-form").hide();
                                $("#col-OTP").hide();
                                $("#div_btn_submit").hide();
                                $("#col-err").show();
                                $("#lb-failed").html("@L_NEW_CUST_NOT_FOUND2");
                            }
                            else {
                                var tempV2 = "";
                                $("#tempV2").empty();
                                //var isPackSpeedboost = false;
                                var valExistingFlag = "@ViewBag.ExistingFlag";
                                if ((valExistingFlag == "PLAYBOX") || (valExistingFlag == "PLAYBOX:MENU")) {
                                    var resultContent = false;
                                    $.ajax({
                                        type: "GET",
                                        url: "/MasterData/GetLovListJson",
                                        data: {
                                            "type": "FBB_CONSTANT",
                                            "name": "PRODUCT_CD"
                                        },
                                        dataType: "json",
                                        async: false,
                                        success: function (dataLov) {
                                            if (dataLov != null) {
                                                $.each(data, function (i, rowContent) {
                                                    if (!resultContent) {
                                                        if (rowContent.PRODUCT_SUBTYPE3.indexOf("TOPUP") != -1) {
                                                            $.each(dataLov, function (j, rowLov) {
                                                                if (rowLov.Text == rowContent.PRODUCT_SUBTYPE3) {
                                                                    resultContent = true;
                                                                }
                                                            });
                                                        }
                                                    }
                                                    if (rowContent.PRODUCT_SUBTYPE == "PBOX") {
                                                        count_PBOX++;
                                                        tempV2 += appendingV2(i, rowContent);
                                                    } else {
                                                        (rowContent.PRODUCT_SUBTYPE == "VOIP" || rowContent.PRODUCT_SUBTYPE == "VAS")
                                                        tempV2 += appendingV2(i, rowContent);
                                                    }
                                                });
                                            }
                                        }
                                    });
                                    if (!resultContent) {
                                        $("#col-form").hide();
                                        $("#col-OTP").hide();
                                        $("#div_btn_submit").hide();
                                        $("#col-err").show();
                                        $("#lb-failed").html("@L_NEW_CUST_NOT_FOUND2");
                                        return;
                                    }
                                }
                                else {
                                    $.each(data, function (i, e) {


                                        if (e.PRODUCT_SUBTYPE == "PBOX") {
                                            count_PBOX++;
                                            tempV2 += appendingV2(i, e);
                                        }
                                        else {
                                            (e.PRODUCT_SUBTYPE == "VOIP" || e.PRODUCT_SUBTYPE == "VAS")
                                            tempV2 += appendingV2(i, e);
                                        }
                                    });
                                }

                                if ($("#TopUp").val() == "1" && count_PBOX == 0) {
                                    tempV2 = "";
                                }
                                $("#tempV2").append(tempV2);

                                if ($('#tempV2 tr').length > 0) {
                                    $("#test").submit();
                                }
                                else {
                                    $("#col-form").hide();
                                    $("#col-OTP").hide();
                                    $("#div_btn_submit").hide();
                                    $("#col-err").show();
                                    $("#lb-failed").html("@L_NEW_CUST_NOT_FOUND2");
                                }

                            }
                        }
                    });
                }

        function getListServiceAnsPromotionByPackType() {
                    var result = false;
                    $.ajax({
                        type: "POST",
                        url: "/SelectPackage/GetListServiceAndPromotionByPackType",
                        data: {
                            "mobileNo": $.trim($("#AisAirNumber").val()),
                            "idCard": $.trim($("#L_CARD_NOs").val()),
                            "idCardType": $("#ID_CARD_NAMEs").val()
                        },
                        dataType: "json",
                        async: false,
                        success: function (data) {

                            if ($.trim(data.ErrorMessage) != "" || data.resultFlag == "N" || data.ErrorMessage == undefined) {
                                LockScreen(false);
                                $("#col-form").hide();
                                $("#col-OTP").hide();
                                $("#div_btn_submit").hide();
                                $("#col-err").show();
                                $("#lb-failed").html("@L_NEW_CUST_NOT_FOUND");
                                result = false;
                            }
                            else if (data.v_owner_product == "") {
                                LockScreen(false);
                                $("#col-form").hide();
                                $("#col-OTP").hide();
                                $("#div_btn_submit").hide();
                                $("#col-err").show();
                                $("#lb-failed").html("@Existing_AccessType_MSG.");
                                result = false;
                            }
                            else {

                                $("#CustomerRegisterPanelModel_v_installAddress").val(data.v_installAddress);
                                $("#CustomerRegisterPanelModel_installAddress1").val(data.v_installAddress1);
                                $("#CustomerRegisterPanelModel_installAddress2").val(data.v_installAddress2);
                                $("#CustomerRegisterPanelModel_installAddress3").val(data.v_installAddress3);
                                $("#CustomerRegisterPanelModel_installAddress4").val(data.v_installAddress4);
                                $("#CustomerRegisterPanelModel_installAddress5").val(data.v_installAddress5);
                                $("#CustomerRegisterPanelModel_pbox_count").val(data.v_number_of_pb_number);

                                $("#v_number_of_pb").val(data.v_number_of_pb_number);
                                $("#v_sff_main_promotionCD").val(data.v_sff_main_promotionCD);
                                $("#v_owner_product").val(data.v_owner_product);
                                $("#L_NUMBER_OF_PLAYBOX").val(data.L_NUMBER_OF_PLAYBOX);
                                $("#PruductCD_Content").val(data.productCDContent);
                                $("#v_package_subtype").val(data.v_package_subtype);

                                result = true;

                                //17.9 Speed boost
                                if (data.ListPromotion != undefined || data.ListPromotion.length > 0) {
                                    var strBuilder = "";
                                    for (var index = 0; index < data.ListPromotion.length; index++) {

                                        strBuilder += "<input type='hidden' name='PackagePromotionList[" + index + "].ProductClass'] value='" + data.ListPromotion[index].productClass + "' />";
                                        strBuilder += "<input type='hidden' name='PackagePromotionList[" + index + "].ProductType'] value='" + data.ListPromotion[index].productType + "' />";
                                        strBuilder += "<input type='hidden' name='PackagePromotionList[" + index + "].ProductCd'] value='" + data.ListPromotion[index].productCD + "' />";
                                        strBuilder += "<input type='hidden' name='PackagePromotionList[" + index + "].EndDate'] value='" + data.ListPromotion[index].endDate + "' />";
                                        strBuilder += "<input type='hidden' name='PackagePromotionList[" + index + "].StartDate'] value='" + data.ListPromotion[index].startDate + "' />";
                                        strBuilder += "<input type='hidden' name='PackagePromotionList[" + index + "].ProductStatus'] value='" + data.ListPromotion[index].productStatus + "' />";
                                    }

                                    $("#hndPackagePromotion").append(strBuilder);
                                }
                            }

                        }
                    });
                    return result;
                }

                function appendingV2(i, e) {
                    return "<tr>" +
                           "<td>" +
                           "</td>" +
                           "</tr>";
                }

                function watchinglist(aisairno) {
                    var found = false;
                    try {
                        $.ajax({
                            type: "GET",
                            url: "/MasterData/WatchingList",
                            data: { 'aisAirNo': aisairno },
                            dataType: "json",
                            async: false,
                            success: function (data) {
                                found = data;
                            },
                            error: function (data) {
                                console.log("error");
                            }
                        });
                    }
                    catch (e) {
                        console.log(e);
                    }

                    return found;
                }

                function checkProcessHandler() {
                    var isSuccess = false;
                    isSuccess = getListServiceAnsPromotionByPackType();
                    if (isSuccess) {
                        $.ajax({
                            url: '/CheckCoverage/evESeServiceQueryMassCommonAccountInfo',
                            data: {
                                mobileNo: codefbb.fbbMessage($("#AisAirNumber").val()),
                                cardNo: $.trim($("#L_CARD_NOs").val()),
                                cardType: $("#ID_CARD_NAMEs").val(),
                                line: "@ViewBag.Vas"
                            },
                            dataType: "json",
                            type: 'POST',
                            async: false,
                            success: function (response) {
                                var data = response.data;

                                if ($.trim(data.errorMessage) == "EB0001" || $.trim(data.errorMessage) == "EB0574") {
                                    LockScreen(false);
                                    $("#col-form").hide();
                                    $("#col-OTP").hide();
                                    $("#div_btn_submit").hide();

                                    $("#col-err").show();
                                    $("#lb-failed").html("@L_NEW_CUST_NOT_FOUND");
                                }
                                else if (data.errorMessage == "") { //found data
                                    $.ajax({
                                        url: '/CheckCoverage/GetCheckProcess',
                                        data: { key: data.GUIDKEY, },
                                        dataType: "json",
                                        type: 'POST',
                                        async: false,
                                        success: function (response) {
                                            var data = response.data;

                                            var v_icon_pb = "";
                                            var v_icon_fl = "";
                                            var v_add_playbox = data.checkPlayBox;

                                            if ("@ViewBag.Vas" == "" && $("#TopUp").val() == "1") {
                                                v_icon_pb = "@SHOW_ICON_PLAYBOX_CUST_VAS";
                                                v_icon_fl = "@SHOW_ICON_FIXEDLINE_CUST_VAS";
                                            }
                                            else {
                                                v_icon_pb = "@SHOW_ICON_PLAYBOX_SSO_VAS";
                                                v_icon_fl = "@SHOW_ICON_FIXEDLINE_SSO_VAS";
                                            }

                                            $("#v_icon_fl").val(v_icon_fl);
                                            $("#v_icon_pb").val(v_icon_pb);
                                            $("#v_add_playbox").val("N");

                                            $("#outPrimaryContactFirstName").val(data.outPrimaryContactFirstName);
                                            $("#outContactLastName").val(data.outContactLastName);
                                            $("#outAmphur").val(data.outAmphur);
                                            $("#outBuildingName").val(data.outBuildingName);
                                            $("#outFloor").val(data.outFloor);
                                            $("#outHouseNumber").val(data.outHouseNumber);
                                            $("#outMoo").val(data.outMoo);
                                            $("#outMooban").val(data.outMooban);
                                            $("#outProvince").val(data.outProvince);
                                            $("#outRoom").val(data.outRoom);
                                            $("#outSoi").val(data.outSoi);
                                            $("#outStreetName").val(data.outStreetName);
                                            $("#outBillLanguage").val(data.outBillLanguage);
                                            $("#outtumbol").val(data.outTumbol);
                                            $("#outBirthDate").val(data.outBirthDate);
                                            $("#outEmail").val(data.outEmail);
                                            $("#outparameter2").val(data.outparameter2);
                                            $("#outAccountName").val(data.outAccountName);
                                            $("#outAccountNumber").val(data.outAccountNumber);
                                            $("#outServiceAccountNumber").val(data.outServiceAccountNumber);
                                            $("#outBillingAccountNumber").val(data.outBillingAccountNumber);
                                            $("#outProductName").val(data.outProductName);
                                            $("#outDayOfServiceYear").val(data.outDayOfServiceYear);
                                            $("#outRegisteredDate").val(data.outRegisteredDate);
                                            $("#no").val($("#AisAirNumber").val());
                                            $("#CustomerRegisterPanelModel_outFullAddress").val(data.outFullAddress);

                                            $("#outcardType").val(data.cardType);
                                            $("#outAccountSubCategory").val(data.outAccountSubCategory);
                                            $("#outPostalCode").val(data.outPostalCode);
                                            $("#IDCardType").val($('#ID_CARD_NAMEs :selected').text());
                                            $("#IDCardTypeENG").val($('#ID_CARD_NAMEs').val());
                                            $("#IDCardNo").val($("#L_CARD_NOs").val());

                                            /// address //
                                            $("#CustomerRegisterPanelModel_AddressPanelModelSetup_L_HOME_NUMBER_2").val(data.outHouseNumber);
                                            $("#CustomerRegisterPanelModel_AddressPanelModelSetup_L_MOO").val(data.outMoo);
                                            $("#CustomerRegisterPanelModel_AddressPanelModelSetup_L_MOOBAN").val(data.outMooban);
                                            $("#CustomerRegisterPanelModel_AddressPanelModelSetup_L_BUILD_NAME").val(data.outBuildingName);
                                            $("#CustomerRegisterPanelModel_AddressPanelModelSetup_L_FLOOR").val(data.outFloor);
                                            $("#CustomerRegisterPanelModel_AddressPanelModelSetup_L_ROOM").val(data.outRoom);
                                            $("#CustomerRegisterPanelModel_AddressPanelModelSetup_L_SOI").val(data.outSoi);
                                            $("#CustomerRegisterPanelModel_AddressPanelModelSetup_L_ROAD").val(data.outStreetName);
                                            $("#CustomerRegisterPanelModel_AddressPanelModelSetup_L_TUMBOL").val(data.outTumbol);
                                            $("#CustomerRegisterPanelModel_AddressPanelModelSetup_L_AMPHUR").val(data.outAmphur);
                                            $("#CustomerRegisterPanelModel_AddressPanelModelSetup_L_PROVINCE").val(data.outProvince);
                                            $("#CustomerRegisterPanelModel_AddressPanelModelSetup_L_ZIPCODE").val(data.outPostalCode);

                                            $("#CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_HOME_NUMBER_2").val(data.outHouseNumber);
                                            $("#CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_MOO").val(data.outMoo);
                                            $("#CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_MOOBAN").val(data.outMooban);
                                            $("#CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_BUILD_NAME").val(data.outBuildingName);
                                            $("#CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_FLOOR").val(data.outFloor);
                                            $("#CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_ROOM").val(data.outRoom);
                                            $("#CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_SOI").val(data.outSoi);
                                            $("#CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_ROAD").val(data.outStreetName);
                                            $("#CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_TUMBOL").val(data.outTumbol);
                                            $("#CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_AMPHUR").val(data.outAmphur);
                                            $("#CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_PROVINCE").val(data.outProvince);
                                            $("#CustomerRegisterPanelModel_AddressPanelModelSendDoc_L_ZIPCODE").val(data.outPostalCode);

                                            $("#CustomerRegisterPanelModel_AddressPanelModelVat_L_HOME_NUMBER_2").val(data.outHouseNumber);
                                            $("#CustomerRegisterPanelModel_AddressPanelModelVat_L_MOO").val(data.outMoo);
                                            $("#CustomerRegisterPanelModel_AddressPanelModelVat_L_MOOBAN").val(data.outMooban);
                                            $("#CustomerRegisterPanelModel_AddressPanelModelVat_L_BUILD_NAME").val(data.outBuildingName);
                                            $("#CustomerRegisterPanelModel_AddressPanelModelVat_L_FLOOR").val(data.outFloor);
                                            $("#CustomerRegisterPanelModel_AddressPanelModelVat_L_ROOM").val(data.outRoom);
                                            $("#CustomerRegisterPanelModel_AddressPanelModelVat_L_SOI").val(data.outSoi);
                                            $("#CustomerRegisterPanelModel_AddressPanelModelVat_L_ROAD").val(data.outStreetName);
                                            $("#CustomerRegisterPanelModel_AddressPanelModelVat_L_TUMBOL").val(data.outTumbol);
                                            $("#CustomerRegisterPanelModel_AddressPanelModelVat_L_AMPHUR").val(data.outAmphur);
                                            $("#CustomerRegisterPanelModel_AddressPanelModelVat_L_PROVINCE").val(data.outProvince);
                                            $("#CustomerRegisterPanelModel_AddressPanelModelVat_L_ZIPCODE").val(data.outPostalCode);

                                            ///detail ///
                                            $("#CustomerRegisterPanelModel_L_FIRST_NAME").val(data.outPrimaryContactFirstName);
                                            $("#CustomerRegisterPanelModel_L_LAST_NAME").val(data.outContactLastName);
                                            $("#CustomerRegisterPanelModel_L_GOVERNMENT_NAME").val(data.outAccountName);
                                            $("#CustomerRegisterPanelModel_L_CONTACT_PERSON").val(data.outPrimaryContactFirstName + " " + data.outContactLastName);
                                            $("#CustomerRegisterPanelModel_SubCateType").val(data.outAccountSubCategory);
                                            $("#CustomerRegisterPanelModel_L_CONTACT_PHONE").val(data.outparameter2);
                                            $("#CustomerRegisterPanelModel_L_BIRTHDAY").val(data.outBirthDate);
                                            $("#CustomerRegisterPanelModel_L_EMAIL").val(data.outEmail);

                                            $("#CustomerRegisterPanelModel_L_CARD_TYPE").val($('#ID_CARD_NAMEs :selected').text());
                                            $("#CustomerRegisterPanelModel_L_CARD_NO").val($("#L_CARD_NOs").val());
                                            $("#CoveragePanelModel_CA_ID").val(data.outAccountNumber);
                                            $("#CoveragePanelModel_SA_ID").val(data.outServiceAccountNumber);
                                            $("#CoveragePanelModel_BA_ID").val(data.outBillingAccountNumber);
                                            $("#CoveragePanelModel_SffProductName").val(data.outProductName);
                                            $("#CoveragePanelModel_SffServiceYear").val(data.outDayOfServiceYear);
                                            $("#CoveragePanelModel_P_MOBILE").val($("#AisAirNumber").val());
                                            sessionStorage.setItem("AisAirNumber", $("#AisAirNumber").val());
                                            $("#CustomerRegisterPanelModel_CateType").val(data.cardType);
                                            $("#CustomerRegisterPanelModel_L_TITLE").val(data.outTitle);
                                            $("#SffProfileLogID").val(data.SffProfileLogID);

                                            $("#CustomerRegisterPanelModel_vatAddress1").val(data.vatAddress1);
                                            $("#CustomerRegisterPanelModel_vatAddress2").val(data.vatAddress2);
                                            $("#CustomerRegisterPanelModel_vatAddress3").val(data.vatAddress3);
                                            $("#CustomerRegisterPanelModel_vatAddress4").val(data.vatAddress4);
                                            $("#CustomerRegisterPanelModel_vatAddress5").val(data.vatAddress5);
                                            $("#CustomerRegisterPanelModel_vatPostalCd").val(data.vatPostalCd);
                                            $("#CustomerRegisterPanelModel_vatAddressFull").val(data.vatAddressFull);
                                            $("#v_PackageCode").val(data.PackageCode);

                                            getPackageNewV2(data.PackageCode, data.outProductName, data.outDayOfServiceYear);
                                        }
                                    });
                                }
                                else { //error service
                                    LockScreen(false);
                                    $("#col-OTP").hide();
                                    $("#col-form").hide();
                                    $("#div_btn_submit").hide();
                                    $("#col-err").show();
                                    $("#lb-failed").html("@L_NEW_CUST_NOT_FOUND.");
                                }
                            }
                            , error: function (err) {
                            }
                        });
                    }
                    else {
                        LockScreen(false);
                    }
                }

                function SubmitOTP() {
                    $.ajax({
                        url: '/Process/WatchlistConfirmOneTimePW',
                        data: { pwd: $('#passOTP').val(), transactionID: $('#GSSO_transactionID').val() },
                        dataType: "json",
                        type: 'POST',
                        success: function (data) {
                            if (data != null) {
                                if (data.code == "000" && data.transactionID == $('#GSSO_transactionID').val()) {
                                    checkProcessHandler();
                                } else {
                                    $.ajax({
                                        url: '/Process/getErrorCodeOTP',
                                        data: { Error_Code: data.code, Mobile_No: "SESSION" },
                                        dataType: "text",
                                        type: 'POST',
                                        async: false,
                                        success: function (data6) {
                                            LockScreen(false);
                                            if (data6 != null && data6 != "") {
                                                $('#col-form').hide();
                                                $('#col-OTP').hide();
                                                $('#lb-ais-failed').html(data6);
                                                $('#col-ais-err').show();
                                                $('#btnCheckProcess').hide();
                                                $('#btnhide').hide();
                                            } else {
                                                $('#col-form').hide();
                                                $('#col-OTP').hide();
                                                $('#lb-ais-failed').html('@L_ERR_NOT_FOUND');
                                                $('#col-ais-err').show();
                                                $('#btnCheckProcess').hide();
                                                $('#btnhide').hide();
                                            }
                                        }
                                    });
                                }
                            }
                            else {
                                LockScreen(false);
                                $('#col-OTP').hide();
                                $('#lb-ais-failed').html('@L_ERR_NOT_FOUND');
                                $('#col-ais-err').show();
                            }
                        }
                    });
                }

                function ShowPW() {
                    if ($('#showPass').text() == '@L_SHOW_PW') {
                        document.getElementById("passOTP").type = 'text';
                        $('#showPass').text("@L_CLOSE_PW");
                    }
                    else {
                        document.getElementById("passOTP").type = 'password';
                        $('#showPass').text('@L_SHOW_PW');
                    }
                }

                function SentPW() {
                    $.ajax({
                        url: '/Process/WatchListSendOneTimePW',
                        data: { accountType: "all" },
                        dataType: "json",
                        type: 'POST',
                        async: false,
                        success: function (data3) {
                            LockScreen(false);
                            if (data3.code == "000") {
                                $('#GSSO_transactionID').val(data3.transactionID);
                                $('#passOTP').val("");
                                $("#otpOK1").show();
                                $("#otpOK2").hide();
                            }
                            else {
                                $.ajax({
                                    url: '/Process/getErrorCodeOTP',
                                    data: { Error_Code: data3.code, Mobile_No: "SESSION" },
                                    dataType: "text",
                                    type: 'POST',
                                    async: false,
                                    success: function (data6) {
                                        if (data6 != null && data6 != "") {
                                            $('#col-form').hide();
                                            $('#col-OTP').hide();
                                            $('#lb-ais-failed').html(data6);
                                            $('#col-ais-err').show();
                                            $('#btnCheckProcess').hide();
                                            $('#btnhide').hide();
                                        }
                                        else {
                                            $('#col-form').hide();
                                            $('#col-OTP').hide();
                                            $('#lb-ais-failed').html('@L_ERR_NOT_FOUND');
                                            $('#col-ais-err').show();
                                            $('#btnCheckProcess').hide();
                                            $('#btnhide').hide();
                                        }
                                    }
                                });
                            }
                        }
                    });
                }

                function BackOTP() {

                    $('#btnhide').hide();
                    $("#btnCheckProcess").show();

                    $('#col-form').show();
                    $('#col-OTP').hide();
                    $("#otpOK1").hide();
                    $("#otpOK2").hide();
                    $("#otpCancle").hide();
                }

                function backError() {
                    $('#passOTP').val('');
                    $('#col-form').hide();
                    $('#btnCheckProcess').hide();
                    $('#btnhide').hide();
                    $('#col-ais-err').hide();
                    $('#col-OTP').show();
                    $("#otpOK1").show();
                    $("#otpOK2").hide();
                    $("#otpCancle").show();
            }
        //-PACKAGE_TYPE in (“9”, “10”)
        //-PACKAGE_SERVICE_NAME = “INTERNET”

        function getPackageNewV2(packageCode, sffProductName, sffServiceYear) {
            var valExistingFlag = "@ViewBag.ExistingFlag";
            var existing_req = "";
            if ((valExistingFlag == "PLAYBOX") || (valExistingFlag == "PLAYBOX:MENU")) {
                existing_req = "PBOX_CONTENT";
            }
            else if ((valExistingFlag == "INTERNET") || (valExistingFlag == "INTERNET:MENU")) {
                existing_req = "INTERNET";
            }
            //R21.5
            var P_SALE_CHANNEL = "CUSTOMER";
            if (window.parent.$("#P_SALE_CHANNEL").length > 0) {
                P_SALE_CHANNEL = window.parent.$("#P_SALE_CHANNEL").val();
            }

            $.ajax({
                type: "GET",
                url: "/SelectPackage/GetListPackagebySFFPromoV2",
                data: {
                    "P_OWNER_PRODUCT": $("#v_owner_product").val(),
                    "P_PRODUCT_SUBTYPE": $("#v_package_subtype").val(),
                    "accessMode": "",
                    "no": $("#AisAirNumber").val(),
                    "P_SFF_PROMOCODE": $("#v_sff_main_promotionCD").val(),
                    "P_EXISTING_REQ": existing_req,
                    "P_SALE_CHANNEL": P_SALE_CHANNEL
                },
                dataType: "json",
                async: false,
                success: function (data) {
                    console.log("existing_req ", existing_req);
                    console.log("GetListPackagebySFFPromoV2 ", data);
                    var resultContent = false;
                    var valExistingFlag = "@ViewBag.ExistingFlag";
                    if ((valExistingFlag == "PLAYBOX") || (valExistingFlag == "PLAYBOX:MENU")) {

                        var tmpPackageContent = data.filter(function (elem) {
                            return elem.PACKAGE_TYPE.indexOf("8") !== -1
                                && elem.PRODUCT_SUBTYPE.indexOf("PBOX") !== -1
                                //&& elem.PACKAGE_SERVICE_NAME.indexOf("PBOX") !== -1;
                                && elem.PACKAGE_SERVICE_NAME.indexOf("INTERNET") !== -1;//R21.12PP ATV
                        });
                        if (tmpPackageContent != undefined && tmpPackageContent.length > 0) {
                            $.each(tmpPackageContent, function (indexPackageContent, rowContent) {
                                if (!resultContent) {
                                    $.ajax({
                                        type: "GET",
                                        url: "/MasterData/GetLovListJson",
                                        data: {
                                            "type": "TOPUP_PLAYBOX",
                                            "name": rowContent.SFF_PROMOTION_CODE
                                        },
                                        dataType: "json",
                                        async: false,
                                        success: function (dataLov) {
                                            if (dataLov != undefined && dataLov.length > 0) {
                                                resultContent = true;
                                            }
                                        }
                                    });
                                }
                            });
                        }
                    }
                    else if ((valExistingFlag == "INTERNET") || (valExistingFlag == "INTERNET:MENU")) {
                        var tmpPackageContent = data.filter(function (elem) {
                            return (elem.PACKAGE_TYPE.indexOf("9") !== -1 || elem.PACKAGE_TYPE.indexOf("10") !== -1 )
                                && elem.PACKAGE_SERVICE_NAME.indexOf("INTERNET") !== -1;
                        });
                        console.log("tmpPackageContent", tmpPackageContent);
                        if (tmpPackageContent != undefined && tmpPackageContent.length > 0) {
                            $.each(tmpPackageContent, function (indexPackageContent, rowContent) {
                                if (!resultContent) {
                                    $.ajax({
                                        type: "GET",
                                        url: "/MasterData/GetLovListJson",
                                        data: {
                                            "type": "TOPUP_FIBRE",
                                            "name": rowContent.SFF_PROMOTION_CODE
                                        },
                                        dataType: "json",
                                        async: false,
                                        success: function (dataLov) {
                                            if (dataLov != undefined && dataLov.length > 0) {
                                                resultContent = true;
                                            }
                                        }
                                    });
                                }
                            });
                        }
                    }

                    if (resultContent) {
                        $("#test").submit();
                    }
                    else {
                        LockScreen(false);
                        $("#col-form").hide();
                        $("#col-OTP").hide();
                        $("#div_btn_submit").hide();
                        $("#col-err").show();
                        $("#lb-failed").html("@L_NEW_CUST_NOT_FOUND2");
                    }
                }
            });
        }

    </script>

</body>
</html>
