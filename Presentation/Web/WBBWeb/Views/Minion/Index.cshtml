@model WBBContract.Minions.MinionGetListPackageByServiceQuery

@{
    Layout = "~/Views/Minion/_LayoutMinion.cshtml";
    ViewBag.Title = "Index";
}

<div id="divMain" class="col-md-12 well hidden">
    <div class="col-md-12">
        <div class="form-group">
            <label class="sr-only" for="inpEndPoint">Amount (in dollars)</label>
            <div class="input-group">
                <div class="input-group-addon">URL : </div>
                <input type="text" class="form-control" id="inpEndPoint" readonly="readonly" placeholder="Enter request URL">
                <div id="btnOption" class="btn input-group-addon"><i class="fa fa-cog" aria-hidden="true"></i></div>
            </div>
        </div>
        <div class="form-inline ajaxOption hidden">
            <div class="form-group">
                <label for="">Method :</label>
            <label class="radio-inline">
                <input type="radio" name="rdoAjaxType" id="rdoGet" value="GET">
                GET
            </label>
            <label class="radio-inline">
                    <input type="radio" name="rdoAjaxType" id="rdoPost" value="POST" checked="checked">
                POST
            </label>
        </div>
            &nbsp;&nbsp;&nbsp;
            <div class="input-group">
                <div class="input-group-addon">ContentType : </div>
            <select id="ddlAjaxType" class="form-control">
                <option value="json" selected="selected">json</option>
                <option value="text/xml">text/xml</option>
            </select>
        </div>
    </div>
    
        </div>
    
    <p class="clearfix"></p>

    <div class="col-md-12" id="divRdoRequest">
        <label class="radio-inline">
            <input type="radio" name="rdoRequest" id="rdoRequest1" value="form-data" checked="checked">
            form-data
        </label>
        <label class="radio-inline">
            <input type="radio" name="rdoRequest" id="rdoRequest2" value="raw-xml">
            raw-xml
        </label>
    </div>

    <div class="row" id="divPartial">
        @{
            @Html.Partial("_listPackageServicePartial", new WBBContract.Minions.MinionGetListPackageByServiceQuery())
            @Html.Partial("_listPackageSffPromoPartial", new WBBContract.Minions.MinionGetListPackageBySffPromoQuery())
            @Html.Partial("_listPackageChangePartial", new WBBContract.Minions.MinionGetListPackageByChangeQuery())
            @Html.Partial("_installProfileProcMainPartial", new WBBContract.Minions.MinionProcMainCommand())
            @Html.Partial("_installProfileProcInsAddrPartial", new WBBContract.Minions.MinionProcInstallAddressCommand())
            @Html.Partial("_installProfileProcInsContactPartial", new WBBContract.Minions.MinionProcInstallContactCommand())
            @Html.Partial("_installProfileProcInsPackagePartial", new WBBContract.Minions.MinionProcInstallPackageCommand())
            @Html.Partial("_installProfileProcInsSplitterPartial", new WBBContract.Minions.MinionProcInstallSplitterCommand())
            @Html.Partial("_installProfileProcMessageLog", new WBBContract.Minions.MinionProcMessageLogCommand())
            @Html.Partial("_listProfileCustomerPartial", new WBBContract.Minions.MinionGetListProfileCustomerQuery())
            @Html.Partial("_listProfilePackagePartial", new WBBContract.Minions.MinionGetListProfilePackageQuery())
            @Html.Partial("_listProfileSplitterPartial", new WBBContract.Minions.MinionGetListProfileSplitterQuery())
            @Html.Partial("_listProfileContactPartial", new WBBContract.Minions.MinionGetListProfileContactQuery())
            @Html.Partial("_listProfileAddressPartial", new WBBContract.Minions.MinionGetListProfileAddressQuery())

            @Html.Partial("_externalSmsSurveyFOAPartial", new WBBContract.Minions.MinionProcMainCommand())
            @Html.Partial("_saveOrderNewPartial", new WBBContract.Minions.MinionGetSaveOrderNew())
        }
    </div>

    <p class="clearfix"></p>
    <p class="clearfix"></p>

    <div id="dvResponse" class="row hidden">
        <div class=""><strong>Response</strong> </div>
        <div class="foo">
            <div class="col-md-12">
                <label class="radio-inline">
                    <input type="radio" name="rdoResponse" id="rdoResponseXml" value="xml" checked="checked">
                    Xml
                </label>
                <label class="radio-inline">
                    <input type="radio" name="rdoResponse" id="rdoResponseJson" value="json">
                    Json
                </label>
            </div>

            <div class="col-md-12" id="response-xml">
                <div class="form-group" id="response-success">
                    @*<pre class="prettyprint" id="quine"></pre>*@
                    <pre contenteditable="true" class="prettyprint CONTAINER" spellcheck="false"> 
                    </pre>
                    @*<textarea class="form-control" readonly="readonly" rows="30"></textarea>*@
                </div>
                @*<pre class="prettyprint" id="quine"></pre>*@

                <div class="col-md-12 hidden" id="response-error" style="border: 1px solid #ccc">
                    <iframe id="ifr" width="100%" height="500" frameborder="0"></iframe>
                </div>
            </div>

            <div class="col-md-12 hidden" id="response-json">
                <div class="form-group">
                    <pre contenteditable="true" class="prettyprint" spellcheck="false"></pre>
                    @*<textarea class="form-control" readonly="readonly" rows="30"></textarea>*@
                </div>
            </div>
         


        </div>
    </div>
    
    <form id="form_Login" method="GET" action="@(Url.Action("Login","Minion"))">
    </form>

</div>

<script type="text/javascript">
    $(document).ready(function () {
        var indexProfile = 0;
        var indexContact = 0;
        var indexAddress = 0;
        var indexPackage = 0;
        var indexSplitter = 0;


        function htmlEscape(s) {
            return s
              .replace(/&/g, '&amp;')
              .replace(/</g, '&lt;')
              .replace(/>/g, '&gt;');
        }


        $('input[type=radio][name=rdoRequest]').change(function () {
            if (this.value == 'form-data') {
                $('#form-data').removeClass('hidden');
                $('#raw-xml').addClass('hidden');
            }
            else if (this.value == 'raw-xml') {
                $('#form-data').addClass('hidden');
                $('#raw-xml').removeClass('hidden');
            }
        });

        $('input[type=radio][name=rdoResponse]').change(function () {

            $('#hdnxmlString').val('');

            if (this.value == 'xml') {
                $('#response-xml').removeClass('hidden');
                $('#response-json').addClass('hidden');
            }
            else if (this.value == 'json') {
                $('#response-xml').addClass('hidden');
                $('#response-json').removeClass('hidden');
            }
          
        });

        $('button[type=reset]').click(function () {
            $('#dvResponse').addClass('hidden');
            $('#response-xml pre').html('');
            $('#response-json pre').html('');

            $('#rdoResponseXml').prop('checked', true);
            $('#response-xml').removeClass('hidden');
            $('#response-json').addClass('hidden');

            if ($('.ajaxOption.hidden').length == 0) {
                $('.ajaxOption').addClass('hidden');
            }
            $('#rdoPost').prop('checked', true);
            $("#ddlAjaxType").val("json");

            indexProfile = 0;
            indexContact = 0;
            indexAddress = 0;
            indexPackage = 0;
            indexSplitter = 0;

            $('#installProfile').html('');
            $('#installContact').html('');
            $('#installAddress').html('');
            $('#installSplitter').html('');
            $('#installPackage').html('');

        });
    
        $('#frmListPackageService').submit(function (e) {


            $('#ProgressLoading').modal('show');

            $('#response-xml pre').html('');
            $('#response-json pre').html('');

            if ($('input[name=rdoRequest]:checked').val() == 'raw-xml') {
                if (!!$('#frmListPackageService #xmlString').val()) {
                    $('#frmListPackageService #hdnxmlString').val(htmlEscape($('#frmListPackageService #xmlString').val()));
                }
            } else {
                $('#frmListPackageService #hdnxmlString').val('');
            }

            var $this = $(this);
            var frmValues = $this.not(':hidden').serialize();
            console.log('frmValues', frmValues);

            // console.log("frmValues", frmValues);
            $.ajax({
                //url: '@Url.Action("GetListPackageByService")',
                url: $('#inpEndPoint').val(),
                type: $('input[name=rdoAjaxType]:checked').val(),
                dataType: $("#ddlAjaxType").val(),
                data: frmValues,
                success: function (result) {

                    console.log("result", result);
                    if (!!result) {

                        if (result.status == "T") {
                            $('#form_Login').submit();
                        }

                        //// this page's own source code
                        //var quineHtml = htmlEscape(
                        //  '<!DOCTYPE html>\n<html>\n' +
                        //  result.rawxml +
                        //  '\n<\/html>\n');
                        //console.log("quineHtml", quineHtml);

                        //// Highlight the operative parts:
                        //quineHtml = quineHtml.replace(
                        //  /&lt;script src[\s\S]*?&gt;&lt;\/script&gt;|&lt;!--\?[\s\S]*?--&gt;|&lt;pre\b[\s\S]*?&lt;\/pre&gt;/g,
                        //  '<span class="operative">$&<\/span>');

                        ////// insert into PRE
                        //document.getElementById("quine").innerHTML = quineHtml;

                        displayResponse(result.rawxml, 'success');

                        var jsonObj = JSON.parse(result.rawjson);
                        var jsonPretty = JSON.stringify(jsonObj, null, '\t');

                        $('#response-json pre').text(jsonPretty);
                    }

                    $('#ProgressLoading').modal('hide');
                    $('#dvResponse').removeClass('hidden');

                },
                error: function (jqXhr) {

                    displayResponse(jqXhr.responseText, 'error');

                    $('#ProgressLoading').modal('hide');
                    $('#dvResponse').removeClass('hidden');

                }
            });
            return false;



        });

        function getIframeDocument(element) {
            var doc = element.contentDocument;
            if (doc == undefined || doc == null) {
                doc = element.contentWindow.document;
            }

            return doc;
        }

        $('#frmListPackageSffPromo').submit(function (e) {

            $('#ProgressLoading').modal('show');

            $('#response-xml pre').html('');
            $('#response-json pre').html('');
            if ($('input[name=rdoRequest]:checked').val() == 'raw-xml') {
                if (!!$('#frmListPackageSffPromo #xmlString').val()) {
                    $('#frmListPackageSffPromo #hdnxmlString').val(htmlEscape($('#frmListPackageSffPromo #xmlString').val()));
                }
            } else {
                $('#frmListPackageSffPromo #hdnxmlString').val('');
            }

            var $this = $(this);
            var frmValues = $this.serialize();


            $.ajax({
                url: $('#inpEndPoint').val(),
                type: $('input[name=rdoAjaxType]:checked').val(),
                dataType: $("#ddlAjaxType").val(),
                data: frmValues,
                success: function (result) {
                    
                    if (!!result) {

                        if (result.status == "T") {
                            $('#form_Login').submit();
                        }

                        displayResponse(result.rawxml, 'success');

                        var jsonObj = JSON.parse(result.rawjson);
                        var jsonPretty = JSON.stringify(jsonObj, null, '\t');

                        $('#response-json pre').text(jsonPretty);

                    }

                    $('#ProgressLoading').modal('hide');
                    $('#dvResponse').removeClass('hidden');

                },
                error: function (jqXhr) {
                    displayResponse(jqXhr.responseText, 'error');

                    $('#ProgressLoading').modal('hide');
                    $('#dvResponse').removeClass('hidden');

                }
            });

            return false;
        });

        $('#frmListPackageChange').submit(function (e) {
            $('#ProgressLoading').modal('show');

            $('#response-xml pre').html('');
            $('#response-json pre').html('');

            if ($('input[name=rdoRequest]:checked').val() == 'raw-xml') {
                if (!!$('#frmListPackageChange #xmlString').val()) {
                    $('#frmListPackageChange #hdnxmlString').val(htmlEscape($('#frmListPackageChange #xmlString').val()));
                }
            } else {
                $('#frmListPackageChange #hdnxmlString').val('');
            }

            var $this = $(this);
            var frmValues = $this.serialize();

            $.ajax({
                url: $('#inpEndPoint').val(),
                type: $('input[name=rdoAjaxType]:checked').val(),
                dataType: $("#ddlAjaxType").val(),
                data: frmValues,
                success: function (result) {

                    if (!!result) {

                        if (result.status == "T") {
                            $('#form_Login').submit();
                        }

                        $('#response-xml pre').text(result.rawxml);

                        var jsonObj = JSON.parse(result.rawjson);
                        var jsonPretty = JSON.stringify(jsonObj, null, '\t');

                        $('#response-json pre').text(jsonPretty);

                    }

                    $('#ProgressLoading').modal('hide');
                    $('#dvResponse').removeClass('hidden');

                },
                error: function (jqXhr) {

                    $('#response-xml pre').text(jqXhr.responseText);

                    $('#ProgressLoading').modal('hide');
                    $('#dvResponse').removeClass('hidden');

                }
            });

            return false;
        });

        $('#frmInstallProfileProcMain').submit(function (e) {
            $('#ProgressLoading').modal('show');

            $('#response-xml pre').html('');
            $('#response-json pre').html('');

            if ($('input[name=rdoRequest]:checked').val() == 'raw-xml') {
                if (!!$('#frmInstallProfileProcMain #xmlString').val()) {
                    $('#frmInstallProfileProcMain #hdnxmlString').val(htmlEscape($('#frmInstallProfileProcMain #xmlString').val()));
                }
            } else {
                $('#frmInstallProfileProcMain #hdnxmlString').val('');
            }

            var $this = $(this);
            var frmValues = $this.serialize();
            console.log(frmValues);
            $.ajax({
                url: $('#inpEndPoint').val(),
                type: $('input[name=rdoAjaxType]:checked').val(),
                dataType: $("#ddlAjaxType").val(),
                data: frmValues,
                success: function (result) {

                    if (!!result) {

                        if (result.status == "T") {
                            $('#form_Login').submit();
                        }

                        $('#response-xml pre').text(result.rawxml);

                        var jsonObj = JSON.parse(result.rawjson);
                        var jsonPretty = JSON.stringify(jsonObj, null, '\t');

                        $('#response-json pre').text(jsonPretty);

                    }

                    $('#ProgressLoading').modal('hide');
                    $('#dvResponse').removeClass('hidden');

                },
                error: function (jqXhr) {

                    $('#response-xml pre').text(jqXhr.responseText);

                    $('#ProgressLoading').modal('hide');
                    $('#dvResponse').removeClass('hidden');

                }
            });

            return false;
        });

        $('#frmInstallProfileProcInsAddr').submit(function (e) {
            $('#ProgressLoading').modal('show');

            $('#response-xml pre').html('');
            $('#response-json pre').html('');

            if ($('input[name=rdoRequest]:checked').val() == 'raw-xml') {
                if (!!$('#frmInstallProfileProcInsAddr #xmlString').val()) {
                    $('#frmInstallProfileProcInsAddr #hdnxmlString').val(htmlEscape($('#frmInstallProfileProcInsAddr #xmlString').val()));
                }
            } else {
                $('#frmInstallProfileProcInsAddr #hdnxmlString').val('');
            }

            var $this = $(this);
            var frmValues = $this.serialize();
            console.log(frmValues);
            $.ajax({
                url: $('#inpEndPoint').val(),
                type: $('input[name=rdoAjaxType]:checked').val(),
                dataType: $("#ddlAjaxType").val(),
                data: frmValues,
                success: function (result) {

                    if (!!result) {
                        
                        if (result.status == "T") {
                            $('#form_Login').submit();
                        }

                        displayResponse(result.rawxml, 'success');

                        if (!!result.rawjson) {
                            var jsonObj = JSON.parse(result.rawjson);
                            var jsonPretty = JSON.stringify(jsonObj, null, '\t');

                            $('#response-json pre').text(jsonPretty);
                        }
                    }

                    $('#ProgressLoading').modal('hide');
                    $('#dvResponse').removeClass('hidden');

                },
                error: function (jqXhr) {
                    displayResponse(jqXhr.responseText, 'error');

                    $('#ProgressLoading').modal('hide');
                    $('#dvResponse').removeClass('hidden');

                }
            });

            return false;
        });

        $('#frmInstallProfileProcInsContact').submit(function (e) {
            $('#ProgressLoading').modal('show');

            $('#response-xml pre').html('');
            $('#response-json pre').html('');

            if ($('input[name=rdoRequest]:checked').val() == 'raw-xml') {
                if (!!$('#frmInstallProfileProcInsContact #xmlString').val()) {
                    $('#frmInstallProfileProcInsContact #hdnxmlString').val(htmlEscape($('#frmInstallProfileProcInsContact #xmlString').val()));
                }
            } else {
                $('#frmInstallProfileProcInsContact #hdnxmlString').val('');
            }

            var $this = $(this);
            var frmValues = $this.serialize();
            console.log(frmValues);
            $.ajax({
                url: $('#inpEndPoint').val(),
                type: $('input[name=rdoAjaxType]:checked').val(),
                dataType: $("#ddlAjaxType").val(),
                data: frmValues,
                success: function (result) {

                    if (!!result) {

                        if (result.status == "T") {
                            $('#form_Login').submit();
                        }

                        displayResponse(result.rawxml, 'success');
                      
                        if (!!result.rawjson) {
                            var jsonObj = JSON.parse(result.rawjson);
                            var jsonPretty = JSON.stringify(jsonObj, null, '\t');

                            $('#response-json pre').text(jsonPretty);
                        }
                    }

                    $('#ProgressLoading').modal('hide');
                    $('#dvResponse').removeClass('hidden');

                },
                error: function (jqXhr) {
                    displayResponse(jqXhr.responseText, 'error');

                    $('#ProgressLoading').modal('hide');
                    $('#dvResponse').removeClass('hidden');

                }
            });

            return false;
        });

        $('#frmInstallProfileProcInsPackage').submit(function (e) {
            $('#ProgressLoading').modal('show');

            $('#response-xml pre').html('');
            $('#response-json pre').html('');

            if ($('input[name=rdoRequest]:checked').val() == 'raw-xml') {
                if (!!$('#frmInstallProfileProcInsPackage #xmlString').val()) {
                    $('#frmInstallProfileProcInsPackage #hdnxmlString').val(htmlEscape($('#frmInstallProfileProcInsPackage #xmlString').val()));
                }
            } else {
                $('#frmInstallProfileProcInsPackage #hdnxmlString').val('');
            }

            var $this = $(this);
            var frmValues = $this.serialize();
            
            $.ajax({
                url: $('#inpEndPoint').val(),
                type: $('input[name=rdoAjaxType]:checked').val(),
                dataType: $("#ddlAjaxType").val(),
                data: frmValues,
                success: function (result) {

                    if (!!result) {

                        if (result.status == "T") {
                            $('#form_Login').submit();
                        }

                        $('#response-xml pre').text(result.rawxml);

                        if (!!result.rawjson) {
                            var jsonObj = JSON.parse(result.rawjson);
                            var jsonPretty = JSON.stringify(jsonObj, null, '\t');

                            $('#response-json pre').text(jsonPretty);
                        }

                    }

                    $('#ProgressLoading').modal('hide');
                    $('#dvResponse').removeClass('hidden');

                },
                error: function (jqXhr) {

                    $('#response-xml pre').text(jqXhr.responseText);

                    $('#ProgressLoading').modal('hide');
                    $('#dvResponse').removeClass('hidden');

                }
            });

            return false;
        });

        $('#frmInstallProfileProcInsSplitter').submit(function (e) {
            $('#ProgressLoading').modal('show');

            $('#response-xml pre').html('');
            $('#response-json pre').html('');

            if ($('input[name=rdoRequest]:checked').val() == 'raw-xml') {
                if (!!$('#frmInstallProfileProcInsSplitter #xmlString').val()) {
                    $('#frmInstallProfileProcInsSplitter #hdnxmlString').val(htmlEscape($('#frmInstallProfileProcInsSplitter #xmlString').val()));
                }
            } else {
                $('#frmInstallProfileProcInsSplitter #hdnxmlString').val('');
            }

            var $this = $(this);
            var frmValues = $this.serialize();
            console.log(frmValues);
            $.ajax({
                url: $('#inpEndPoint').val(),
                type: $('input[name=rdoAjaxType]:checked').val(),
                dataType: $("#ddlAjaxType").val(),
                data: frmValues,
                success: function (result) {

                    if (!!result) {

                        if (result.status == "T") {
                            $('#form_Login').submit();
                        }

                        displayResponse(result.rawxml, 'success');

                        if (!!result.rawjson) {
                            var jsonObj = JSON.parse(result.rawjson);
                            var jsonPretty = JSON.stringify(jsonObj, null, '\t');

                            $('#response-json pre').text(jsonPretty);
                        }
                    }

                    $('#ProgressLoading').modal('hide');
                    $('#dvResponse').removeClass('hidden');

                },
                error: function (jqXhr) {
                    displayResponse(jqXhr.responseText, 'error');

                    $('#ProgressLoading').modal('hide');
                    $('#dvResponse').removeClass('hidden');

                }
            });

            return false;
        });

        $('#frmInstallProfileProcMessageLog').submit(function (e) {
            $('#ProgressLoading').modal('show');

            $('#response-xml pre').html('');
            $('#response-json pre').html('');

            if ($('input[name=rdoRequest]:checked').val() == 'raw-xml') {
                if (!!$('#frmInstallProfileProcMessageLog #xmlString').val()) {
                    $('#frmInstallProfileProcMessageLog #hdnxmlString').val(htmlEscape($('#frmInstallProfileProcMessageLog #xmlString').val()));
                }
            } else {
                $('#frmInstallProfileProcMessageLog #hdnxmlString').val('');
            }

            var $this = $(this);
            var frmValues = $this.serialize();
            console.log(frmValues);
            $.ajax({
                url: $('#inpEndPoint').val(),
                type: $('input[name=rdoAjaxType]:checked').val(),
                dataType: $("#ddlAjaxType").val(),
                data: frmValues,
                success: function (result) {

                    if (!!result) {

                        if (result.status == "T") {
                            $('#form_Login').submit();
                        }

                        displayResponse(result.rawxml, 'success');
                        if (!!result.rawjson) {
                            var jsonObj = JSON.parse(result.rawjson);
                            var jsonPretty = JSON.stringify(jsonObj, null, '\t');

                            $('#response-json pre').text(jsonPretty);
                        }

                    }

                    $('#ProgressLoading').modal('hide');
                    $('#dvResponse').removeClass('hidden');

                },
                error: function (jqXhr) {
                    displayResponse(jqXhr.responseText, 'error');

                    $('#ProgressLoading').modal('hide');
                    $('#dvResponse').removeClass('hidden');

                }
            });

            return false;
        });

        $('#frmSaveOrderNew').submit(function (e) {

            $('#ProgressLoading').modal('show');
            
            $('#response-xml pre').html('');
            $('#response-json pre').html('');

            if ($('input[name=rdoRequest]:checked').val() == 'raw-xml') {
                if (!!$('#frmSaveOrderNew #xmlString').val()) {
                    $('#frmSaveOrderNew #RequestData').val(htmlEscape($('#frmSaveOrderNew #xmlString').val()));
                }
                if (!!$('#inpEndPoint').val()) {
                    $('#frmSaveOrderNew #UrlEnpoint').val(htmlEscape($('#inpEndPoint').val()));
                }
            } else {
                $('#frmSaveOrderNew #RequestData').val('');
            }

            var $this = $(this);
            var frmValues = $this.serialize();
            console.log(frmValues);
            $.ajax({
                url: $('#inpEndPoint').val(),
                type: $('input[name=rdoAjaxType]:checked').val(),
                dataType: $("#ddlAjaxType").val(),
                data: frmValues,
                success: function (result) {

                    if (!!result) {

                        if (result.status == "T") {
                            $('#form_Login').submit();
                        }

                        displayResponse(result.rawxml, 'success');
                        if (!!result.rawjson) {
                            var jsonObj = JSON.parse(result.rawjson);
                            var jsonPretty = JSON.stringify(jsonObj, null, '\t');

                            $('#response-json pre').text(jsonPretty);
                        }

                    }

                    $('#ProgressLoading').modal('hide');
                    $('#dvResponse').removeClass('hidden');

                },
                error: function (jqXhr) {
                    displayResponse(jqXhr.responseText, 'error');

                    $('#ProgressLoading').modal('hide');
                    $('#dvResponse').removeClass('hidden');

                }
            });

            return false;
        });

        $('#frmListProfileCustomer').submit(function (e) {

            $('#ProgressLoading').modal('show');

            $('#response-xml pre').html('');
            $('#response-json pre').html('');
            if ($('input[name=rdoRequest]:checked').val() == 'raw-xml') {
                if (!!$('#frmListProfileCustomer #xmlString').val()) {
                    $('#frmListProfileCustomer #hdnxmlString').val(htmlEscape($('#frmListProfileCustomer #xmlString').val()));
                }
            } else {
                $('#frmListProfileCustomer #hdnxmlString').val('');
            }

            var $this = $(this);
            var frmValues = $this.serialize();


            $.ajax({
                url: $('#inpEndPoint').val(),
                type: $('input[name=rdoAjaxType]:checked').val(),
                dataType: $("#ddlAjaxType").val(),
                data: frmValues,
                success: function (result) {

                    if (!!result) {

                        if (result.status == "T") {
                            $('#form_Login').submit();
                        }

                        displayResponse(result.rawxml, 'success');

                        var jsonObj = JSON.parse(result.rawjson);
                        var jsonPretty = JSON.stringify(jsonObj, null, '\t');

                        $('#response-json pre').text(jsonPretty);

                    }

                    $('#ProgressLoading').modal('hide');
                    $('#dvResponse').removeClass('hidden');

                },
                error: function (jqXhr) {
                    displayResponse(jqXhr.responseText, 'error');

                    $('#ProgressLoading').modal('hide');
                    $('#dvResponse').removeClass('hidden');

                }
            });

            return false;
        });

        $('#frmListProfileContact').submit(function (e) {

            $('#ProgressLoading').modal('show');

            $('#response-xml pre').html('');
            $('#response-json pre').html('');
            if ($('input[name=rdoRequest]:checked').val() == 'raw-xml') {
                if (!!$('#frmListProfileContact #xmlString').val()) {
                    $('#frmListProfileContact #hdnxmlString').val(htmlEscape($('#frmListProfileContact #xmlString').val()));
                }
            } else {
                $('#frmListProfileContact #hdnxmlString').val('');
            }

            var $this = $(this);
            var frmValues = $this.serialize();


            $.ajax({
                url: $('#inpEndPoint').val(),
                type: $('input[name=rdoAjaxType]:checked').val(),
                dataType: $("#ddlAjaxType").val(),
                data: frmValues,
                success: function (result) {

                    if (!!result) {

                        if (result.status == "T") {
                            $('#form_Login').submit();
                        }

                        displayResponse(result.rawxml, 'success');

                        var jsonObj = JSON.parse(result.rawjson);
                        var jsonPretty = JSON.stringify(jsonObj, null, '\t');

                        $('#response-json pre').text(jsonPretty);

                    }

                    $('#ProgressLoading').modal('hide');
                    $('#dvResponse').removeClass('hidden');

                },
                error: function (jqXhr) {
                    displayResponse(jqXhr.responseText, 'error');

                    $('#ProgressLoading').modal('hide');
                    $('#dvResponse').removeClass('hidden');

                }
            });

            return false;
        });

        $('#frmListProfileAddress').submit(function (e) {

            $('#ProgressLoading').modal('show');

            $('#response-xml pre').html('');
            $('#response-json pre').html('');
            if ($('input[name=rdoRequest]:checked').val() == 'raw-xml') {
                if (!!$('#frmListProfileAddress #xmlString').val()) {
                    $('#frmListProfileAddress #hdnxmlString').val(htmlEscape($('#frmListProfileAddress #xmlString').val()));
                }
            } else {
                $('#frmListProfileAddress #hdnxmlString').val('');
            }

            var $this = $(this);
            var frmValues = $this.serialize();


            $.ajax({
                url: $('#inpEndPoint').val(),
                type: $('input[name=rdoAjaxType]:checked').val(),
                dataType: $("#ddlAjaxType").val(),
                data: frmValues,
                success: function (result) {

                    if (!!result) {

                        if (result.status == "T") {
                            $('#form_Login').submit();
                        }

                        displayResponse(result.rawxml, 'success');

                        var jsonObj = JSON.parse(result.rawjson);
                        var jsonPretty = JSON.stringify(jsonObj, null, '\t');

                        $('#response-json pre').text(jsonPretty);

                    }

                    $('#ProgressLoading').modal('hide');
                    $('#dvResponse').removeClass('hidden');

                },
                error: function (jqXhr) {
                    displayResponse(jqXhr.responseText, 'error');

                    $('#ProgressLoading').modal('hide');
                    $('#dvResponse').removeClass('hidden');

                }
            });

            return false;
        });

        $('#frmListProfilePackage').submit(function (e) {

            $('#ProgressLoading').modal('show');

            $('#response-xml pre').html('');
            $('#response-json pre').html('');
            if ($('input[name=rdoRequest]:checked').val() == 'raw-xml') {
                if (!!$('#frmListProfilePackage #xmlString').val()) {
                    $('#frmListProfilePackage #hdnxmlString').val(htmlEscape($('#frmListProfilePackage #xmlString').val()));
                }
            } else {
                $('#frmListProfilePackage #hdnxmlString').val('');
            }

            var $this = $(this);
            var frmValues = $this.serialize();


            $.ajax({
                url: $('#inpEndPoint').val(),
                type: $('input[name=rdoAjaxType]:checked').val(),
                dataType: $("#ddlAjaxType").val(),
                data: frmValues,
                success: function (result) {

                    if (!!result) {

                        if (result.status == "T") {
                            $('#form_Login').submit();
                        }

                        displayResponse(result.rawxml, 'success');

                        var jsonObj = JSON.parse(result.rawjson);
                        var jsonPretty = JSON.stringify(jsonObj, null, '\t');

                        $('#response-json pre').text(jsonPretty);

                    }

                    $('#ProgressLoading').modal('hide');
                    $('#dvResponse').removeClass('hidden');

                },
                error: function (jqXhr) {
                    displayResponse(jqXhr.responseText, 'error');

                    $('#ProgressLoading').modal('hide');
                    $('#dvResponse').removeClass('hidden');

                }
            });

            return false;
        });


        $('#frmListProfileSplitter').submit(function (e) {

            $('#ProgressLoading').modal('show');

            $('#response-xml pre').html('');
            $('#response-json pre').html('');
            if ($('input[name=rdoRequest]:checked').val() == 'raw-xml') {
                if (!!$('#frmListProfileSplitter #xmlString').val()) {
                    $('#frmListProfileSplitter #hdnxmlString').val(htmlEscape($('#frmListProfileSplitter #xmlString').val()));
                }
            } else {
                $('#frmListProfileSplitter #hdnxmlString').val('');
            }

            var $this = $(this);
            var frmValues = $this.serialize();


            $.ajax({
                url: $('#inpEndPoint').val(),
                type: $('input[name=rdoAjaxType]:checked').val(),
                dataType: $("#ddlAjaxType").val(),
                data: frmValues,
                success: function (result) {

                    if (!!result) {

                        if (result.status == "T") {
                            $('#form_Login').submit();
                        }

                        displayResponse(result.rawxml, 'success');

                        var jsonObj = JSON.parse(result.rawjson);
                        var jsonPretty = JSON.stringify(jsonObj, null, '\t');

                        $('#response-json pre').text(jsonPretty);

                    }

                    $('#ProgressLoading').modal('hide');
                    $('#dvResponse').removeClass('hidden');

                },
                error: function (jqXhr) {
                    displayResponse(jqXhr.responseText, 'error');

                    $('#ProgressLoading').modal('hide');
                    $('#dvResponse').removeClass('hidden');

                }
            });

            return false;
        });

        $('#btnOption').click(function () {
            if ($('.ajaxOption.hidden').length > 0) {
                $('.ajaxOption').removeClass('hidden');
            } else {
                $('.ajaxOption').addClass('hidden');
            }
        });



        $('#btnAddProfile').click(function () {
            $('#installProfile').append(addProfile(indexProfile));
            indexProfile++;
        });

        $('#btnAddContact').click(function () {
            $('#installContact').append(addContact(indexContact));
            indexContact++;
        });

        $('#btnAddAddress').click(function () {
            $('#installAddress').append(addAddress(indexAddress));
            indexAddress++;
        });

        $('#btnAddPackage').click(function () {
            $('#installPackage').append(addPackage(indexPackage));
            indexPackage++;
        });

        $('#btnAddSplitter').click(function () {
            $('#installSplitter').append(addSplitter(indexSplitter));
            indexSplitter++;
        });


        function addProfile(index) {
            var strBuilder = "";
            strBuilder += "<div id='profile_" + index + "' class='form-group'>";
            strBuilder += "<div class='col-md-12'><div class='btn btn-danger' style = 'float: right;' onclick='$(\"#profile_" + index + "\").hide();$(\"#profileStatus_" + index + "\").val(\"D\");' ><i class='fa fa-trash-o' aria-hidden='true'></i></div>";
            strBuilder += "</div>";
            strBuilder += "<p class='clearfix'></p>";
            strBuilder += "<div class='col-md-6'>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>CUST_NON_MOBILE</div><input name='FbbCustProfilesList[" + index + "].Cust_Non_Mobile' class='form-control'/></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>CA_ID</div><input name='FbbCustProfilesList[" + index + "].Ca_Id' class='form-control'/></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>SA_ID</div><input name='FbbCustProfilesList[" + index + "].Sa_Id' class='form-control'/></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>BA_ID</div><input name='FbbCustProfilesList[" + index + "].Ba_Id' class='form-control'/></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>IA_ID</div><input name='FbbCustProfilesList[" + index + "].Ia_id' class='form-control'/></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>CUST_NAME</div><input name='FbbCustProfilesList[" + index + "].Cust_name' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>CUST_SURNAME</div><input name='FbbCustProfilesList[" + index + "].Cust_surname' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>CUST_ID_CARD_TYPE</div><input name='FbbCustProfilesList[" + index + "].Cust_id_card_type' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>CUST_ID_CARD_NUM</div><input name='FbbCustProfilesList[" + index + "].Cust_id_card_num' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>CUST_CATEGORY</div><input name='FbbCustProfilesList[" + index + "].Cust_category' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>CUST_SUB_CATEGORY</div><input name='FbbCustProfilesList[" + index + "].Cust_sub_category' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>CUST_GENDER</div><input name='FbbCustProfilesList[" + index + "].Cust_gender' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>CUST_BIRTHDAY</div><input name='FbbCustProfilesList[" + index + "].Cust_Birthday' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>CUST_NATIONALITY</div><input name='FbbCustProfilesList[" + index + "].Cust_Nationality' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>CUST_TITLE</div><input name='FbbCustProfilesList[" + index + "].Cust_Title' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>ONLINE_NUMBER</div><input name='FbbCustProfilesList[" + index + "].Online_Number' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>CONDO_TYPE</div><input name='FbbCustProfilesList[" + index + "].Condo_Type' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>CONDO_DIRECTION</div><input name='FbbCustProfilesList[" + index + "].Condo_Direction' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>CONDO_LIMIT</div><input name='FbbCustProfilesList[" + index + "].Condo_Limit' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>CONDO_AREA</div><input name='FbbCustProfilesList[" + index + "].Condo_Area' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>HOME_TYPE</div><input name='FbbCustProfilesList[" + index + "].Home_Type' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>HOME_AREA</div><input name='FbbCustProfilesList[" + index + "].Home_Area' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>DOCUMENT_TYPE</div><input name='FbbCustProfilesList[" + index + "].Document_Type' class='form-control' /></div>";
            strBuilder += "</div><div class='col-md-6'>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>CVR_ID</div><input name='FbbCustProfilesList[" + index + "].Cvr_Id' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>PORT_ID</div><input name='FbbCustProfilesList[" + index + "].Port_Id' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>ORDER_NO</div><input name='FbbCustProfilesList[" + index + "].Order_No' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>REMARK</div><input name='FbbCustProfilesList[" + index + "].Remark' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>PORT_ACTIVE_DATE</div><input name='FbbCustProfilesList[" + index + "].Port_Active_Date' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>INSTALLATION_DATE</div><input name='FbbCustProfilesList[" + index + "].Installation_Date' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>RELATE_MOBILE</div><input name='FbbCustProfilesList[" + index + "].Relate_Mobile' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>RELATE_NON_MOBILE</div><input name='FbbCustProfilesList[" + index + "].Relate_Non_Mobile' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>NETWORK_TYPE</div><input name='FbbCustProfilesList[" + index + "].Network_Type' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>SERVICE_DAY</div><input name='FbbCustProfilesList[" + index + "].Service_Day' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>PHONE_FLAG</div><input name='FbbCustProfilesList[" + index + "].Phone_Flag' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>TIME_SLOT</div><input name='FbbCustProfilesList[" + index + "].Time_Slot' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>ACCESS_MODE</div><input name='FbbCustProfilesList[" + index + "].Access_Mode' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>ADDRESS_ID</div><input name='FbbCustProfilesList[" + index + "].Address_Id' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>SERVICE_CODE</div><input name='FbbCustProfilesList[" + index + "].Service_Code' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>VOUCHER_PIN</div><input name='FbbCustProfilesList[" + index + "].gift_voucher' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>EVENT_CODE</div><input name='FbbCustProfilesList[" + index + "].event_code' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>SUB_LOCATION_ID</div><input name='FbbCustProfilesList[" + index + "].sub_location_id' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>SUB_CONTRACT_NAME</div><input name='FbbCustProfilesList[" + index + "].sub_contract_name' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>INSTALL_STAFF_ID</div><input name='FbbCustProfilesList[" + index + "].install_staff_id' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>INSTALL_STAFF_NAME</div><input name='FbbCustProfilesList[" + index + "].install_staff_name' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>SITE_CODE</div><input name='FbbCustProfilesList[" + index + "].site_code' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>FLOW_FLAG</div><input name='FbbCustProfilesList[" + index + "].flow_flag' class='form-control' /></div>";
            strBuilder += "</div><input type='hidden' id='profileStatus_" + index + "' name='FbbCustProfilesList[" + index + "].status' /><p class='clearfix'></p></div>";

            return strBuilder;
        }

        function addContact(index) {
            var strBuilder = "";
            strBuilder += "<div id='contact_" + index + "' class='form-group'>";
            strBuilder += "<div class='col-md-12'><div class='btn btn-danger' style = 'float: right;' onclick='$(\"#contact_" + index + "\").hide();$(\"#contactStatus_" + index + "\").val(\"D\");' ><i class='fa fa-trash-o' aria-hidden='true'></i></div>";
            strBuilder += "</div>";
            strBuilder += "<p class='clearfix'></p>";
            strBuilder += "<div class='col-md-6'>";

            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>ADDRESS_IN_SEQ</div><input name='FbbCustContactList[" + index + "].Address_In_Seq' class='form-control'/></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>CONTACT_FIRST_NAME</div><input name='FbbCustContactList[" + index + "].Contact_First_Name' class='form-control'/></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>CONTACT_LAST_NAME</div><input name='FbbCustContactList[" + index + "].Contact_Last_Name' class='form-control'/></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>CONTACT_HOME_PHONE</div><input name='FbbCustContactList[" + index + "].Contact_Home_Phone' class='form-control'/></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>CONTACT_MOBILE_PHONE1</div><input name='FbbCustContactList[" + index + "].Contact_Mobile_Phone1' class='form-control'/></div>";

            strBuilder += "</div><div class='col-md-6'>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>CONTACT_MOBILE_PHONE2</div><input name='FbbCustContactList[" + index + "].Contact_Mobile_Phone2' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>CONTACT_EMAIL</div><input name='FbbCustContactList[" + index + "].Contact_Email' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>CA_ID</div><input name='FbbCustContactList[" + index + "].ca_id' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>BA_ID</div><input name='FbbCustContactList[" + index + "].ba_id' class='form-control' /></div>";

            strBuilder += "</div><input type='hidden' id='contactStatus_" + index + "'  name='FbbCustContactList[" + index + "].status' /><p class='clearfix'></p></div>";

            return strBuilder;
        }

        function addAddress(index) {
            var strBuilder = "";
            strBuilder += "<div id='address_" + index + "' class='form-group'>";
            strBuilder += "<div class='col-md-12'><div class='btn btn-danger' style = 'float: right;' onclick='$(\"#address_" + index + "\").hide();$(\"#addressStatus_" + index + "\").val(\"D\");' ><i class='fa fa-trash-o' aria-hidden='true'></i></div>";
            strBuilder += "</div>";
            strBuilder += "<p class='clearfix'></p>";
            strBuilder += "<div class='col-md-6'>";

            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>ADDR_TYPE</div><input name='FbbCustAddressList[" + index + "].Addr_Type' class='form-control'/></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>HOUSE_NO</div><input name='FbbCustAddressList[" + index + "].House_No' class='form-control'/></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>SOI</div><input name='FbbCustAddressList[" + index + "].Soi' class='form-control'/></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>MOO</div><input name='FbbCustAddressList[" + index + "].Moo' class='form-control'/></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>MOOBAN</div><input name='FbbCustAddressList[" + index + "].Mooban' class='form-control'/></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>BUILDING_NAME</div><input name='FbbCustAddressList[" + index + "].Building_Name' class='form-control'/></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>FLOOR</div><input name='FbbCustAddressList[" + index + "].Floor' class='form-control'/></div>";

            strBuilder += "</div><div class='col-md-6'>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>ROOM</div><input name='FbbCustAddressList[" + index + "].Room' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>STREET_NAME</div><input name='FbbCustAddressList[" + index + "].Street_Name' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>ZIPCODE_ID</div><input name='FbbCustAddressList[" + index + "].Zipcode_Id' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>ADDRESS_VAT</div><input name='FbbCustAddressList[" + index + "].Address_Vat' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>ADDRESS_IN_SEQ</div><input name='FbbCustAddressList[" + index + "].Address_In_Seq' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>CA_ID</div><input name='FbbCustAddressList[" + index + "].ca_id' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>BA_ID</div><input name='FbbCustAddressList[" + index + "].ba_id' class='form-control' /></div>";

            strBuilder += "</div><input type='hidden' id='addressStatus_" + index + "'  name='FbbCustAddressList[" + index + "].status' /><p class='clearfix'></p></div>";

            return strBuilder;
        }

        function addPackage(index) {
            var strBuilder = "";
            strBuilder += "<div id='package_" + index + "' class='form-group'>";
            strBuilder += "<div class='col-md-12'><div class='btn btn-danger' style = 'float: right;' onclick='$(\"#package_" + index + "\").hide();$(\"#packageStatus_" + index + "\").val(\"D\");' ><i class='fa fa-trash-o' aria-hidden='true'></i></div>";
            strBuilder += "</div>";
            strBuilder += "<p class='clearfix'></p>";
            strBuilder += "<div class='col-md-6'>";

            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>PACKAGE_CODE</div><input name='FbbCustPackageList[" + index + "].Package_Code' class='form-control'/></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>PACKAGE_CLASS</div><input name='FbbCustPackageList[" + index + "].Package_Class' class='form-control'/></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>PACKAGE_TYPE</div><input name='FbbCustPackageList[" + index + "].Package_Type' class='form-control'/></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>PACKAGE_GROUP</div><input name='FbbCustPackageList[" + index + "].Package_Group' class='form-control'/></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>PACKAGE_SUBTYPE</div><input name='FbbCustPackageList[" + index + "].Package_Subtype' class='form-control'/></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>PACKAGE_OWNER</div><input name='FbbCustPackageList[" + index + "].Package_Owner' class='form-control'/></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>TECHNOLOGY</div><input name='FbbCustPackageList[" + index + "].Technology' class='form-control'/></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>PACKAGE_STATUS</div><input name='FbbCustPackageList[" + index + "].package_Status' class='form-control'/></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>PACKAGE_NAME</div><input name='FbbCustPackageList[" + index + "].package_Name' class='form-control'/></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>RECURRING_CHARGE</div><input name='FbbCustPackageList[" + index + "].Recurring_Charge' class='form-control'/></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>PRE_RECURRING_CHARGE</div><input name='FbbCustPackageList[" + index + "].Pre_Recurring_Charge' class='form-control'/></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>RECURRING_DISCOUNT_EXP</div><input name='FbbCustPackageList[" + index + "].Recurring_Discount_Exp' class='form-control'/></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>RECURRING_START_DT</div><input name='FbbCustPackageList[" + index + "].Recurring_Start_Dt' class='form-control'/></div>";

            strBuilder += "</div><div class='col-md-6'>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>RECURRING_END_DT</div><input name='FbbCustPackageList[" + index + "].Recurring_End_Dt' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>INITIATION_CHARGE</div><input name='FbbCustPackageList[" + index + "].Initiation_Charge' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>PRE_INITIATION_CHARGE</div><input name='FbbCustPackageList[" + index + "].Pre_Initiation_Charge' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>PACKAGE_BILL_THA</div><input name='FbbCustPackageList[" + index + "].Package_Bill_Tha' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>DOWNLOAD_SPEED</div><input name='FbbCustPackageList[" + index + "].Download_Speed' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>UPLOAD_SPEED</div><input name='FbbCustPackageList[" + index + "].Upload_Speed' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>HOME_IP</div><input name='FbbCustPackageList[" + index + "].Home_Ip' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>HOME_PORT</div><input name='FbbCustPackageList[" + index + "].Home_Port' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>IDD_FLAG</div><input name='FbbCustPackageList[" + index + "].Idd_Flag' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>FAX_FLAG</div><input name='FbbCustPackageList[" + index + "].Fax_Flag' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>CUST_NON_MOBILE</div><input name='FbbCustPackageList[" + index + "].Cust_Non_Mobile' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>MOBILE_FORWARD</div><input name='FbbCustPackageList[" + index + "].Mobile_Forward' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>CVR_ID</div><input name='FbbCustPackageList[" + index + "].Cvr_Id' class='form-control' /></div>";

            strBuilder += "</div><input type='hidden' id='packageStatus_" + index + "'  name='FbbCustPackageList[" + index + "].status' /><p class='clearfix'></p></div>";

            return strBuilder;
        }

        function addSplitter(index) {
            var strBuilder = "";
            strBuilder += "<div id='splitter_" + index + "' class='form-group'>";
            strBuilder += "<div class='col-md-12'><div class='btn btn-danger' style = 'float: right;' onclick='$(\"#splitter_" + index + "\").hide();$(\"#splitterStatus_" + index + "\").val(\"D\");' ><i class='fa fa-trash-o' aria-hidden='true'></i></div>";
            strBuilder += "</div>";
            strBuilder += "<p class='clearfix'></p>";
            strBuilder += "<div class='col-md-6'>";

            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>CUST_NON_MOBILE</div><input name='FbbCustSplitterList[" + index + "].Cust_Non_Mobile' class='form-control'/></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>SPLITTER_NAME</div><input name='FbbCustSplitterList[" + index + "].Splitter_Name' class='form-control'/></div>";

            strBuilder += "</div><div class='col-md-6'>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>DISTANCE</div><input name='FbbCustSplitterList[" + index + "].Distance' class='form-control' /></div>";
            strBuilder += "<div class='input-group col-md-12'><div class='input-group-addon' style='width: 220px; text-align: left;'>DISTANCE_TYPE</div><input name='FbbCustSplitterList[" + index + "].Distance_Type' class='form-control' /></div>";

            strBuilder += "</div><input type='hidden' id='splitterStatus_" + index + "'  name='FbbCustSplitterList[" + index + "].status' /><p class='clearfix'></p></div>";

            return strBuilder;
        }
        function displayResponse(responseData, typeData) {

            if (typeData == 'error') {
                $('#response-success').addClass('hidden');
                $('#response-error').removeClass('hidden');
                getIframeDocument(document.getElementById('ifr')).body.innerHTML = responseData;

            } else {
                $('#response-success').removeClass('hidden');
                $('#response-error').addClass('hidden');
              
                var nearToBottom = 100;

                if ($(window).scrollTop() + $(window).height() > 
                    $(document).height() - nearToBottom) { 
                    $('#response-xml pre').text(responseData);
                } 
            
                if ($(window).scrollTop() + $(window).height() >= 
    $('.CONTAINER').offset().top + $('.CONTAINER').height() ) { 
                    $('#response-xml pre').text(responseData);
                }
                //$("#response-xml").slice(0, 10).show(); // select the first ten
                //$("#load").click(function (e) { // click event for load more
                //    e.preventDefault();
                //    $("div:hidden").slice(0, 10).show(); // select next 10 hidden divs and show them
                //    if ($("div:hidden").length == 0) { // check if any hidden divs still exist
                //        alert("No more divs"); // alert if there are none left
                //    }
                //});

            }
        }


        //$('#').val();

    });

</script>
