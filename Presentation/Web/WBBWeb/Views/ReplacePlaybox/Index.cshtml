@using System.Collections.Generic;
@using WBBEntity.PanelModels;
@model WBBEntity.PanelModels.ReplacePlayboxModel
@{

    var languagePage = "";

        languagePage = Session[WBBWeb.Extension.WebConstants.SessionKeys.CurrentUICulture].ToString();

        Layout = null;

        string HEADER_SCREEN = "";
        string WORDING_SCREEN_01 = "";
        string WORDING_SCREEN_02 = "";
        string WORDING_SCREEN_03 = "";
        string WORDING_SCREEN_04 = "";
        string WORDING_SCREEN_05 = "";
        string L_WORDING_TAB = "";
        string L_FIELD_INTERNET_NO = "";
        string L_ID_CARD_TYPE = "";
        string L_FIELD_ID_CARD_NUMBER = "";
        string B_NEXT_STEP = "";
        string B_CONFIRM_CONFIRM = "";
        string L_FOOTER_01 = "";
        string L_FOOTER_02 = "";
        string L_FOOTER_03 = "";
        string L_ERROR_LOGIN_01 = "";
        string L_ERROR_LOGIN_02 = "";
        string CONFIG_TYPE_PRODUCT = "";
        string L_CHECK_BOX = "";
        string FBBREPLACE_MESSAGE_ERROR = "";

        string L_TITLE_WEB = "";
        
        if (ViewBag.FBBREPLACE != null)
        {
            var FBBREPLACE = (List<LovScreenValueModel>)ViewBag.FBBREPLACE;

            HEADER_SCREEN = FBBREPLACE.Any(c => c.Name == "HEADER_SCREEN") ? FBBREPLACE.FirstOrDefault(c => c.Name == "HEADER_SCREEN").DisplayValue : "";
            WORDING_SCREEN_01 = FBBREPLACE.Any(c => c.Name == "WORDING_SCREEN_01") ? FBBREPLACE.FirstOrDefault(c => c.Name == "WORDING_SCREEN_01").DisplayValue : "";
            WORDING_SCREEN_02 = FBBREPLACE.Any(c => c.Name == "WORDING_SCREEN_02") ? FBBREPLACE.FirstOrDefault(c => c.Name == "WORDING_SCREEN_02").DisplayValue : "";
            WORDING_SCREEN_03 = FBBREPLACE.Any(c => c.Name == "WORDING_SCREEN_03") ? FBBREPLACE.FirstOrDefault(c => c.Name == "WORDING_SCREEN_03").DisplayValue : "";
            WORDING_SCREEN_04 = FBBREPLACE.Any(c => c.Name == "WORDING_SCREEN_04") ? FBBREPLACE.FirstOrDefault(c => c.Name == "WORDING_SCREEN_04").DisplayValue : "";
            WORDING_SCREEN_05 = FBBREPLACE.Any(c => c.Name == "WORDING_SCREEN_05") ? FBBREPLACE.FirstOrDefault(c => c.Name == "WORDING_SCREEN_05").DisplayValue : "";
            L_WORDING_TAB = FBBREPLACE.Any(c => c.Name == "L_WORDING_TAB") ? FBBREPLACE.FirstOrDefault(c => c.Name == "L_WORDING_TAB").DisplayValue : "";
            L_FIELD_INTERNET_NO = FBBREPLACE.Any(c => c.Name == "L_FIELD_INTERNET_NO") ? FBBREPLACE.FirstOrDefault(c => c.Name == "L_FIELD_INTERNET_NO").DisplayValue : "";
            L_ID_CARD_TYPE = FBBREPLACE.Any(c => c.Name == "L_ID_CARD_TYPE") ? FBBREPLACE.FirstOrDefault(c => c.Name == "L_ID_CARD_TYPE").DisplayValue : "";
            L_FIELD_ID_CARD_NUMBER = FBBREPLACE.Any(c => c.Name == "L_FIELD_ID_CARD_NUMBER") ? FBBREPLACE.FirstOrDefault(c => c.Name == "L_FIELD_ID_CARD_NUMBER").DisplayValue : "";
            B_NEXT_STEP = FBBREPLACE.Any(c => c.Name == "B_NEXT_STEP") ? FBBREPLACE.FirstOrDefault(c => c.Name == "B_NEXT_STEP").DisplayValue : "";
            B_CONFIRM_CONFIRM = FBBREPLACE.Any(c => c.Name == "B_CONFIRM_CONFIRM") ? FBBREPLACE.FirstOrDefault(c => c.Name == "B_CONFIRM_CONFIRM").DisplayValue : "";
            L_FOOTER_01 = FBBREPLACE.Any(c => c.Name == "L_FOOTER_01") ? FBBREPLACE.FirstOrDefault(c => c.Name == "L_FOOTER_01").DisplayValue : "";
            L_FOOTER_02 = FBBREPLACE.Any(c => c.Name == "L_FOOTER_02") ? FBBREPLACE.FirstOrDefault(c => c.Name == "L_FOOTER_02").DisplayValue : "";
            L_FOOTER_03 = FBBREPLACE.Any(c => c.Name == "L_FOOTER_03") ? FBBREPLACE.FirstOrDefault(c => c.Name == "L_FOOTER_03").DisplayValue : "";
            L_ERROR_LOGIN_01 = FBBREPLACE.Any(c => c.Name == "L_ERROR_LOGIN_01") ? FBBREPLACE.FirstOrDefault(c => c.Name == "L_ERROR_LOGIN_01").DisplayValue : "";
            L_ERROR_LOGIN_02 = FBBREPLACE.Any(c => c.Name == "L_ERROR_LOGIN_02") ? FBBREPLACE.FirstOrDefault(c => c.Name == "L_ERROR_LOGIN_02").DisplayValue : "";
            CONFIG_TYPE_PRODUCT = FBBREPLACE.Any(c => c.Name == "CONFIG_TYPE_PRODUCT") ? FBBREPLACE.FirstOrDefault(c => c.Name == "CONFIG_TYPE_PRODUCT").DisplayValue : "";
            L_CHECK_BOX = FBBREPLACE.Any(c => c.Name == "L_CHECK_BOX") ? FBBREPLACE.FirstOrDefault(c => c.Name == "L_CHECK_BOX").DisplayValue : "";
            FBBREPLACE_MESSAGE_ERROR = FBBREPLACE.Any(c => c.Name == "FBBREPLACE_MESSAGE_ERROR") ? FBBREPLACE.FirstOrDefault(c => c.Name == "FBBREPLACE_MESSAGE_ERROR").DisplayValue : "";
            L_TITLE_WEB = FBBREPLACE.Any(c => c.Name == "L_TITLE_WEB") ? FBBREPLACE.FirstOrDefault(c => c.Name == "L_TITLE_WEB").DisplayValue : "";
        }

        string FBB_Con_Length_ID_Card_Number_STA_LET = "";
        string FBB_Con_Length_ID_Card_Number_ROY_LET = "";
        string FBB_Con_Length_ID_Card_Number_EMB_LET = "";
        string FBB_Con_Length_ID_Card_Number_CERT_FOUND = "";
        string FBB_Con_Length_ID_Card_Number_TAX_ID = "";
        string FBB_Con_Length_ID_Card_Number_PASSPORT = "";
        string FBB_Con_Length_ID_Card_Number_GOV_LET = "";
        string FBB_Con_LengthIDCardNumberHILL_CARD = "";
        string FBB_Con_LengthIDCardNumberID_CARD = "";
        string FBB_Con_LengthIDCardNumberIMM_CARD = "";
        string FBB_Con_LengthIDCardNumberMONK_CERT = "";
        string FBB_Con_Input_CERT_FOUND = "";
        string FBB_Con_Input_EMB_LET = "";
        string FBB_Con_Input_HILL_CARD = "";
        string FBB_Con_Input_ID_CARD = "";
        string FBB_Con_Input_IMM_CARD = "";
        string FBB_Con_Input_MONK_CERT = "";
        string FBB_Con_Input_PASSPORT = "";
        string FBB_Con_Input_ROY_LET = "";
        string FBB_Con_Input_STA_LET = "";
        string FBB_Con_Input_TAX_ID = "";
        string FBB_Con_Input_GOV_LET = "";

        if (ViewBag.FbbConstant != null)
        {
            var FbbConstant = (List<FbbConstantModel>)ViewBag.FbbConstant;
            FBB_Con_LengthIDCardNumberHILL_CARD = FbbConstant.Any(f => f.Field == "Length ID Card Number HILL_CARD") ? FbbConstant.First(f => f.Field == "Length ID Card Number HILL_CARD").Validation : "";
            FBB_Con_LengthIDCardNumberID_CARD = FbbConstant.Any(f => f.Field == "Length ID Card Number ID_CARD") ? FbbConstant.First(f => f.Field == "Length ID Card Number ID_CARD").Validation : "";
            FBB_Con_LengthIDCardNumberIMM_CARD = FbbConstant.Any(f => f.Field == "Length ID Card Number IMM_CARD") ? FbbConstant.First(f => f.Field == "Length ID Card Number IMM_CARD").Validation : "";
            FBB_Con_LengthIDCardNumberMONK_CERT = FbbConstant.Any(f => f.Field == "Length ID Card Number MONK_CERT") ? FbbConstant.First(f => f.Field == "Length ID Card Number MONK_CERT").Validation : "";
            FBB_Con_Length_ID_Card_Number_STA_LET = FbbConstant.Any(f => f.Field == "Length ID Card Number STA_LET") ? FbbConstant.First(f => f.Field == "Length ID Card Number STA_LET").Validation : "";
            FBB_Con_Length_ID_Card_Number_ROY_LET = FbbConstant.Any(f => f.Field == "Length ID Card Number ROY_LET") ? FbbConstant.First(f => f.Field == "Length ID Card Number ROY_LET").Validation : "";
            FBB_Con_Length_ID_Card_Number_EMB_LET = FbbConstant.Any(f => f.Field == "Length ID Card Number EMB_LET") ? FbbConstant.First(f => f.Field == "Length ID Card Number EMB_LET").Validation : "";
            FBB_Con_Length_ID_Card_Number_CERT_FOUND = FbbConstant.Any(f => f.Field == "Length ID Card Number CERT_FOUND") ? FbbConstant.First(f => f.Field == "Length ID Card Number CERT_FOUND").Validation : "";
            FBB_Con_Length_ID_Card_Number_TAX_ID = FbbConstant.Any(f => f.Field == "Length ID Card Number TAX_ID") ? FbbConstant.First(f => f.Field == "Length ID Card Number TAX_ID").Validation : "";
            FBB_Con_Length_ID_Card_Number_PASSPORT = FbbConstant.Any(f => f.Field == "Length ID Card Number PASSPORT") ? FbbConstant.First(f => f.Field == "Length ID Card Number PASSPORT").Validation : "";
            FBB_Con_Length_ID_Card_Number_GOV_LET = FbbConstant.Any(f => f.Field == "Length ID Card Number GOV LET") ? FbbConstant.First(f => f.Field == "Length ID Card Number GOV LET").Validation : "";
            FBB_Con_Input_CERT_FOUND = FbbConstant.Any(f => f.Field == "Input CERT_FOUND") ? FbbConstant.First(f => f.Field == "Input CERT_FOUND").Validation : "";
            FBB_Con_Input_EMB_LET = FbbConstant.Any(f => f.Field == "Input EMB_LET") ? FbbConstant.First(f => f.Field == "Input EMB_LET").Validation : "";
            FBB_Con_Input_HILL_CARD = FbbConstant.Any(f => f.Field == "Input HILL_CARD") ? FbbConstant.First(f => f.Field == "Input HILL_CARD").Validation : "";
            FBB_Con_Input_ID_CARD = FbbConstant.Any(f => f.Field == "Input ID_CARD") ? FbbConstant.First(f => f.Field == "Input ID_CARD").Validation : "";
            FBB_Con_Input_IMM_CARD = FbbConstant.Any(f => f.Field == "Input IMM_CARD") ? FbbConstant.First(f => f.Field == "Input IMM_CARD").Validation : "";
            FBB_Con_Input_MONK_CERT = FbbConstant.Any(f => f.Field == "Input MONK_CERT") ? FbbConstant.First(f => f.Field == "Input MONK_CERT").Validation : "";
            FBB_Con_Input_PASSPORT = FbbConstant.Any(f => f.Field == "Input PASSPORT") ? FbbConstant.First(f => f.Field == "Input PASSPORT").Validation : "";
            FBB_Con_Input_ROY_LET = FbbConstant.Any(f => f.Field == "Input ROY_LET") ? FbbConstant.First(f => f.Field == "Input ROY_LET").Validation : "";
            FBB_Con_Input_STA_LET = FbbConstant.Any(f => f.Field == "Input STA_LET") ? FbbConstant.First(f => f.Field == "Input STA_LET").Validation : "";
            FBB_Con_Input_TAX_ID = FbbConstant.Any(f => f.Field == "Input TAX_ID") ? FbbConstant.First(f => f.Field == "Input TAX_ID").Validation : "";
            FBB_Con_Input_GOV_LET = FbbConstant.Any(f => f.Field == "Input GOV_LET") ? FbbConstant.First(f => f.Field == "Input GOV_LET").Validation : "";
        }
        
        string Status = "";
        
        if (ViewBag.Status != null)
        {
            Status = ViewBag.Status;
            Status = Status.Replace("|", "<br/>"); 
        }
        
    }
<script>
    (function (w, d, s, l, i) {
        w[l] = w[l] || []; w[l].push({
            'gtm.start':

            new Date().getTime(), event: 'gtm.js'
        }); var f = d.getElementsByTagName(s)[0],

        j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =

        '//www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);

    })(window, document, 'script', 'dataLayer', 'GTM-NS998W');</script>

<!-- End Google Tag Manager -->
<html class="no-js" lang="th">


<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=10,9" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=0" />
    <meta name="date" content="2016-03-12" />
    <meta name="sitecode" content="TH" />

    <title>@L_TITLE_WEB</title>

    <!-- Cahing Browser -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />

    <meta name="description" content="สิทธิพิเศษจากเอไอเอสไฟเบอร์">
    <meta name="KeyWords" content="ais, เอไอเอส, เน็ต, อินเทอร์เน็ต, ไฟเบอร์" />
    <meta name="thumbnail" content="https://www.ais.co.th/fibre_postpaid/share.jpg" />
    <meta name="thumbnail_height" content="110">   <!--Fix ขนาดของความสูง ไว้เท่านี้ ไม่เปลี่ยน-->
    <meta name="thumbnail_width" content="75">  <!--Fix ขนาดของความกว้าง ไว้เท่านี้ ไม่เปลี่ยน-->
    <!-- Facebook Propertie แชร์ Facebook -->
    <meta property="og:title" content="AIS Fibre Broadband ความเร็วสูง 1 Gbps" />
    <meta property="og:description" content="สิทธิพิเศษจากเอไอเอสไฟเบอร์" />
    <meta property="og:image" content="https://www.ais.co.th/fibre_postpaid/share.jpg" />

    <!-- Tweet Propertie แชร์ Tweet -->
    <meta property="tw:description" content="สิทธิพิเศษจากเอไอเอสไฟเบอร์" />

    <!-- Google Plus แชร์  Google -->
    <meta itemprop="name" content="AIS Fibre Broadband ความเร็วสูง 1 Gbps">
    <meta itemprop="description" content="สิทธิพิเศษจากเอไอเอสไฟเบอร์">
    <meta itemprop="image" content="https://www.ais.co.th/fibre_postpaid/share.jpg">

    <link rel="shortcut icon" href="~/favicon.ico" type="image/x-icon">
    
    @Styles.Render("~/bundles/css/2016")
    @Styles.Render("~/Content/Content2016/fibrepostpaid")
    @Styles.Render("~/Content/Content2016/helvetica")
    @Styles.Render("~/bundles/css/2016plugin")
    @Styles.Render("~/Content/css/bootsrapcss")
    @Styles.Render("~/Content/css/typeaheadcss")
    @Styles.Render("~/bundles/css/vendor")
    @Styles.Render("~/bundles/css/responsivefibre")

    @Scripts.Render("~/bundles/js/jquery")
    @Scripts.Render("~/bundles/js/jquerymigrate")
    @Scripts.Render("~/bundles/js/boostrapjs")
    @Scripts.RenderFormat("<script src='{0}' defer></script>", "~/bundles/js/fibrenet")
    @Scripts.RenderFormat("<script src='{0}' defer></script>", "~/bundles/js/wbb")
    @Scripts.RenderFormat("<script src='{0}' defer></script>", "~/bundles/js/typeaheadjs")
    @Scripts.RenderFormat("<script src='{0}' defer></script>", "~/bundles/js/responsivefibrejs")

    <style>
        .i-hidden {
            display: none;
        }

        .btnP1, .btnP1:hover, .btnP2 {
            background-color: #8dc63f;
            color: #fff;
        }
    .btnP1:hover {
            cursor: not-allowed;
        }

    .btnP2:hover {
            background-color: #000;
            color: #fff;
        }

        .btnP3, .btnP3:hover {
            color: #fff !important;
        }

        .btnP3 {
            background-color: #ccc;
        }

            .btnP3:hover {
                background-color: #aaa;
                text-decoration: none;
            }

        fieldset {
            border: 2px solid #83ad47;
            -webkit-border-radius: 5px;
            border-radius: 5px;
            -khtml-border-radius: 5px;
            -moz-border-radius: 5px;
        }

        #tbl-popup {
            width: 100%;
        }

        .btnmodal {
            padding: 10px 15px;
            background-color: #58AA0C;
            color: #fff !important;
        }

            .btnmodal:hover {
                padding: 10px 15px;
                background-color: #4a831c;
                color: #fff;
                text-decoration: none;
            }

        .modal-dialog-center {
            margin-top: 10%;
        }

        .btn1 {
            background-color: #8dc63f;
            color: #fff;
        }

            .btn1:hover {
                background-color: #8dc63f;
                color: #fff;
                cursor: not-allowed;
            }

        .btn2 {
            background-color: #8dc63f;
            color: #fff;
        }

            .btn2:hover {
                background-color: black;
                color: #fff;
            }

        .btn3 {
            background-color: #ccc;
            color: #fff !important;
        }

            .btn3:hover {
                background-color: #aaa;
                color: #fff !important;
                text-decoration: none;
            }
    </style>
    <style>
        .subheader-th {
            font-size: 34px;
            color: #000000;
            font-family: 'db_helvethaicaais_x55_regular';
            padding-right: 100px;
            background: url(../Content/Content2016/images/postpaid/speedeffect.png) right center no-repeat;
            max-width: 405px;
            margin-top: 30px;
        }

            .subheader-th span {
                color: #8dc63f;
            }

        .subheader-en {
            font-size: 34px;
            color: #000000;
            font-family: 'db_helvethaicaais_x55_regular';
            padding-right: 100px;
            background: url(../Content/Content2016/images/postpaid/speedeffect.png) right center no-repeat;
            max-width: 405px;
            margin-top: 30px;
        }

            .subheader-en span {
                color: #8dc63f;
            }


            #ais_topbar .topbar_ribbon {
                padding-left: 10px;
                float: left;
                height: 60px;
            }

        #ribbonking {
            width: 100%;
            height: 60px;
            background: url("/Images/bg1366.jpg") no-repeat center;
            background-color: #000;
        }

        #ribbonking_wrapper {
            height: 60px;
            margin: 0 auto;
            max-width: 1140px;
        }

    </style>
</head>
<body>
    <div id="ais_topbar">
        @*<div id="ribbonking">
	        <div id="ribbonking_wrapper">
    	        <div class="topbar_ribbon"><img src="~/Images/iconribbon.png" alt="ais logo"></div>
            </div>
        </div>*@
        @if (Session[WBBWeb.Extension.WebConstants.SessionKeys.CurrentUICulture].ToString() == "1")
        {
            @Html.Partial("_MenuTH")
        }
        else
        {
            @Html.Partial("_MenuEN")
        }

    </div>
    <div id="fibre_container">
        <form id="MainForm" method="post" action="/ReplacePlaybox/ReplacePlaybox">
            <div id="container">
                <!--  Put Content Here เริ่มต้นเนื้อหา  -->

                <div id="box1_holder">
                    <div class="panel_ais paddingmedium">
                        <div class="row_ais">
                            <p class="clearfix"></p>
                            <p class="clearfix"></p>
                            <div class="col-xs-12 col-sm-12 col-md-12" style="max-width:1500px;">
                                <div class="col-xs-12" style="text-align: right;">
                                    <a id="btnTh" href="~/WBB/ChangeCurrentCulture?culture=2" onclick="sessionStorage.setItem('detectedIE', '');">
                                        <img src="~/Content/Content2016/images/lang_th.png" alt="" border="0" />
                                    </a>
                                    <a id="btnEn" href="~/WBB/ChangeCurrentCulture?culture=1" class="i-hidden" onclick="sessionStorage.setItem('detectedIE', '');">
                                        <img src="~/Content/Content2016/images/lang_en.png" alt="" border="0" />
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div class="row_ais">
                            <div class="column large-12">
                                <div class="fibrelogo"><img src="~/Content/images/postpaid/fibre_logo.png" alt="" /></div>
                                <div class="welcometext">@HEADER_SCREEN</div>
                            </div>
                        </div>
                        <div class="row_ais">
                            <div class="column large-4">
                                <div id="welcome_msg" class="subheader">@WORDING_SCREEN_01 <span>@WORDING_SCREEN_02</span></div>
                                <div class="detailtext">
                                    @WORDING_SCREEN_03<br>
                                    @WORDING_SCREEN_04<br>
                                    @WORDING_SCREEN_05
                                </div>
                            </div>
                        </div>
                        <div class="boxform pay-topspace">
                            <div class="row_ais">
                                <div class="column large-5 medium-6 small-12" id="col-form">
                                    <div class="labeltext">@L_WORDING_TAB</div>
                                    <div class="mobile-number">
                                        <input type="text" class="inputform" id="AisAirNumber" name="AisAirNumber" maxlength="10" placeholder="@L_FIELD_INTERNET_NO" autocomplete="off" />
                                    </div>
                                    <div class="cardtype">
                                        <select id="ID_CARD_NAMEs" onchange="onChangeID_CARD_NAMEs(this);" data-placeholder-option="true"
                                                class="basic" title="@L_ID_CARD_TYPE">
                                        </select>

                                    </div>
                                    <div class="card-number">
                                        <input type="text" class="inputform" id="L_CARD_NOs" maxlength="30" placeholder="@L_FIELD_ID_CARD_NUMBER" autocomplete="off" />
                                    </div>
                                </div>
                                <div class="col-sm-6 col-md-6 i-hidden" id="col-err">

                                    <h1 id="h-failed" style="color: #91908e"></h1>
                                    <h3 id="lb-failed"></h3>
                                    <br />
                                    <br />

                                    <input id="btnerror" onclick="backForm()" class="btn2 btn btn-for-xs" type="button" style="font-size: 20px; border: 0 !important; border-radius: 0 !important; " value="@L_CHECK_BOX" />

                                </div>
                            </div>
                            <div class="row_ais">
                                <div class="column large-5">
                                    <div class="submit-manual" id="div_btn_submit">
                                        <input id="btnhide" class="btn1 btn btn-for-xs" type="button" style="font-size: 20px; border: 0 !important; border-radius: 0 !important; " value="@B_NEXT_STEP" />
                                        <input id="btnCheckProcess" class="btn2 btn btn-for-xs i-hidden" type="button" style="font-size: 20px; border: 0 !important; border-radius: 0 !important; display: none;" value="@B_NEXT_STEP" onclick="checkProcess()" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="boxfootshader">
                        <div class="panel_ais">
                            <div class="row_ais">
                                <div class="column large-8">
                                    <div class="foottext">
                                        <div class="condition-head">@L_FOOTER_01</div>
                                        <ol>
                                            <div class="t_inline">@(Html.Raw(L_FOOTER_02))</div>
                                        </ol>
                                        <ol>
                                            <div class="t_inline">@(Html.Raw(L_FOOTER_03))</div>
                                        </ol>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                </div>

                <div id="box2_holder">

                </div>
                <div id="box3_holder">

                </div>



                <!--  Put Content Here จบเนื้อหา  -->

                <div style="clear:both;"></div>
                <div id="aisfooter">
                    @if (Session[WBBWeb.Extension.WebConstants.SessionKeys.CurrentUICulture].ToString() == "1")
                    {
                        @Html.Partial("_FooterTH")
                    }
                    else
                    {
                        @Html.Partial("_FooterEN")
                    }
                    <div class="footer_content" style="text-align: center;">
                        
                    </div>
                </div>
                <div class="truehits-bg">&nbsp;</div>
                
            </div>
            <input type="hidden" id="LanguagePage" />
        </form>

        <div class="modal fade" id="myModal">
            <div class="modal-dialog modal-dialog-center">
                <div class="modal-content">

                    <div class="modal-header">
                        <button type="button" class="close" onclick="Reload();" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    </div>
                    <div class="modal-body">
                        <div id="LastPopupMessage" style="text-align: center;"></div>
                    </div>
                    <div class="modal-footer">
                        <a href="#" class="btnmodal" onclick="Reload();">@L_CHECK_BOX</a>
                    </div>

                </div>
                <!-- /.modal-content -->
            </div>
            <!-- /.modal-dialog -->
        </div>

        <div id="ProgressIcon" class="modal fade">
            <div class="vertical-alignment-helper">
                <div class="modal-dialog vertical-align-center">
                    <div class="text-center" style="color: white;">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
    @functions{
 public string GetAntiForgeryToken()
 {
 string cookieToken, formToken;
 AntiForgery.GetTokens(null, out cookieToken, out formToken);
 return cookieToken + "," + formToken;
 }
 }
    </script>
    <input type="hidden" id="forgeryToken" value="@GetAntiForgeryToken()" />

    <script>
        $(document).ready(function () {
            $("#col-err").hide();

            ais_interface_setup('mini-menu', 'postpaid', 'th', '', false);
            var language_ = '@languagePage';
            $("#LanguagePage").val(language_);
            changeLanguage();

            $("#lb-failed").html("");

            getCustomerCardTypes();

            ///////////// begin popup ////////////
            var success = '@(Html.Raw(Status))';

            if (success != '') {
                PopupMessage(success);
                $('#myModal').modal('show');
            }

            $("#AisAirNumber").keyup(function () {
                CheckKeyUps("AisAirNumber", "[0-9]");
                checkBeforeProcess();
            });

            $("#L_CARD_NOs").keyup(function () {
                if ($("#ID_CARD_NAMEs :selected").val() == "TAX_ID")
                    CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_TAX_ID");
                else if ($("#ID_CARD_NAMEs :selected").val() == "MONK_CERT")
                    CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_MONK_CERT");
                else if ($("#ID_CARD_NAMEs :selected").val() == "GOV_LET")
                    CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_GOV_LET");
                else if ($("#ID_CARD_NAMEs :selected").val() == "PASSPORT")
                    CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_PASSPORT");
                else if ($("#ID_CARD_NAMEs :selected").val() == "EMB_LET")
                    CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_EMB_LET");
                else if ($("#ID_CARD_NAMEs :selected").val() == "IMM_CARD")
                    CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_IMM_CARD");
                else if ($("#ID_CARD_NAMEs :selected").val() == "STA_LET")
                    CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_STA_LET");
                else if ($("#ID_CARD_NAMEs :selected").val() == "HILL_CARD")
                    CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_HILL_CARD");
                else if ($("#ID_CARD_NAMEs :selected").val() == "CERT_FOUND")
                    CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_CERT_FOUND");
                else if ($("#ID_CARD_NAMEs :selected").val() == "ID_CARD")
                    CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_ID_CARD");
                else if ($("#ID_CARD_NAMEs :selected").val() == "ROY_LET")
                    CheckKeyUps("L_CARD_NOs", "@FBB_Con_Input_ROY_LET");

                checkBeforeProcess();
            });

            setCardMaxlength();

        });

function checkProcess() {
    LockScreen(true, "");
    var nonMobileNumber = $("#AisAirNumber").val();
    var idCard = $("#L_CARD_NOs").val();
    var idCardType = $("#ID_CARD_NAMEs :selected").val();

    $.ajax({
        url: '/ReplacePlaybox/GetContractMobileNo',
        headers: {
            'VerificationToken': $("#forgeryToken").val()
        },
        data: { mobileNo: nonMobileNumber, cardNo: idCard, cardType: idCardType },
        dataType: "json",
        type: 'POST',
        async: false,
        success: function (response) {
            $("#forgeryToken").val("@GetAntiForgeryToken()")
            if (response) {
                if (response.data != "") {
                    if (!replacePlayboxCheckProductMainNotUse()) {
                        if (checkHavePlaybox()) {
                            $("#MainForm").submit();
                        }
                        else {
                            $("#col-form").hide();
                            $("#div_btn_submit").hide();
                            $("#col-err").show();
                            $("#lb-failed").html("@L_ERROR_LOGIN_02");
                                    LockScreen(false);
                                }
                            }
                            else {
                                $("#col-form").hide();
                                $("#div_btn_submit").hide();
                                $("#col-err").show();
                                $("#lb-failed").html("@FBBREPLACE_MESSAGE_ERROR");
                                LockScreen(false);
                            }
                        }
                        else {
                            $("#col-form").hide();
                            $("#div_btn_submit").hide();
                            $("#col-err").show();
                            $("#lb-failed").html("@L_ERROR_LOGIN_01");
                            LockScreen(false);
                        }
                    }
                    else {
                        $("#col-form").hide();
                        $("#div_btn_submit").hide();
                        $("#col-err").show();
                        $("#lb-failed").html("@L_ERROR_LOGIN_01");
                        LockScreen(false);
                    }
                }
            });

        }

        function checkHavePlaybox() {
            var nonMobileNumber = $("#AisAirNumber").val();
            var idCard = $("#L_CARD_NOs").val();
            var checkHavePlaybox = false;
            $.ajax({
                url: '/ReplacePlaybox/CheckHavePlaybox',
                data: { mobileNo: nonMobileNumber, cardNo: idCard },
                dataType: "json",
                type: 'POST',
                async: false,
                success: function (response) {
                    checkHavePlaybox = response.CheckHavePlaybox;
                }
            });
            return checkHavePlaybox;
        }

        function replacePlayboxCheckProductMainNotUse() {
            var nonMobileNumber = $("#AisAirNumber").val();
            var idCard = $("#L_CARD_NOs").val();
            var replacePlayboxCheckProductMainNotUse = false;
            $.ajax({
                url: '/ReplacePlaybox/ReplacePlayboxCheckProductMainNotUse',
                data: { mobileNo: nonMobileNumber, cardNo: idCard },
                dataType: "json",
                type: 'POST',
                async: false,
                success: function (response) {
                    replacePlayboxCheckProductMainNotUse = response.ReplacePlayboxCheckProductMainNotUse;
                }
            });
            return replacePlayboxCheckProductMainNotUse;
        }

        function checkBeforeProcess() {

            var ml = "";
            if ($("#ID_CARD_NAMEs :selected").val() == "TAX_ID")
                ml = "@FBB_Con_Length_ID_Card_Number_TAX_ID";
    else if ($("#ID_CARD_NAMEs :selected").val() == "MONK_CERT")
        ml = "@FBB_Con_LengthIDCardNumberMONK_CERT";
    else if ($("#ID_CARD_NAMEs :selected").val() == "GOV_LET")
        ml = "@FBB_Con_Length_ID_Card_Number_GOV_LET";
        else if ($("#ID_CARD_NAMEs :selected").val() == "PASSPORT")
            ml = "@FBB_Con_Length_ID_Card_Number_PASSPORT";
        else if ($("#ID_CARD_NAMEs :selected").val() == "EMB_LET")
            ml = "@FBB_Con_Length_ID_Card_Number_EMB_LET";
        else if ($("#ID_CARD_NAMEs :selected").val() == "IMM_CARD")
            ml = "@FBB_Con_LengthIDCardNumberIMM_CARD";
        else if ($("#ID_CARD_NAMEs :selected").val() == "STA_LET")
            ml = "@FBB_Con_Length_ID_Card_Number_STA_LET";
        else if ($("#ID_CARD_NAMEs :selected").val() == "HILL_CARD")
            ml = "@FBB_Con_LengthIDCardNumberHILL_CARD";
        else if ($("#ID_CARD_NAMEs :selected").val() == "CERT_FOUND")
            ml = "@FBB_Con_Length_ID_Card_Number_CERT_FOUND";
        else if ($("#ID_CARD_NAMEs :selected").val() == "ID_CARD")
            ml = "@FBB_Con_LengthIDCardNumberID_CARD";
        else if ($("#ID_CARD_NAMEs :selected").val() == "ROY_LET")
            ml = "@FBB_Con_Length_ID_Card_Number_ROY_LET";

    if ((($("#L_CARD_NOs").val() != "" && $("#ID_CARD_NAMEs :selected").val() != "ID_CARD")
        || ($("#L_CARD_NOs").val().length == ml && $("#ID_CARD_NAMEs :selected").val() == "ID_CARD"))
        && $("#AisAirNumber").val().length == 10) {
        $(".btn1").hide();
        $(".btn2").show();
    }
    else {
        $(".btn2").hide();
        $(".btn1").show();
    }
}

function backForm() {
    $("#col-form").show();
    $("#div_btn_submit").show();
    $("#col-err").hide();
    $("#btnCheckProcess").show();
    $("#btnhide").hide();
}

function changeLanguage() {
    if ($("#LanguagePage").val() == "1") {
        $("#btnTh").show();
        $("#btnEn").hide();
    }
    else {
        $("#btnTh").hide();
        $("#btnEn").show();
    }
}

function setCardMaxlength() {
    if ($("#ID_CARD_NAMEs :selected").val() == "TAX_ID")
        $("#L_CARD_NOs").attr("maxlength", "@FBB_Con_Length_ID_Card_Number_TAX_ID");
    else if ($("#ID_CARD_NAMEs :selected").val() == "MONK_CERT")
        $("#L_CARD_NOs").attr("maxlength", "@FBB_Con_LengthIDCardNumberMONK_CERT");
    else if ($("#ID_CARD_NAMEs :selected").val() == "GOV_LET")
        $("#L_CARD_NOs").attr("maxlength", "@FBB_Con_Length_ID_Card_Number_GOV_LET");
    else if ($("#ID_CARD_NAMEs :selected").val() == "PASSPORT")
        $("#L_CARD_NOs").attr("maxlength", "@FBB_Con_Length_ID_Card_Number_PASSPORT");
        else if ($("#ID_CARD_NAMEs :selected").val() == "EMB_LET")
            $("#L_CARD_NOs").attr("maxlength", "@FBB_Con_Length_ID_Card_Number_EMB_LET");
        else if ($("#ID_CARD_NAMEs :selected").val() == "IMM_CARD")
            $("#L_CARD_NOs").attr("maxlength", "@FBB_Con_LengthIDCardNumberIMM_CARD");
        else if ($("#ID_CARD_NAMEs :selected").val() == "STA_LET")
            $("#L_CARD_NOs").attr("maxlength", "@FBB_Con_Length_ID_Card_Number_STA_LET");
        else if ($("#ID_CARD_NAMEs :selected").val() == "HILL_CARD")
            $("#L_CARD_NOs").attr("maxlength", "@FBB_Con_LengthIDCardNumberHILL_CARD");
        else if ($("#ID_CARD_NAMEs :selected").val() == "CERT_FOUND")
            $("#L_CARD_NOs").attr("maxlength", "@FBB_Con_Length_ID_Card_Number_CERT_FOUND");
        else if ($("#ID_CARD_NAMEs :selected").val() == "ID_CARD")
            $("#L_CARD_NOs").attr("maxlength", "@FBB_Con_LengthIDCardNumberID_CARD");
        else if ($("#ID_CARD_NAMEs :selected").val() == "ROY_LET")
            $("#L_CARD_NOs").attr("maxlength", "@FBB_Con_Length_ID_Card_Number_ROY_LET");
}

function onChangeID_CARD_NAMEs(idCardName) {
    $("#L_CARD_NOs").val("");
    $(".btn2").hide();
    $(".btn1").show();
    $.ajax({
        type: "GET",
        url: "/CustomerRegister/GetCustomerSubCat",
        data: { 'idCardName': idCardName.value },
        dataType: "json",
        async: false,
        success: function (data) {
        },
    });

    setCardMaxlength();
}

function CheckKeyUps(id, RexStr) {
    var strKey = $("#" + id).val();
    var strBuilder = "";
    var filter = new RegExp(RexStr);
    for (var i = 0; i < strKey.length; i++) {
        if (filter.test(strKey.substr(i, 1))) {
            strBuilder += strKey.substr(i, 1);
        }
    }
    $("#" + id).val(strBuilder);
}

function getCustomerCardTypes() {
    $('#ID_CARD_NAMEs').empty();

    //GetCustomerCardType
    $.ajax({
        type: "GET",
        url: "/MasterData/GetCustomerCardType",
        data: { 'customerType': "All" },
        dataType: "json",
        async: false,
        success: function (data) {
            var strBuilder = "";
            var flagSelect = false;
            var firstStr = "<option value='' disabled>" + "@L_ID_CARD_TYPE" + "</option>";
            $.each(data, function (i, e) {
                if (e.DefaultValue != undefined)
                    strBuilder += '<option value="' + e.Value + '" selected>' + e.Text + '</option>';
                else
                    strBuilder += '<option value="' + e.Value + '">' + e.Text + '</option>';
            });
            strBuilder = firstStr + strBuilder;

            $('#ID_CARD_NAMEs').append(strBuilder);
            $("#ID_CARD_NAMEs").selectOrDie();


        }
    });
}

function backForm() {
    $("#lb-failed").val("");
    $("#col-form").show();
    $("#div_btn_submit").show();
    $("#col-err").hide();
    $("#btnCheckProcess").show();
    $("#btnhide").hide();
}

function Reload() {
    window.location.href = "/ReplacePlaybox";
}

function PopupMessage(msg) {
    $("#LastPopupMessage").html(msg);
}

function LockScreen(x, txt) {
    if (x) {
        $('#ProgressIcon #txtLoading').html(txt);
        $('#ProgressIcon').modal({
            backdrop: "static",
            keyboard: true,
            show: true
        });
    }
    else {
        $('#ProgressIcon').modal('hide');
    }
}

    </script>
</body>

</html>
